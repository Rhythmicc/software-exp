{"version":3,"sources":["webpack:///./src/views/map/map3d.vue?49fb","webpack:///src/views/map/map3d.vue","webpack:///./src/views/map/map3d.vue?dd9c","webpack:///./src/views/map/map3d.vue","webpack:///./node_modules/core-js/library/modules/_an-instance.js","webpack:///./node_modules/core-js/library/modules/es6.promise.js","webpack:///./node_modules/core-js/library/modules/_invoke.js","webpack:///./node_modules/core-js/library/modules/_is-array-iter.js","webpack:///./node_modules/core-js/library/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/library/modules/_classof.js","webpack:///./node_modules/core-js/library/modules/_task.js","webpack:///./node_modules/core-js/library/modules/es7.promise.try.js","webpack:///./node_modules/core-js/library/modules/_perform.js","webpack:///./node_modules/core-js/library/modules/_set-species.js","webpack:///./node_modules/core-js/library/modules/_iter-detect.js","webpack:///./src/views/map/map3d.vue?8210","webpack:///./node_modules/core-js/library/modules/_redefine-all.js","webpack:///./node_modules/core-js/library/modules/_new-promise-capability.js","webpack:///./node_modules/core-js/library/fn/promise.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/promise.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./src/views/map/map.vue?af49","webpack:///./node_modules/core-js/library/modules/_for-of.js","webpack:///./src/views/map/map.vue?1910","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js","webpack:///src/views/map/map.vue","webpack:///./src/views/map/map.vue?7bac","webpack:///./src/views/map/map.vue","webpack:///./node_modules/core-js/library/modules/_microtask.js","webpack:///./node_modules/core-js/library/modules/_iter-call.js","webpack:///./node_modules/core-js/library/modules/_user-agent.js","webpack:///./node_modules/core-js/library/modules/_promise-resolve.js","webpack:///./node_modules/vue-3d-model/dist/vue-3d-model.umd.js","webpack:///./node_modules/core-js/library/modules/_species-constructor.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","showAddMap","_v","staticClass","staticStyle","maps","handleSelectionChange","scopedSlots","_u","key","fn","scope","$event","showLookView","$index","row","handleDelete","multipleSelection","length","deleteMany","dialogVisible_show","location","zoom","center","rotation","$set","features","drawText","drawOption","mapUrl","slot","model","value","callback","$$v","expression","_l","item","label","getArea","show3DModel","dialogVisible_add","AddMap","addMap","staticRenderFns","component","module","exports","it","Constructor","name","forbiddenField","undefined","TypeError","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","LIBRARY","global","ctx","classof","$export","isObject","aFunction","anInstance","forOf","speciesConstructor","task","set","microtask","newPromiseCapabilityModule","perform","userAgent","promiseResolve","PROMISE","process","versions","v8","$Promise","isNode","empty","newPromiseCapability","f","USE_NATIVE","promise","resolve","FakePromise","constructor","exec","PromiseRejectionEvent","then","indexOf","e","isThenable","notify","isReject","_n","chain","ok","_s","i","run","reaction","result","exited","handler","fail","reject","domain","onHandleUnhandled","enter","exit","call","onUnhandled","console","unhandled","isUnhandled","emit","onunhandledrejection","reason","error","_a","v","onrejectionhandled","$reject","_d","_w","slice","$resolve","wrapper","executor","err","prototype","onFulfilled","onRejected","push","C","G","W","F","Promise","S","r","capability","$$reject","x","iter","all","iterable","values","index","remaining","alreadyCalled","race","args","that","un","apply","Iterators","ITERATOR","ArrayProto","Array","core","P","R","onFinally","isFunction","cof","TAG","ARG","arguments","tryGet","O","T","B","Object","callee","defer","channel","port","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","id","hasOwnProperty","listener","event","data","Function","nextTick","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","appendChild","removeChild","setTimeout","clear","callbackfn","promiseCapability","dP","DESCRIPTORS","SPECIES","KEY","configurable","get","SAFE_CLOSING","riter","from","skipClosing","safe","arr","next","done","hide","target","src","PromiseCapability","$$resolve","getIteratorMethod","runtime","Op","hasOwn","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","obj","arg","type","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","forEach","method","AsyncIterator","record","__await","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","toString","keys","object","reverse","pop","skipTempReset","prev","charAt","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","isArrayIter","anObject","toLength","getIterFn","BREAK","RETURN","entries","step","iterFn","url","m","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","getFileUrl","window","URL","createObjectURL","files","loading","mounted","initMaps","methods","$confirm","confirmButtonText","cancelButtonText","ids","resp","message","val","postRequest","assign","getRequest","macrotask","Observer","MutationObserver","WebKitMutationObserver","head","last","flush","parent","navigator","standalone","toggle","node","document","createTextNode","observe","characterData","ret","root","factory","__WEBPACK_EXTERNAL_MODULE__8bbf__","modules","installedModules","__webpack_require__","moduleId","l","c","d","getter","o","defineProperty","enumerable","t","mode","__esModule","ns","bind","n","property","p","s","FunctionPrototype","FunctionPrototypeToString","nameRE","NAME","match","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","DOMIterables","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","$","has","copyConstructorProperties","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","String","symbolPrototype","symbolToString","native","regexp","symbol","valueOf","string","desc","replace","forced","getOwnPropertySymbols","definePropertyModule","createPropertyDescriptor","store","functionToString","inspectSource","setGlobal","InternalStateModule","getInternalState","enforceInternalState","enforce","TEMPLATE","split","options","unsafe","simple","noTargetGet","source","join","toObject","toAbsoluteIndex","min","Math","copyWithin","start","len","to","end","count","inc","ArrayBufferViewCore","fails","Int8Array","aTypedArray","exportTypedArrayMethod","$toLocaleString","toLocaleString","$slice","TO_LOCALE_STRING_BUG","FORCED","toPrimitive","propertyKey","NATIVE_ARRAY_BUFFER","redefineAll","toInteger","toIndex","IEEE754","getOwnPropertyNames","arrayFill","setToStringTag","setInternalState","ARRAY_BUFFER","DATA_VIEW","PROTOTYPE","WRONG_LENGTH","WRONG_INDEX","NativeArrayBuffer","$ArrayBuffer","$DataView","$DataViewPrototype","ObjectPrototype","RangeError","packIEEE754","pack","unpackIEEE754","unpack","packInt8","number","packInt16","packInt32","unpackInt32","buffer","packFloat32","packFloat64","addGetter","view","isLittleEndian","intIndex","byteLength","bytes","byteOffset","conversion","NaN","ArrayBufferPrototype","j","testView","nativeSetInt8","setInt8","getInt8","setUint8","bufferLength","offset","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","ArrayBuffer","DataView","redefine","flags","TO_STRING","RegExpPrototype","RegExp","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","getOwnPropertyDescriptor","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","sham","isArray","wellKnownSymbol","originalArray","$find","find","predicate","V8_VERSION","METHOD_NAME","array","foo","Boolean","createElement","a","RE","UNSUPPORTED_Y","re","lastIndex","BROKEN_CARET","UNSCOPABLES","ArrayPrototype","TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS","ArrayBufferModule","toOffset","typedArrayFrom","setSpecies","getOwnPropertyDescriptorModule","inheritIfRequired","nativeDefineProperty","nativeGetOwnPropertyDescriptor","round","NATIVE_ARRAY_BUFFER_VIEWS","TYPED_ARRAY_TAG","TypedArray","TypedArrayPrototype","aTypedArrayConstructor","isTypedArray","BYTES_PER_ELEMENT","fromList","list","isArrayBuffer","klass","isTypedArrayIndex","wrappedGetOwnPropertyDescriptor","wrappedDefineProperty","writable","TYPE","CLAMPED","BYTES","CONSTRUCTOR_NAME","GETTER","SETTER","NativeTypedArrayConstructor","TypedArrayConstructor","TypedArrayConstructorPrototype","exported","setter","addElement","dummy","typedArrayOffset","$length","$len","TO_STRING_TAG","$reduce","left","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tag","PrototypeOfArrayIteratorPrototype","arrayIterator","IS_PURE","BUGGY_SAFARI_ITERATORS","returnThis","requireObjectCoercible","argument","$lastIndexOf","searchElement","bitmap","SHARED","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","$fill","ceil","floor","nativeArrayBufferSlice","INCORRECT_SLICE","proto","first","fin","viewSource","viewTarget","getBuiltIn","toIndexedObject","createMethod","IS_INCLUDES","$this","el","fromIndex","includes","test","aPossiblePrototype","CORRECT_SETTER","regexpFlags","stickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","NPCG_INCLUDED","PATCH","str","reCopy","sticky","charsAdded","strCopy","multiline","input","trim","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","third","radix","maxCode","digits","code","charCodeAt","parseInt","NumberWrapper","IndexedObject","IS_RIGHT","argumentsLength","memo","right","uid","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","isPrototypeOf","opera","TYPED_ARRAY_TAG_REQIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","isView","ARRAY","exportTypedArrayStaticMethod","arraySpeciesCreate","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","specificCreate","boundFunction","map","filter","some","every","findIndex","WeakMap","propertyIsEnumerable","ENTRIES","returnMethod","IteratorConstructor","version","copyright","path","wrappedWellKnownSymbolModule","activeXDocument","defineProperties","enumBugKeys","hiddenKeys","documentCreateElement","sharedKey","GT","LT","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","contentWindow","open","NullProtoObject","ActiveXObject","Properties","variable","namespace","isArrayIteratorMethod","mapfn","mapping","NewTarget","NewTargetPrototype","NATIVE_SYMBOL","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","ACCESSORS","0","1","nativeSlice","max","k","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","getCurrentScript","currentScript","pageSource","inlineScriptSourceRegExp","inlineScriptSource","ieStackRegExp","ffStackRegExp","stackDetails","stack","scriptLocation","line","currentLocation","href","hash","scripts","getElementsByTagName","documentElement","outerHTML","readyState","innerHTML","toPositiveInteger","shared","postfix","random","$sort","sort","comparefn","$some","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","concat","nativeLastIndexOf","lastIndexOf","NEGATIVE_ZERO","CORRECT_PROTOTYPE_GETTER","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$every","begin","beginIndex","defineIterator","STRING_ITERATOR","getterFor","iterated","point","__webpack_exports__","install","model_obj","model_fbx","model_three","ModelJson","model_stl","model_ply","model_collada","ModelDae","model_gltf","external_commonjs_vue_commonjs2_vue_root_Vue_","external_commonjs_vue_commonjs2_vue_root_Vue_default","Number","EPSILON","pow","isInteger","isFinite","sign","output","nextKey","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipmapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipmapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","KeepStencilOp","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","EventDispatcher","_listeners","listeners","hasEventListener","removeEventListener","listenerArray","splice","dispatchEvent","_lut","MathUtils","DEG2RAD","PI","RAD2DEG","generateUUID","d0","d1","d2","d3","uuid","toUpperCase","clamp","euclideanModulo","mapLinear","a1","a2","b1","b2","lerp","y","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","b","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","warn","Vector2","Matrix3","elements","_canvas","isVector2","setScalar","scalar","setX","setY","setComponent","getComponent","clone","copy","add","w","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","divide","divideScalar","applyMatrix3","clampScalar","minVal","maxVal","clampLength","roundToZero","negate","dot","cross","lengthSq","sqrt","manhattanLength","abs","normalize","angle","atan2","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","setLength","alpha","lerpVectors","v1","v2","equals","fromArray","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","identity","me","extractBasis","xAxis","yAxis","zAxis","setFromMatrix3Column","setFromMatrix4","multiplyMatrices","premultiply","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","g","h","getInverse","matrix","throwOnDegenerate","t11","t12","t13","det","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","tx","ty","sx","sy","cx","cy","scale","rotate","theta","translate","ImageUtils","getDataURL","image","HTMLCanvasElement","canvas","createElementNS","width","height","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","onUpdate","Vector4","z","WebGLRenderTarget","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","WebGLMultisampleRenderTarget","samples","Quaternion","_x","_y","_z","isTexture","updateMatrix","toJSON","meta","isRootObject","textures","metadata","images","dispose","transformUv","uv","isVector4","setZ","setW","applyMatrix4","setAxisAngleFromQuaternion","acos","setAxisAngleFromRotationMatrix","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","isWebGLRenderTarget","setSize","isWebGLMultisampleRenderTarget","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","tDir","multiplyQuaternionsFlat","_onChangeCallback","isQuaternion","quaternion","setFromEuler","euler","update","isEuler","c1","c3","s1","s3","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","trace","setFromUnitVectors","vFrom","vTo","EPS","angleTo","rotateTowards","inverse","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","_onChange","_vector","Vector3","_quaternion","isVector3","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","applyNormalMatrix","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","denominator","projectOnPlane","planeNormal","reflect","normal","dz","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","setFromMatrixColumn","sz","_v1","_m1","Matrix4","_zero","_one","isMatrix4","n14","n24","n34","n41","n42","n43","n44","copyPosition","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","lookAt","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","position","x2","y2","z2","wx","wy","wz","decompose","invSX","invSY","invSZ","makePerspective","top","bottom","near","far","makeOrthographic","_matrix","_quaternion$1","Euler","DefaultOrder","_order","Layers","mask","RotationOrders","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","enable","enableAll","disable","disableAll","layers","_object3DId","_v1$1","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","children","DefaultUp","onRotationChange","onQuaternionChange","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","Scene","background","environment","fog","overrideMaterial","autoUpdate","__THREE_DEVTOOLS__","CustomEvent","detail","isObject3D","onBeforeRender","onAfterRender","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","vector","worldToLocal","updateWorldMatrix","isCamera","isLight","remove","attach","getObjectById","getObjectByProperty","getObjectByName","child","getWorldPosition","updateMatrixWorld","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","force","updateParents","updateChildren","geometries","materials","shapes","serialize","library","element","JSON","stringify","isInstancedMesh","instanceMatrix","isMesh","isLine","isPoints","geometry","parameters","shape","material","uuids","extractFromCache","cache","recursive","parse","isScene","_points","_vector$1","_box","Box3","_v0","_v1$2","_v2","_f0","_f1","_f2","_center","_extents","_triangleNormal","_testAxis","Infinity","satForAxes","axes","v0","extents","p0","p1","p2","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","il","expandByPoint","setFromCenterAndSize","size","halfSize","setFromObject","expandByObject","box","isEmpty","getCenter","getSize","expandByVector","expandByScalar","boundingBox","computeBoundingBox","union","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","distanceToPoint","clampedPoint","getBoundingSphere","intersect","_box$1","Sphere","optionalCenter","maxRadiusSq","radiusSum","deltaLengthSq","getBoundingBox","_vector$2","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","origin","direction","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","_vector1","_vector2","_normalMatrix","Plane","isPlane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","delta","intersectsLine","startSign","endSign","coplanarPoint","optionalNormalMatrix","referencePoint","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","u","getUV","p3","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","i2","getMidpoint","getPlane","d4","vc","d5","d6","vb","va","_colorKeywords","_hslA","_hslB","Color","setRGB","hue2rgb","SRGBToLinear","LinearToSRGB","Face3","color","materialIndex","vertexNormals","isColor","vertexColors","setHex","setStyle","hex","setHSL","handleAlpha","parseFloat","components","setColorName","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","addColors","color1","color2","lerpHSL","normalized","NAMES","materialId","Material","blending","side","flatShading","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","MeshBasicMaterial","lightMap","lightMapIntensity","aoMap","aoMapIntensity","specularMap","alphaMap","envMap","combine","reflectivity","refractionRatio","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","skinning","morphTargets","setValues","isMaterial","onBeforeCompile","customProgramCacheKey","newValue","currentValue","isRoot","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","matcap","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","morphNormals","srcPlanes","dstPlanes","isMeshBasicMaterial","_vector$3","_vector2$1","BufferAttribute","itemSize","usage","updateRange","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","DirectGeometry","vertices","normals","colors","uvs","uvs2","groups","skinWeights","skinIndices","boundingSphere","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","arrayMax","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZ","setXYZW","onUpload","computeGroups","group","faces","face","fromGeometry","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","_bufferGeometryId","_m1$2","_obj","_offset","_box$2","_boxMorphTargets","_vector$4","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","drawRange","isBufferGeometry","getIndex","setIndex","getAttribute","setAttribute","deleteAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","positions","lineDistances","isGeometry","updateFromObject","direct","__directGeometry","elementsNeedUpdate","lineDistancesNeedUpdate","lineDistance","fromDirectGeometry","morphAttributesPosition","morphAttribute","jl","computeFaceNormals","computeVertexNormals","positionAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","vA","vB","vC","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","indices","array2","geometry2","newAttribute","morphArray","attributeData","hasMorphAttributes","attributeArray","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","checkIntersection","raycaster","checkBufferGeometryIntersection","morphPosition","morphInfluences","morphTargetInfluences","influence","isSkinnedMesh","boneTransform","intersection","morphTargetDictionary","ml","intersects","groupMaterial","faceIndex","isMultiMaterial","fl","faceMaterial","fvA","fvB","fvC","uvs_f","_geometryId","_m1$3","_obj$1","_offset$1","Geometry","vertex","fromBufferGeometry","addFace","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","faceVertexUvs2","uvsCopy","kl","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","_id","materialIndexSort","uvs1","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","enabled","srcVertexNormal","destVertexNormal","BoxGeometry","depth","widthSegments","heightSegments","depthSegments","super","BoxBufferGeometry","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","Camera","PerspectiveCamera","fov","aspect","focus","filmGauge","filmOffset","updateProjectionMatrix","isShaderMaterial","uniform","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","three_module_fov","three_module_aspect","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","currentXrEnabled","xr","currentRenderTarget","getRenderTarget","setRenderTarget","stencil","WebGLCubeRenderTarget","DataTexture","fromEquirectangularTexture","shader","tEquirect","isDataTexture","_sphere$1","_vector$5","Frustum","p4","p5","planes","frustum","setFromProjectionMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","UniformsLib","common","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","createBuffer","bufferType","bindBuffer","bufferData","bytesPerElement","updateBuffer","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","WebGLBackground","objects","clearColor","planeMesh","boxMesh","clearAlpha","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","toneMapping","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","stride","vertexAttribIPointer","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_maxInstanceCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","resetGlobalState","numPlanes","numIntersection","projectPlanes","skipTransform","nPlanes","dstArray","flatSize","viewMatrix","i4","init","enableLocalClipping","beginShadows","endShadows","setState","fromCache","nGlobal","lGlobal","clippingState","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","workInfluences","objectInfluences","influences","MAX_SAFE_INTEGER","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","CubeTexture","DataTexture2DArray","wrapR","DataTexture3D","physical","transparency","isDataTexture2DArray","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","unit","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","StructuredUniform","seq","updateCache","RePathPart","addUniform","container","uniformObject","parseUniform","pathLength","matchEnd","idIsIndex","subscript","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","WebGLShader","createShader","shaderSource","compileShader","setOptional","upload","seqWithValue","programIdCount","addLineNumbers","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","isRawShaderMaterial","shaderName","instancing","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","outputEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","cachedUniforms","deleteShader","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getShaderObject","shaderobject","allocateBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","nClipPlanes","nClipIntersection","isMeshStandardMaterial","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","onSceneDispose","cameras","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","pointShadow","vector3","matrix42","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","2","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizonal","HORIZONAL_PASS","fullScreenTri","fullScreenMesh","VSMPass","mapPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","renderObject","shadowCamera","depthMaterial","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","enabledCapabilities","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","useProgram","setFlipSided","setCullFace","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendEquationSeparate","blendFuncSeparate","blendFunc","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","onTextureDispose","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","updateVideoTexture","__version","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","convert","glInternalFormat","setTextureParameters","mipmap","mipmapImage","setTextureCubeDynamic","wrappingToGL","filterToGL","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","createFramebuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","Group","WebXRController","_targetRay","_grip","WebXRManager","framebufferScaleFactor","referenceSpace","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","onSessionEvent","controller","inputSource","onSessionEnd","disconnect","setFramebuffer","animation","isPresenting","onRequestReferenceSpace","updateInputSources","inputSources","removed","added","getController","getTargetRaySpace","getControllerGrip","getGripSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","getContextAttributes","xrCompatible","makeXRCompatible","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","depthNear","depthFar","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","transform","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","refreshUniformsCommon","isMeshLambertMaterial","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","domElement","sortObjects","toneMappingExposure","_this","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","_emptyScene","getTargetPixelRatio","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","isWebGL1Renderer","shift","initGLContext","preventDefault","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","programInfo","renderObjectImmediate","renderBufferImmediate","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","setTransparentSort","bits","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","uvArray","colorArray","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","compiled","material2","initMaterial","projectObject","isGroup","isLOD","isImmediateRenderObject","renderObjects","isArrayCamera","camera2","materialProperties","lightsStateVersion","programCacheKey","programChange","numSupportedMorphTargets","numSupportedMorphNormals","needsLights","materialNeedsLights","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","ltc_1","LTC_1","ltc_2","LTC_2","opaqueObjects","transparentObjects","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","compressedTexSubImage2D","WebGL1Renderer","FogExp2","Fog","InterleavedBuffer","inputPose","gripPose","targetRay","grip","getPose","targetRaySpace","gripSpace","isInterleavedBuffer","arrayBuffers","_uuid","ib","_vector$6","InterleavedBufferAttribute","interleavedBuffer","_geometry","interleavedBuffers","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","_currentLevel","levels","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","addLevel","getCurrentLevel","getObjectForDistance","calculateInverses","normalizeSkinWeights","skinWeight","basePosition","skinIndex","weight","boneIndex","boneInverses","_offsetMatrix","_identityMatrix","Skeleton","Bone","bone","isBone","getBoneByName","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","linecap","linejoin","getMatrixAt","raycastTimes","instanceId","setMatrixAt","_start","_end","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","threshold","params","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","_start$1","_end$1","LineSegments","LineLoop","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","CompressedTexture","CanvasTexture","DepthTexture","WireframeGeometry","edge","edges","edge1","edge2","ol","ParametricGeometry","func","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","PolyhedronGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","applyRadius","generateUVs","azimuth","inclination","correctUVs","correctSeam","centroid","uvA","uvB","uvC","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","generateBufferData","generateSegment","generateIndices","getPointAt","N","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","calculatePositionOnCurve","cu","su","quOverP","cs","TorusGeometry","arc","TorusBufferGeometry","HAVE_CURRENT_DATA","isCanvasTexture","Earcut","triangulate","holeIndices","dim","invSize","hasHoles","outerLen","outerNode","linkedList","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","three_module_area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","three_module_Node","an","bp","sum","ShapeUtils","area","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","splineTube","binormal","position2","extrudeByPath","getSpacedPoints","shapePoints","extractPoints","hl","ahole","scalePt2","pt","vec","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","buildLidFaces","layer","f3","buildSideFaces","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextGeometry","text","TextBufferGeometry","font","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","grid","verticesRow","uOffset","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","radiusStep","segment","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","inverseSegments","base","n1","n2","ShapeGeometry","ShapeBufferGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","toJSON$1","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","slope","indexRow","sinTheta","cosTheta","generateCap","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","freeze","RawShaderMaterial","Materials","AnimationUtils","arraySlice","convertArray","forceClone","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","referenceValue","startIndex","interpolant","createInterpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","LinearInterpolant","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","getTrackTypeForValueTypeName","typeName","toLowerCase","parseKeyframeTrack","json","trackType","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","offset1","offset0","weight1","weight0","getInterpolation","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","jsonTracks","frameTime","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","DefaultLoadingManager","Loader","manager","crossOrigin","resourcePath","requestHeader","load","loadAsync","setCrossOrigin","setPath","setResourcePath","setRequestHeader","FileLoader","AnimationLoader","CompressedTextureLoader","DataTextureLoader","ImageLoader","CubeTextureLoader","TextureLoader","Curve","arcLengthDivisions","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","ArcCurve","aRadius","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","t2","calc","t3","cached","dataUriRegex","dataUriRegexResult","request","mimeType","isBase64","decodeURIComponent","atob","response","responseType","Blob","parser","DOMParser","parseFromString","XMLHttpRequest","callbacks","withCredentials","overrideMimeType","header","send","setResponseType","setWithCredentials","setMimeType","loaded","loadTexture","texDatas","mipmapCount","isCubemap","texData","onImageLoad","onImageError","substr","urls","isJPEG","search","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","fromJSON","isEllipseCurve","twoPi","deltaAngle","samePoints","isArcCurve","pz","CatmullRomCurve3","curveType","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","CubicBezierCurve3","LineCurve","LineCurve3","QuadraticBezierCurve","QuadraticBezierCurve3","SplineCurve","isCatmullRomCurve3","intPoint","isCubicBezierCurve","isCubicBezierCurve3","isLineCurve","isLineCurve3","isQuadraticBezierCurve","isQuadraticBezierCurve3","isSplineCurve","Curves","CurvePath","curves","autoClose","Path","currentPoint","Shape","Light","HemisphereLight","LightShadow","_frameExtents","_viewportCount","_viewports","SpotLightShadow","SpotLight","power","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","DirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","LightProbe","MaterialLoader","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","getPointsHoles","holesPts","_lightPositionWorld","_lookTarget","shadowMatrix","projScreenMatrix","lookTarget","lightPositionWorld","viewportIndex","isSpotLightShadow","scaleW","scaleH","isDirectionalLightShadow","isSphericalHarmonics3","zero","getAt","coeff","getIrradianceAt","addScaledSH","getBasisAt","shBasis","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","TYPED_ARRAYS","arrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","geometryShapes","bufferGeometryLoader","details","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","ShapePath","subPaths","currentPath","Font","createPaths","chars","line_height","yMax","yMin","underlineThickness","paths","char","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","isImageBitmapLoader","setOptions","res","blob","imageBitmap","catch","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","tmpPoints","tmpHoles","newShapeHoles","mainIdx","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","substring","AudioContext","webkitAudioContext","AudioLoader","HemisphereLightProbe","sky","ground","AmbientLightProbe","bufferCopy","decodeAudioData","audioBuffer","isHemisphereLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","Clock","autoStart","oldTime","elapsedTime","running","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","performance","Date","getElapsedTime","getDelta","newTime","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","filters","removeFilter","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setMediaStreamSource","mediaStream","createMediaStreamSource","setBuffer","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","pause","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","setLoopStart","setLoopEnd","getVolume","setVolume","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","panner","createPanner","panningModel","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","getFrequencyData","getByteFrequencyData","getAverageFrequency","accumulate","accuIndex","currentWeight","mix","accumulateAdditive","weightAdditive","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","endIndex","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","rootNode","findNode","nodeName","AnimationObjectGroup","nCachedObjects_","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","AnimationMixer","_root","_initMemoryManager","_accuIndex","Uniform","InstancedInterleavedBuffer","Raycaster","PointCloud","ascSort","intersectObject","Spherical","Cylindrical","firstValidIndex","bindings","unbind","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","resolvedProperty","SetterByBindingTypeAndVersioning","targetObject","dest","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","indicesByUUID","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","setTime","timeInSeconds","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","setFromCamera","coords","intersectObjects","other","makeSafe","setFromCartesianCoords","_vector$7","Box2","_startP","_startEnd","Line3","ImmediateRenderObject","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","_vector$8","SpotLightHelper","cone","coneLength","coneWidth","_vector$9","_boneMatrix","_matrixWorldInv","getBoneList","boneList","SkeletonHelper","PointLightHelper","sphereSize","isSkeletonHelper","_vector$a","_color1","three_module_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1$5","_v2$3","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$b","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$3","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","AxesHelper","setColor","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","_flatCamera","_lodPlanes","_sizeLods","_sigmas","_createPlanes","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_pingPongRenderTarget","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_compileMaterial","_isLDR","lod","sizeLod","sigma","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","_createRenderTarget","cubeUVRenderTarget","_setViewport","weights","poleAxis","shaderMaterial","_getCommonVertexShader","_getEncodings","_getEquirectShader","_getCubemapShader","fromScene","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","fromEquirectangular","equirectangular","_fromTexture","fromCubemap","cubemap","compileCubemapShader","compileEquirectangularShader","outputTarget","_textureToCubeUV","tmpMesh","cubeCamera","upSign","forwardSign","maxComponent","fExp","log2","col","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","exp","outputSize","ClosedSplineCurve3","SplineCurve3","Spline","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","initFromArray","getControlPointsArray","reparametrizeByArcLength","setColors","Handlers","setTexturePath","isIntersectionBox","isIntersectionSphere","setFromMatrix","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","applyMatrix","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","removeAttribute","maxInstancedCount","linePrecision","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","toneMappingWhitePoint","renderReverseSided","renderSingleSided","audioLoader","getData","updateCubeMap","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","revision","OBJLoader_OBJLoader","object_pattern","material_library_pattern","material_use_pattern","map_use_pattern","ParserState","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","hasNormalIndices","hasUVIndices","smooth","startMaterial","libraries","previous","inherited","mtllib","groupEnd","cloned","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","parseNormalIndex","parseUVIndex","addVertexPoint","addVertexLine","addNormal","addFaceNormal","addColor","addDefaultUV","addUVLine","ua","ub","uc","na","nb","nc","vLen","ia","ic","nLen","uvLen","addPointGeometry","vi","addLineGeometry","uvi","OBJLoader","setMaterials","lineFirstChar","lineLength","trimLeft","lineData","vertexData","faceVertices","vertexParts","lineParts","lineVertices","lineUVs","li","llen","pointData","hasVertexColors","createdMaterials","miLen","sourceMaterial","materialHash","materialPoints","materialLine","MTLLoader","setMaterialOptions","materialOptions","delimiter_pattern","materialsInfo","pos","ss","materialCreator","MaterialCreator","setManager","baseUrl","materialsArray","nameLookup","converted","mn","covmat","prop","save","lprop","normalizeRGB","ignoreZeroRGBs","preload","materialName","getAsArray","createMaterial_","setMapForType","mapType","texParams","getTextureParams","invertTrProperty","matParams","items","DDSLoader","LoadingManager_LoadingManager","loadMipmaps","dds","DDS_MAGIC","DDSD_MIPMAPCOUNT","DDSCAPS2_CUBEMAP","DDSCAPS2_CUBEMAP_POSITIVEX","DDSCAPS2_CUBEMAP_NEGATIVEX","DDSCAPS2_CUBEMAP_POSITIVEY","DDSCAPS2_CUBEMAP_NEGATIVEY","DDSCAPS2_CUBEMAP_POSITIVEZ","DDSCAPS2_CUBEMAP_NEGATIVEZ","DDPF_FOURCC","fourCCToInt32","int32ToFourCC","loadARGBMip","dataOffset","dataLength","srcBuffer","byteArray","blockBytes","FOURCC_DXT1","FOURCC_DXT3","FOURCC_DXT5","FOURCC_ETC1","headerLengthInt","off_magic","off_size","off_flags","off_height","off_width","off_mipmapCount","off_pfFlags","off_pfFourCC","off_RGBBitCount","off_RBitMask","off_GBitMask","off_BBitMask","off_ABitMask","off_caps2","fourCC","isRGBAUncompressed","caps2","util_box","toIndexed","rawUvs","rawNormals","rawPositions","hasUV","hasNormal","faceNormalss","faceUvs","tmpIndices","n0","uv0","exists","normalBuffer","positionBuffer","i3","_i","_i2","ref","_t","_arrayLikeToArray","arr2","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","minLen","_nonIterableSpread","_toConsumableArray","OrbitControls","minDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","UP","BOTTOM","mouseButtons","touches","ONE","TWO","target0","position0","zoom0","getPolarAngle","spherical","getAzimuthalAngle","saveState","changeEvent","STATE","NONE","quat","quatInverse","lastPosition","lastQuaternion","twoPI","rotateLeft","getAutoRotationAngle","sphericalDelta","panOffset","zoomChanged","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","ownerDocument","onMouseMove","onMouseUp","onKeyDown","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","keyCode","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","handleTouchEnd","mouseAction","button","ctrlKey","metaKey","shiftKey","stopPropagation","tabIndex","MapControls","suportWebGL","WebGLRenderingContext","DEFAULT_GL_OPTIONS","model_mixinvue_type_script_lang_js_","props","default","cameraRotation","cameraUp","cameraLookAt","backgroundColor","backgroundAlpha","controlsOptions","glOptions","mouse","controls","allLights","clock","reqId","computed","hasListener","events","_events","$el","offsetWidth","offsetHeight","$refs","onClick","onResize","beforeDestroy","watch","deep","updateLights","updateRenderer","updateControls","$nextTick","intersected","pick","$emit","rect","getBoundingClientRect","updateModel","devicePixelRatio","_this$scene","_this2","_color","_intensity","_color2","_intensity2","_intensity3","_this3","getObject","addObject","xhr","src_model_mixinvue_type_script_lang_js_","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","existing","beforeCreate","model_mixin","model_objvue_type_script_lang_js_manager","model_obj_render","model_obj_staticRenderFns","model_objvue_type_script_lang_js_","mixins","smoothing","mtlPath","mtl","objLoader","mtlLoader","mtlSrc","src_model_objvue_type_script_lang_js_","model_obj_component","mod","inflate_module_min_l","aa","inflate_module_min_r","execScript","inflate_module_min_t","inflate_module_min_v","POSITIVE_INFINITY","inflate_module_min_w","bufferSize","resize","A","inflate_module_min_C","ba","ca","D","U","M","V","E","inflate_module_min_P","fa","H","I","J","K","L","da","ea","inflate_module_min_N","ga","Q","verify","Y","Z","X","ADAPTIVE","BLOCK","Zlib","NURBSUtils","findSpan","calcBasisFunctions","span","saved","rv","lv","calcBSplinePoint","Nj","wNj","calcBasisFunctionDerivatives","zeroArr","ders","ndu","rk","pk","j1","j2","calcBSplineDerivatives","nd","du","CK","nders","Pw","calcKoverI","nom","calcRationalCurveDerivatives","Pders","Aders","wders","calcNURBSDerivatives","calcSurfacePoint","uspan","vspan","Nu","Nv","Sw","NURBSCurve","degree","knots","controlPoints","startKnot","endKnot","hpoint","model_fbx_render","model_fbx_staticRenderFns","model_three_render","model_three_staticRenderFns","FBXLoader_FBXLoader","fbxTree","connections","sceneGraph","FBXLoader","FBXTreeParser","textureLoader","GeometryParser","AnimationParser","TextParser","BinaryParser","BinaryReader","littleEndian","dv","FBXTree","isFbxFormatBinary","CORRECT","convertArrayBufferToString","isFbxFormatASCII","cursor","read","getFbxVersion","versionRegExp","convertFBXTimeToSeconds","FBXBuffer","FBXText","parseConnections","deformers","parseDeformers","geometryMap","parseScene","connectionMap","rawConnections","Connections","rawConnection","fromID","toID","relationship","parents","parentRelationship","ID","childRelationship","blobs","Objects","videoNodes","Video","nodeID","videoNode","RelativeFilename","Filename","arrayBufferContent","Content","base64Content","parseImage","filename","fileName","textureMap","textureNodes","parseTexture","textureNode","attrName","wrapModeU","WrapModeU","wrapModeV","WrapModeV","valueU","valueV","Scaling","FileName","materialMap","materialNodes","parseMaterial","materialNode","ShadingModel","parseParameters","BumpFactor","Diffuse","DiffuseColor","DisplacementFactor","Emissive","EmissiveColor","EmissiveFactor","Opacity","ReflectionFactor","Shininess","Specular","SpecularColor","LayeredTexture","skeletons","DeformerNodes","Deformer","deformerNode","relationships","attrType","parseSkeleton","geometryID","rawTargets","parseMorphTargets","deformerNodes","rawBones","boneNode","rawBone","transformLink","TransformLink","Indexes","Weights","rawMorphTargets","morphTargetNode","rawMorphTarget","initialWeight","DeformPercent","fullWeights","FullWeights","geoID","modelMap","parseModels","modelNodes","Model","modelNode","setLookAtProperties","parentConnections","connection","bindSkeleton","createAmbientLight","setupMorphMaterials","transformData","parentMatrixWorld","generateTransform","buildSkeleton","createCamera","createLight","createMesh","createCurve","getTransformData","subBone","cameraAttribute","attr","NodeAttribute","CameraProjectionType","nearClippingPlane","NearPlane","farClippingPlane","FarPlane","innerWidth","innerHeight","AspectWidth","AspectHeight","FieldOfView","FocalLength","lightAttribute","LightType","Intensity","CastLightOnObject","FarAttenuationEnd","EnableFarAttenuation","InnerAngle","OuterAngle","CastShadows","FBX_Deformer","reduce","geo","inheritType","InheritType","getEulerOrder","RotationOrder","translation","Lcl_Translation","preRotation","PreRotation","Lcl_Rotation","postRotation","PostRotation","Lcl_Scaling","scalingOffset","ScalingOffset","scalingPivot","ScalingPivot","rotationOffset","RotationOffset","rotationPivot","RotationPivot","lookAtTarget","bindMatrices","parsePoseNodes","geoRelationships","geoConnParent","BindPoseNode","Pose","poseNodes","PoseNode","poseNode","Node","Matrix","GlobalSettings","ambientColor","AmbientColor","setupMorphMaterial","matUuid","sharedMat","clonedMat","geoNodes","parseGeometry","geoNode","parseMeshGeometry","parseNurbsGeometry","GeometricTranslation","GeometricRotation","GeometricScaling","genGeometry","preTransform","geoInfo","parseGeoNode","genBuffers","weightsIndices","vertexWeights","mappingType","prevMaterialIndex","currentIndex","lastGroup","addMorphTargets","vertexPositions","Vertices","vertexIndices","PolygonVertexIndex","LayerElementColor","parseVertexColors","LayerElementMaterial","parseMaterialIndices","LayerElementNormal","parseNormals","LayerElementUV","parseUVs","weightTable","polygonIndex","faceLength","displayedWeightsWarning","facePositionIndexes","faceColors","faceUVs","faceWeights","faceWeightIndices","vertexIndex","polygonVertexIndex","endOfFace","weightIndices","wt","wIndex","Weight","weightIndex","comparedWeight","comparedWeightIndex","comparedWeightArray","genFace","parentGeo","parentGeoNode","rawTarget","morphGeoNode","genMorphGeometry","morphPositionsSparse","morphPositions","morphIndex","morphGeoInfo","morphBuffers","NormalNode","MappingInformationType","referenceType","ReferenceInformationType","Normals","indexBuffer","NormalIndex","NormalsIndex","dataSize","UVNode","UV","UVIndex","ColorNode","Colors","ColorIndex","MaterialNode","materialIndexBuffer","materialIndices","Order","KnotVector","pointsValues","Form","animationClips","rawClips","parseClips","rawClip","addClip","AnimationCurve","curveNodesMap","parseAnimationCurveNodes","parseAnimationCurves","layersMap","parseAnimationLayers","parseAnimStacks","rawCurveNodes","AnimationCurveNode","rawCurveNode","curveNode","rawCurves","animationCurve","KeyTime","KeyValueFloat","animationCurveID","animationCurveRelationship","rawLayers","AnimationLayer","layerCurveNodes","modelID","rawModel","modelName","initialPosition","initialRotation","initialScale","morph","deformerID","morpherID","morphName","rawStacks","AnimationStack","rawTracks","generateTracks","positionTrack","generateVectorTrack","rotationTrack","generateRotationTrack","scaleTrack","morphTrack","generateMorphTrack","initialValue","getTimesForAllAxes","getKeyframeTrackValues","interpolateRotations","quaternionValues","morphNum","elem","prevValue","xIndex","yIndex","zIndex","xValue","yValue","zValue","valuesSpan","absoluteSpan","numSubIntervals","nextValue","initialTime","timeSpan","interval","nextTime","interpolatedTimes","interpolatedValues","inject","getPrevNode","nodeStack","currentIndent","getCurrentNode","getCurrentProp","currentProp","pushStack","popStack","setCurrentProp","currentPropName","allNodes","matchComment","matchEmpty","matchBeginning","matchProperty","parseNodeBegin","parseNodeProperty","parseNodePropertyContinued","nodeAttrs","parseNodeAttr","currentNode","contentLine","propName","propValue","parentName","connProps","rest","append","parseNumberArray","parseNodeSpecialProperty","innerPropName","innerPropType1","innerPropType2","innerPropFlag","innerPropValue","reader","skip","endOfContent","parseNode","getOffset","endOffset","getUint64","numProperties","nameLen","getString","propertyList","parseProperty","singleProperty","subNode","parseSubNode","getBoolean","getInt64","arrayLength","compressedLength","getBooleanArray","getFloat64Array","getFloat32Array","getInt32Array","getInt64Array","inflate","Inflate","reader2","decompress","nullByte","dataArray","infoObject","tempEuler","tempVec","lTranslationM","lPreRotationM","lRotationM","lPostRotationM","lScalingM","lScalingPivotM","lScalingOffsetM","lRotationOffsetM","lRotationPivotM","lParentGX","lGlobalT","lLRM","lParentGRM","lParentTM","lParentGSM","lGlobalRS","lParentLSM_inv","lParentGSM_noLocal","lRotationPivotM_inv","lScalingPivotM_inv","lTransform","lLocalTWithAllPivotAndOffsetInfo","lGlobalTranslation","enums","model_fbxvue_type_script_lang_js_","src_model_fbxvue_type_script_lang_js_","model_fbx_component","model_threevue_type_script_lang_js_","src_model_threevue_type_script_lang_js_","model_three_component","STLLoader","isBinary","expect","face_size","n_faces","off","matchDataViewAt","query","parseBinary","defaultR","defaultG","defaultB","normalX","normalY","normalZ","packedColor","vertexstart","componentIdx","parseASCII","patternSolid","patternFace","faceCounter","patternFloat","patternVertex","patternNormal","startVertex","endVertex","vertexCountPerFace","normalCountPerFace","ensureString","ensureBinary","array_buffer","binData","model_stl_render","model_stl_staticRenderFns","model_stlvue_type_script_lang_js_","src_model_stlvue_type_script_lang_js_","model_stl_component","PLYLoader","propertyNameMapping","setPropertyNameMapping","parseHeader","patternHeader","headerText","headerLength","currentElement","lineType","lineValues","comments","make_ply_element_property","propertValues","countType","itemType","parseASCIINumber","parseASCIIElement","patternBody","body","currentElementCount","handleElement","postProcess","elementName","nx","ny","nz","red","green","blue","vertex_indices","vertex_index","texcoord","binaryRead","dataview","little_endian","binaryReadElement","model_ply_render","model_ply_staticRenderFns","model_plyvue_type_script_lang_js_","src_model_plyvue_type_script_lang_js_","model_ply_component","TGALoader","tgaCheckHeader","image_type","TGA_TYPE_INDEXED","TGA_TYPE_RLE_INDEXED","colormap_length","colormap_size","colormap_type","TGA_TYPE_RGB","TGA_TYPE_GREY","TGA_TYPE_RLE_RGB","TGA_TYPE_RLE_GREY","TGA_TYPE_NO_DATA","pixel_size","tgaParse","use_rle","use_pal","pixel_data","pixel_total","palettes","tgaGetImageData8bits","imageData","y_start","y_step","y_end","x_start","x_step","x_end","colormap","tgaGetImageData16bits","tgaGetImageData24bits","tgaGetImageData32bits","tgaGetImageDataGrey8bits","tgaGetImageDataGrey16bits","getTgaRGBA","palette","TGA_ORIGIN_MASK","TGA_ORIGIN_SHIFT","TGA_ORIGIN_UL","TGA_ORIGIN_BL","TGA_ORIGIN_UR","TGA_ORIGIN_BR","use_grey","id_length","colormap_index","useOffscreen","createImageData","transferToImageBitmap","ColladaLoader","xml","childNodes","parseStrings","parseFloats","parseInts","parseId","generateId","parseAsset","parseAssetUnit","upAxis","parseAssetUpAxis","hasAttribute","textContent","parseLibrary","libraryName","buildLibrary","builder","build","getBuild","sources","samplers","channels","hasChildren","nodeType","parseSource","parseAnimationSampler","parseAnimationChannel","inputs","semantic","sid","arraySyntax","memberSyntax","member","sampler","buildAnimation","inputId","INPUT","outputId","OUTPUT","outputSource","buildAnimationChannel","createKeyframeTracks","getAnimation","nodes","object3D","getNode","transforms","defaultMatrix","keyframes","prepareAnimationData","ascending","transformAnimationData","positionData","quaternionData","scaleData","keyframe","defaultValue","createMissingKeyframes","getPrev","getNext","interpolate","parseAnimationClip","buildAnimationClip","animationTracks","getAnimationClip","parseController","skin","parseSkin","bindShapeMatrix","joints","parseJoints","parseVertexWeights","vcount","buildController","buildSkin","BONE_LIMIT","jointOffset","JOINT","weightOffset","WEIGHT","jointSource","inverseSource","INV_BIND_MATRIX","jointCount","vertexSkinData","weightId","descending","boneInverse","init_from","buildImage","getImage","parseEffect","profile","parseEffectProfileCOMMON","effects","surfaces","parseEffectNewparam","technique","parseEffectTechnique","extra","parseEffectExtra","parseEffectSurface","parseEffectSampler","parseEffectParameters","parseEffectParameter","parseEffectParameterTexture","parseEffectParameterTextureExtra","parseEffectParameterTextureExtraTechnique","parseEffectExtraTechnique","buildEffect","getEffect","getTextureLoader","tgaLoader","buildMaterial","effect","textureObject","surface","wrapU","wrapV","offsetU","offsetV","repeatU","repeatV","parameter","float","double_sided","parseCamera","optics","parseCameraOptics","parseCameraTechnique","parseCameraParameters","buildCamera","yfov","aspect_ratio","znear","zfar","ymag","xmag","aspectRatio","parseLight","parseLightTechnique","parseLightParameters","falloffAngle","buildLight","getLight","primitives","parseGeometryVertices","parseGeometryPrimitive","accessor","primitive","inputname","groupPrimitives","checkUVCoordinates","uvsNeedsFix","buildGeometry","groupedPrimitives","primitiveType","buildGeometryType","materialKeys","prevLength","buildGeometryData","pushVector","sourceStride","parseKinematicsModel","links","parseKinematicsTechniqueCommon","kinematicsModels","buildKinematicsModel","getKinematicsModel","parseKinematicsJoint","parseKinematicsLink","parseKinematicsJointParameter","limits","static","zeroPosition","middlePosition","attachments","parseKinematicsAttachment","parseKinematicsTransform","joint","parsePhysicsModel","rigidBodies","parsePhysicsRigidBody","physicsModels","parsePhysicsTechniqueCommon","inertia","mass","parseKinematicsScene","bindJointAxis","parseKinematicsBindJointAxis","kinematicsScenes","param","tmpJointIndex","jointIndex","buildKinematicsScene","getKinematicsScene","setupKinematics","kinematicsModelId","kinematicsSceneId","visualSceneId","visualScenes","kinematicsModel","kinematicsScene","visualScene","getVisualScene","jointMap","targetElement","collada","querySelector","parentVisualElement","parentElement","m0","kinematics","getJointValue","jointData","setJointValue","visualElement","visualElementName","buildTransformList","prepareNodes","instanceCameras","instanceControllers","instanceLights","instanceGeometries","instanceNodes","parseNodeInstance","hasNode","instances","instance","boneData","sortedBoneData","buildBoneHierarchy","hasVisualScene","processed","buildNode","instanceCamera","newObjects","buildObjects","instanceLight","fallbackMaterial","resolveMaterialBinding","instanceMaterials","parseVisualScene","buildVisualScene","setupAnimations","parserErrorToText","parserError","TEXT_NODE","errorText","errorElement","asset","model_collada_render","model_collada_staticRenderFns","model_gltf_render","model_gltf_staticRenderFns","model_colladavue_type_script_lang_js_","src_model_colladavue_type_script_lang_js_","model_collada_component","GLTFLoader_GLTFLoader","GLTFLoader","dracoLoader","ddsLoader","pluginCallbacks","register","GLTFMaterialsClearcoatExtension","GLTFRegistry","removeAll","_onError","gltf","setDRACOLoader","setDDSLoader","unregister","plugins","magic","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","GLTFParser","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_LIGHTS_PUNCTUAL","GLTFLightsExtension","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","KHR_MATERIALS_CLEARCOAT","lightDefs","loadLight","lightIndex","lightNode","lightDef","innerConeAngle","outerConeAngle","getMaterialType","extendParams","materialParams","materialDef","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","extendMaterialParams","clearcoatFactor","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughnessTexture","clearcoatNormalTexture","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","headerView","chunkView","chunkIndex","chunkLength","chunkType","contentArray","GLTFMeshStandardSGMaterial","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","glossiness","glossinessMap","_extraUniforms","uniformName","USE_GLOSSINESSMAP","USE_ROUGHNESSMAP","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","GLTFCubicSplineInterpolant","decodePrimitive","bufferViewIndex","bufferView","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","getDependency","decodeDracoFile","extendTexture","texCoord","stride2","stride3","td","m1","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","5120","5121","5122","5123","5125","5126","WEBGL_FILTERS","9728","9729","9984","9985","9986","9987","WEBGL_WRAPPINGS","33071","33648","10497","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","MIME_TYPE_FORMATS","createDefaultMaterial","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","targets","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","meshDef","targetNames","createPrimitiveKey","primitiveDef","geometryKey","dracoExtension","createAttributesKey","attributesKey","associations","primitiveCache","computeBounds","maxDisplacement","addPrimitiveAttributes","assignAttributeAccessor","accessorIndex","gltfAttributeName","toTrianglesDrawMode","numberOfTriangles","newIndices","newGeometry","markDefs","getDependencies","dependencies","scenes","nodeDefs","skinDefs","skins","meshDefs","meshes","meshReferences","meshUses","skinLength","nodeIndex","nodeLength","nodeDef","_invokeOne","_invokeAll","dependency","loadScene","loadNode","ext","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","uri","bufferViewDef","bufferViews","sparse","pendingBufferViews","elementBytes","itemBytes","byteStride","ibSlice","ibCacheKey","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","textureIndex","webkitURL","textureDef","textureExtensions","sourceURI","isObjectURL","revokeObjectURL","mapName","mapDef","gltfReference","assignFinalMaterial","useVertexTangents","useVertexColors","useFlatShading","useMorphTargets","useMorphNormals","pointsMaterial","lineMaterial","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","loadGeometries","createDracoPrimitive","geometryPromise","meshIndex","cameraIndex","cameraDef","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","inputAccessors","outputAccessors","inputAccessor","outputAccessor","targetName","outputArray","scaled","isInterpolantFactoryMethodGLTFCubicSpline","instanceNum","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","jointNode","sceneIndex","sceneDef","nodeIds","model_gltfvue_type_script_lang_js_","src_model_gltfvue_type_script_lang_js_","model_gltf_component","extend","Vue","src_0","ModelObj","ModelFbx","ModelThree","ModelStl","ModelPly","ModelCollada","ModelGltf","checkCorrectnessOfIteration","INCORRECT_ITERATION","ignoreCase","dotAll","unicode","createIteratorConstructor","IteratorsCore","KEYS","VALUES","Iterable","DEFAULT","IS_SET","CurrentIteratorPrototype","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","defineWellKnownSymbol","PREFERRED_STRING","addToUnscopables","ARRAY_ITERATOR","kind","Arguments","$reduceRight","propertyIsEnumerableModule","IE8_DOM_DEFINE","$findIndex","$copyWithin","EXISTS","ArrayIteratorMethods","ArrayValues","internalObjectKeys","$map","middle","createTypedArrayConstructor","NATIVE_WEAK_MAP","objectHas","wmget","wmhas","wmset","nativeGetOwnPropertyNames","windowNames","getWindowNames","whitespaces","whitespace","ltrim","rtrim","Uint8ArrayPrototype","arrayToString","arrayJoin","IS_NOT_ARRAY_METHOD","ownKeys","$indexOf","ArrayIterators","arrayValues","arrayKeys","arrayEntries","nativeTypedArrayIterator","CORRECT_ITER_NAME","typedArrayValues","check","globalThis","objectKeys","nativeAssign","alphabet","chr","Attributes","$filter","mantissaLength","exponent","mantissa","exponentLength","eMax","eBias","rt","nBits","integer","callWithSafeIterationClosing","arrayLike","replacement","feature","detection","POLYFILL","NATIVE","names","defaultConstructor","nativePropertyIsEnumerable","NASHORN_BUG","$includes","nativeObjectCreate","getOwnPropertyNamesExternal","HIDDEN","SYMBOL","TO_PRIMITIVE","$stringify","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","isSymbol","$defineProperty","$defineProperties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","replacer","space","$replacer","called","iteratorWithReturn","SKIP_CLOSING","ITERATION_SUPPORT","CONVERT_TO_STRING","second","codeAt","$join","separator","endPos","thrower","argument0","argument1"],"mappings":"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","file":"js/chunk-333eb4fe.79e4ee3f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.showAddMap}},[_vm._v(\"添加\")])],1),_c('div',{staticClass:\"mapMain\"},[_c('el-table',{staticStyle:{\"width\":\"70%\"},attrs:{\"data\":_vm.maps,\"border\":\"\",\"size\":\"small\",\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"地区\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"keyword\",\"width\":\"150\",\"label\":\"坐标\"}}),_c('el-table-column',{attrs:{\"prop\":\"createDate\",\"width\":\"150\",\"label\":\"创建时间\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showLookView(scope.$index, scope.row)}}},[_vm._v(\"预览 \")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index,scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-button',{staticStyle:{\"margin-top\":\"8px\"},attrs:{\"type\":\"danger\",\"size\":\"small\",\"disabled\":_vm.multipleSelection.length==0},on:{\"click\":_vm.deleteMany}},[_vm._v(\"批量删除\")])],1),_c('el-dialog',{attrs:{\"title\":\"地图展示\",\"visible\":_vm.dialogVisible_show,\"width\":\"80%\"},on:{\"update:visible\":function($event){_vm.dialogVisible_show=$event}}},[_c('el-container',[_c('el-aside',{staticStyle:{\"width\":\"50%\"}},[_c('vl-map',{staticStyle:{\"height\":\"800px\"},attrs:{\"load-tiles-while-animating\":true,\"load-tiles-while-interacting\":true,\"data-projection\":\"EPSG:4326\"}},[_c('vl-view',{attrs:{\"zoom\":_vm.location.zoom,\"center\":_vm.location.center,\"rotation\":_vm.location.rotation},on:{\"update:zoom\":function($event){return _vm.$set(_vm.location, \"zoom\", $event)},\"update:center\":function($event){return _vm.$set(_vm.location, \"center\", $event)},\"update:rotation\":function($event){return _vm.$set(_vm.location, \"rotation\", $event)}}}),_c('vl-layer-vector',{attrs:{\"z-index\":1}},[_c('vl-source-vector',{attrs:{\"features\":_vm.location.features,\"ident\":\"the-source\"},on:{\"update:features\":function($event){return _vm.$set(_vm.location, \"features\", $event)}}}),_c('vl-style-box',[_c('vl-style-stroke',{attrs:{\"color\":\"green\"}}),_c('vl-style-fill',{attrs:{\"color\":\"rgba(255,255,255,0.5)\"}}),_c('vl-style-text',{attrs:{\"text\":_vm.drawText}})],1)],1),_c('vl-interaction-draw',{attrs:{\"type\":_vm.drawOption,\"source\":\"the-source\"}},[_c('vl-style-box',[_c('vl-style-stroke',{attrs:{\"color\":\"blue\"}}),_c('vl-style-fill',{attrs:{\"color\":\"rgba(255,255,255,0.5)\"}})],1)],1),_c('vl-layer-tile',{attrs:{\"id\":\"bingmaps\"}},[_c('vl-source-osm')],1)],1)],1),_c('el-main',{staticStyle:{\"width\":\"50%\"}},[_c('div',{staticStyle:{\"height\":\"800px\"}},[_c('model-gltf',{attrs:{\"src\":_vm.mapUrl,\"backgroundColor\":\"#000000\",\"zoom\":\"10\"}})],1)])],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-select',{attrs:{\"placeholder\":\"请选择绘制图形\"},model:{value:(_vm.drawOption),callback:function ($$v) {_vm.drawOption=$$v},expression:\"drawOption\"}},_vm._l((_vm.drawOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.getArea}},[_vm._v(\" 计算面积/长度 \")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.location.features = []; _vm.drawText=''}}},[_vm._v(\" 清空绘图 \")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.show3DModel}},[_vm._v(\" 加载3D模型 \")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible_show=false}}},[_vm._v(\" 退出 \")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"增加地图\",\"visible\":_vm.dialogVisible_add,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogVisible_add=$event}}},[_c('div',[_c('div',[_c('el-tag',[_vm._v(\"地图名称\")]),_c('el-input',{staticClass:\"addMapInput\",attrs:{\"size\":\"small\"},model:{value:(_vm.AddMap.name),callback:function ($$v) {_vm.$set(_vm.AddMap, \"name\", $$v)},expression:\"AddMap.name\"}})],1),_c('div',[_c('el-tag',[_vm._v(\"地图坐标\")]),_c('el-input',{staticClass:\"addMapInput\",attrs:{\"size\":\"small\"},model:{value:(_vm.AddMap.keyword),callback:function ($$v) {_vm.$set(_vm.AddMap, \"keyword\", $$v)},expression:\"AddMap.keyword\"}})],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogVisible_add = false}}},[_vm._v(\" 取消 \")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.addMap}},[_vm._v(\" 确定 \")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div> \n    <div> \n        <el-button icon=\"el-icon-plus\" size=\"small\" type=\"primary\" @click=\"showAddMap\">添加</el-button>\n    </div>\n\n    <div class=\"mapMain\">\n        <el-table :data=\"maps\" border @selection-change=\"handleSelectionChange\" size=\"small\" stripe style=\"width: 70%\">\n            <el-table-column type=\"selection\" width=\"55\"></el-table-column> \n            <el-table-column prop=\"id\" label=\"编号\" width=\"55\"></el-table-column> \n            <el-table-column prop=\"name\" label=\"地区\" width=\"180\"></el-table-column> \n            <el-table-column prop=\"keyword\" width=\"150\" label=\"坐标\"></el-table-column> \n            <el-table-column prop=\"createDate\" width=\"150\" label=\"创建时间\"></el-table-column>\n            <el-table-column label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button size=\"mini\" @click=\"showLookView(scope.$index, scope.row)\">预览 </el-button> \n                    <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index,scope.row)\">删除</el-button> \n                </template> \n            </el-table-column> \n        </el-table>\n        <el-button @click=\"deleteMany\" type=\"danger\" size=\"small\" style=\"margin-top: 8px\" :disabled=\"multipleSelection.length==0\">批量删除</el-button> \n    </div> \n    <el-dialog title=\"地图展示\" :visible.sync=\"dialogVisible_show\" width=\"80%\">\n        <el-container>\n            <el-aside style=\"width: 50%;\">\n                <vl-map :load-tiles-while-animating=\"true\" :load-tiles-while-interacting=\"true\" style=\"height: 800px;\" data-projection=\"EPSG:4326\">\n                    <vl-view :zoom.sync=\"location.zoom\" :center.sync=\"location.center\" :rotation.sync=\"location.rotation\"></vl-view>\n                    <vl-layer-vector :z-index=\"1\">\n                        <vl-source-vector :features.sync=\"location.features\" ident=\"the-source\"></vl-source-vector>\n\n                        <vl-style-box>\n                            <vl-style-stroke color=\"green\"></vl-style-stroke>\n                            <vl-style-fill color=\"rgba(255,255,255,0.5)\"></vl-style-fill>\n                            <vl-style-text :text=\"drawText\"></vl-style-text>\n                        </vl-style-box>\n                    </vl-layer-vector>\n\n                    <vl-interaction-draw :type=\"drawOption\" source=\"the-source\">\n                        <vl-style-box>\n                            <vl-style-stroke color=\"blue\"></vl-style-stroke>\n                            <vl-style-fill color=\"rgba(255,255,255,0.5)\"></vl-style-fill>\n                        </vl-style-box>\n                    </vl-interaction-draw>\n                    <vl-layer-tile id=\"bingmaps\">\n                        <!--<vl-source-bingmaps :api-key=\"location.apiKey\" :imagery-set=\"location.imagerySet\"></vl-source-bingmaps>-->\n                        <vl-source-osm></vl-source-osm>\n                    </vl-layer-tile>\n                </vl-map>\n            </el-aside>\n            <el-main style=\"width: 50%;\">\n                <div style=\"height: 800px;\">\n                    <model-gltf :src=\"mapUrl\" backgroundColor=\"#000000\" zoom=\"10\"></model-gltf>\n                </div>\n            </el-main>\n        </el-container>\n        <span slot=\"footer\" class=\"dialog-footer\">\n            <el-select v-model=\"drawOption\" placeholder=\"请选择绘制图形\">\n                <el-option v-for=\"item in drawOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n            </el-select>\n            <el-button size=\"small\" @click=\"getArea\"> 计算面积/长度 </el-button>\n            <el-button size=\"small\" @click=\"location.features = []; drawText=''\"> 清空绘图 </el-button>\n            <el-button size=\"small\" @click=\"show3DModel\"> 加载3D模型 </el-button>\n            <el-button size=\"small\" @click=\"dialogVisible_show=false\" type=\"primary\"> 退出 </el-button>\n        </span> \n    </el-dialog> \n    <el-dialog title=\"增加地图\" :visible.sync=\"dialogVisible_add\" width=\"40%\">\n        <div>\n            <div> \n                <el-tag>地图名称</el-tag> \n                <el-input class=\"addMapInput\" size=\"small\" v-model=\"AddMap.name\"></el-input>\n            </div> \n            <div>\n                <el-tag>地图坐标</el-tag> \n                <el-input class=\"addMapInput\" size=\"small\" v-model=\"AddMap.keyword\">\n                </el-input> \n            </div> \n        </div>\n        <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button size=\"small\" @click=\"dialogVisible_add = false\"> 取消 </el-button>\n            <el-button size=\"small\" type=\"primary\" @click=\"addMap\"> 确定 </el-button> \n        </span> \n    </el-dialog> \n</div> \n</template>\n\n<script>\n    import { ModelGltf } from 'vue-3d-model';\n    import 'vuelayers/lib/style.css'\n    export default { \n        name: \"map3d\", \n        components: { ModelGltf },\n        data() { \n            return { \n                m: {\n                    name: '', \n                    keyword: ''\n                }, \n                dialogVisible_show: false, \n                dialogVisible_add: false, \n                loading: false, \n                AddMap: {\n                    name: '',\n                    keyword: '' \n                }, \n                multipleSelection: [], \n                maps: [],\n                location: {\n                    zoom: 15,\n                    center: [0, 0],\n                    rotation: 0,\n                    apiKey: 'Au9zjPDr51o7DJuRc9gemyp1zu-xS4P5XJ4wU50CLXoOVM3gKR31DhwsQsRQSmV0',\n                    imagerySet: 'AerialWithLabels',\n                    features: [],\n                },\n                drawOptions: [{\n                    value: 'LineString',\n                    label: '折线',\n                }, {\n                    value: 'Polygon',\n                    label: '多边形',\n                }, {\n                    value: 'Circle',\n                    label: '圆形'\n                }],\n                drawOption: 'Polygon',\n                drawText: '',\n                mapVisible: true,\n                layers: [],\n                mapUrl: ''\n            }\n        }, \n        mounted() { \n            this.initMaps();\n        },\n        methods: { \n            deleteMany() { \n                this.$confirm(' 此 操 作 将 永 久 删 除【' + this.multipleSelection.length + '】条记录, 是否继续?', '提示', { confirmButtonText: '确定', cancelButtonText: '取消', type: 'warning'}\n                ).then(() => {\n                    let ids = '?';\n                    this.multipleSelection.forEach(item => {\n                        ids += 'ids=' + item.id + '&';\n                    }) \n                    this.deleteRequest(\"/map/map3d/\" + ids).then(resp => {\n                        if (resp) { this.initMaps(); } })\n                }).catch(() => {\n                    this.$message({ type: 'info', message: '已取消删除' });\n                });\n            }, \n            handleSelectionChange(val) {\n                this.multipleSelection = val; \n            }, \n            showAddMap() {\n                this.AddMap.name = ''; \n                this.AddMap.keyword = ''; \n                this.dialogVisible_add = true;\n            }, \n            addMap() {\n                this.postRequest(\"/map/map3d/\", this.AddMap).then(resp => {\n                    if (resp) { \n                        this.initMaps(); \n                        this.dialogVisible_add = false; }\n                })\n            }, \n            showLookView(index, data) {\n                // Object.assign(this.m, data);\n                let ss = data.keyword.split(',');\n                this.location.center = [parseFloat(ss[0]), parseFloat(ss[1])];\n                // this.location.position.lng = parseFloat(ss[0]);\n                // this.location.position.lat = parseFloat(ss[1]);\n                this.dialogVisible_show = true;\n            }, \n            handleDelete(index, data) { \n                this.$confirm('此操作将永久删除【' + data.name + '】, 是否 继续 ? ','提示', { confirmButtonText: '确定', cancelButtonText: '取消', type: 'warning'}\n                ).then(() => {\n                    this.deleteRequest(\"/map/map3d/\"+data.id).then(resp => {\n                        if (resp) { this.initMaps(); }\n                    })\n                }).catch(() => {\n                    this.$message({ type: 'info', message: '已取消删除' });\n                });\n            }, \n            initMaps() {\n                this.loading = true; \n                this.getRequest(\"/map/map3d/\").then(resp => { this.loading = false; if (resp) { this.maps = resp; } })\n            },\n            show3DModel() {\n                this.mapUrl = '/api/dae/model.gltf';\n            },\n            mapPanelTabClasses(tab) {\n                return {\n                    'is-active': this.mapPanel.tab === tab,\n                }\n            },\n            showMapPanelTab(tab) {\n                this.mapPanel.tab = tab\n                if (tab !== 'draw') {\n                    this.drawType = undefined\n                }\n            },\n            getArea() {\n                this.location.features.splice(0, this.location.features.length - 1);\n                if (this.drawOption != 'LineString'){\n                    let points = this.location.features[0].geometry.coordinates[0];\n                    let count = points.length;\n                    let area0 = 0, area1 = 0;\n                    for (let i = 0; i < count; i++) {\n                        area0 += points[i][0] * (i + 1 < count ? points[i + 1][1]: points[0][1]) * 9101.160000085981;\n                        area1 += points[i][1] * (i + 1 < count ? points[i + 1][0]: points[0][0]) * 9101.160000085981;\n                    }\n                    area0 = Math.abs(area0 - area1) * 0.5;\n                    // console.log(area0.toFixed(2), \"KM2\");\n                    this.$message({\n                        showClose: true,\n                        message: \"所选地区面积为: \" + area0.toFixed(2).toString() + \" km2\",\n                        type: 'success'\n                    });\n                    this.drawText = area0.toFixed(2).toString() + \" km2\";\n                } else {\n                    let points = this.location.features[0].geometry.coordinates;\n                    var count = points.length;\n                    let length = 0;\n                    for (let i = 0; i < count - 1; i++) {\n                        var radLat1 = points[i][1] * Math.PI / 180.0;\n                        var radLat2 = points[i + 1][1] *Math.PI / 180.0;\n                        \n                        var a = radLat1 - radLat2;\n                        var b = points[i][0] * Math.PI / 180.0 - points[i + 1][0] * Math.PI / 180.0;\n                        var s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2) + Math.cos(radLat1)*Math.cos(radLat2)*Math.pow(Math.sin(b/2),2)));\n                        length += s * 6378.137;\n                    } \n                    this.$message({\n                        showClose: true,\n                        message: \"划线长度为: \" + length.toFixed(2).toString() + \" km\",\n                        type: 'success'\n                    });\n                    this.drawText = length.toFixed(2).toString() + \" km\";\n                }\n            }\n        }\n    } \n</script>\n\n<style>\n    .addMapInput { width: 200px; margin-left: 8px; }    \n    .mapMain { margin-top: 10px; } .map-img {\n    width: 600px;\n    height: 600px;\n    border-radius: 72px; }\n    .img-container {\n        width: 900px; height: 900px; /*width: 150px;*/ /*height: 120px;*/ \n        display: flex; \n        justify-content: center;\n    } \n    .bm-view { width: 100%; height: 300px; }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map3d.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map3d.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./map3d.vue?vue&type=template&id=36bd4b1a&\"\nimport script from \"./map3d.vue?vue&type=script&lang=js&\"\nexport * from \"./map3d.vue?vue&type=script&lang=js&\"\nimport style0 from \"./map3d.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map3d.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map3d.vue?vue&type=style&index=0&lang=css&\"","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","module.exports = require(\"core-js/library/fn/promise\");","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=style&index=0&lang=css&\"","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.showAddMap}},[_vm._v(\"添加\")])],1),_c('div',{staticClass:\"mapMain\"},[_c('el-table',{staticStyle:{\"width\":\"70%\"},attrs:{\"data\":_vm.maps,\"border\":\"\",\"size\":\"small\",\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"createDate\",\"width\":\"150\",\"label\":\"缩略\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"80px\",\"height\":\"80px\",\"border\":\"none\"},attrs:{\"src\":scope.row.url}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showLookView(scope.$index, scope.row)}}},[_vm._v(\"查看\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-button',{staticStyle:{\"margin-top\":\"8px\"},attrs:{\"type\":\"danger\",\"size\":\"small\",\"disabled\":_vm.multipleSelection.length==0},on:{\"click\":_vm.deleteMany}},[_vm._v(\" 批量删除\")])],1),_c('el-dialog',{attrs:{\"title\":\"地图展示\",\"visible\":_vm.dialogVisible_show,\"width\":\"80%\"},on:{\"update:visible\":function($event){_vm.dialogVisible_show=$event}}},[_c('div',{staticClass:\"img-container\"},[_c('img',{staticClass:\"map-img\",attrs:{\"src\":_vm.m.url,\"alt\":_vm.m.name,\"title\":_vm.m.name}})]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogVisible_show = false}}},[_vm._v(\"退出\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"增加地图\",\"visible\":_vm.dialogVisible_add,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogVisible_add=$event}}},[_c('div',[_c('div',[_c('el-tag',[_vm._v(\"地图名称\")]),_c('el-input',{staticClass:\"addMapInput\",attrs:{\"size\":\"small\"},model:{value:(_vm.AddMap.name),callback:function ($$v) {_vm.$set(_vm.AddMap, \"name\", $$v)},expression:\"AddMap.name\"}})],1),_c('div',[_c('el-tag',[_vm._v(\"地图 url\")]),_c('el-input',{staticClass:\"addMapInput\",attrs:{\"size\":\"small\"},model:{value:(_vm.AddMap.url),callback:function ($$v) {_vm.$set(_vm.AddMap, \"url\", $$v)},expression:\"AddMap.url\"}})],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogVisible_add = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.addMap}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _Promise from \"../../core-js/promise\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    _Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new _Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","<template>\n  <div>\n    <div>\n      <el-button icon=\"el-icon-plus\" size=\"small\" type=\"primary\" @click=\"showAddMap\">添加</el-button>\n    </div>\n    <div class=\"mapMain\">\n      <el-table :data=\"maps\" border @selection-change=\"handleSelectionChange\" size=\"small\" stripe style=\"width: 70%\">\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n        <el-table-column prop=\"id\" label=\"编号\" width=\"55\"></el-table-column>\n        <el-table-column prop=\"name\" label=\"名称\" width=\"180\"></el-table-column>\n        <el-table-column prop=\"createDate\" width=\"150\" label=\"缩略\">\n          <template width=\"60\" slot-scope=\"scope\">\n            <img style=\"width:80px;height:80px;border:none\" :src=\"scope.row.url\">\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" @click=\"showLookView(scope.$index, scope.row)\">查看</el-button>\n            <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-button @click=\"deleteMany\" type=\"danger\" size=\"small\" style=\"margin-top: 8px\" :disabled=\"multipleSelection.length==0\"> 批量删除</el-button>\n    </div>\n    <el-dialog title=\"地图展示\" :visible.sync=\"dialogVisible_show\" width=\"80%\">\n      <div class=\"img-container\">\n        <img :src=\"m.url\" :alt=\"m.name\" :title=\"m.name\" class=\"map-img\">\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"dialogVisible_show = false\">退出</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog title=\"增加地图\" :visible.sync=\"dialogVisible_add\" width=\"40%\">\n      <div>\n        <div>\n          <el-tag>地图名称</el-tag>\n          <el-input class=\"addMapInput\" size=\"small\" v-model=\"AddMap.name\"></el-input>\n        </div>\n        <div>\n          <el-tag>地图 url</el-tag>\n          <el-input class=\"addMapInput\" size=\"small\" v-model=\"AddMap.url\"></el-input>\n        </div>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"dialogVisible_add = false\">取 消</el-button>\n        <el-button size=\"small\" type=\"primary\" @click=\"addMap\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nfunction getFileUrl(obj) {\n  let url;\n  url = window.URL.createObjectURL(obj.files.item(0));\n  return url;\n}\nexport default {\n  name: \"map\",\n  data() {\n    return {\n      m: {\n        name: '',\n        url: ''\n      },\n      dialogVisible_show: false,\n      dialogVisible_add: false,\n      loading: false,\n      AddMap: {\n        name: '',\n        url: ''\n      },\n      multipleSelection: [],\n      maps: []\n    }\n  },\n  mounted() {\n    this.initMaps();\n  },\n  methods: {\n    deleteMany() {\n      this.$confirm(' 此 操 作 将 永 久 删 除 【 ' + this.multipleSelection.length + '】条记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let ids = '?';\n        this.multipleSelection.forEach(item => {\n          ids += 'ids=' + item.id + '&';\n        })\n        this.deleteRequest(\"/map/imgbed/\" + ids).then(resp => {\n          if (resp) {\n            this.initMaps();\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    showAddMap() {\n      this.AddMap.name = '';\n      this.AddMap.url = '';\n      this.dialogVisible_add = true;\n    },\n    async uploadImg() {\n      const that = this;\n      const inputFile = await this.$refs.fileBtn.files[0];\n      let res;\n      console.log('选了图片');\n      console.log(inputFile);\n      this.inputFile = inputFile;\n      if (this.inputFile) {\n        let inputFile = this.inputFile;\n        if (inputFile.type !== 'image/jpeg' &&\n            inputFile.type !== 'image/png' && inputFile.type !== 'image/gif') {\n          alert('不是有效的图片文件！');\n          return;\n        }\n        inputFile.lastModifiedDate.toLocaleString()\n        const reader = new FileReader();\n        res = reader.readAsDataURL(this.inputFile);\n        console.log('我想想要获取流');\n        reader.onloadend = function () {\n          reader.result.substring(84);\n          var strBase64 = reader.result.substring(0);\n          console.log(strBase64);\n        };\n        reader.onload = function (e) {\n          console.log(e);\n          that.AddMap.url = this.result;// 注意:这里的 this.result 中,这个 this 不是 vue 实例,而是 reader 对象,所以之前用 that 接收 vue 示例 that.imgSrc\n          that.AddMap.url =getFileUrl(that.AddMap.url);\n        };\n      } else {\n        return;\n      }\n    },\n    addMap () {\n      this.postRequest(\"/map/imgbed/\", this.AddMap).then(resp => {\n        if (resp) {\n          this.initMaps();\n          this.dialogVisible_add=false;\n        }\n      })\n    },\n    showLookView(index, data) {\n      Object.assign(this.m, data);\n      this.dialogVisible_show = true;\n    },\n    handleDelete(index, data) {\n      this.$confirm('此操作将永久删除【' + data.name + '】,' + '是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.deleteRequest(\"/map/imgbed/\" + data.id).then(resp => {\n          if (resp) {\n            this.initMaps();\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    initMaps() {\n      this.loading = true;\n      this.getRequest(\"/map/imgbed/\").then(resp => {\n        this.loading = false;\n        if (resp) {\n          this.maps = resp;\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n.addMapInput {\n  width: 200px;\n  margin-left: 8px;\n}\n.mapMain {\n  margin-top: 10px;\n}\n.map-img {\n  width: 600px;\n  height: 600px;\n  border-radius: 72px;\n}\n.img-container {\n  display: flexbox;\n  justify-content: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./map.vue?vue&type=template&id=8a29d6a6&\"\nimport script from \"./map.vue?vue&type=script&lang=js&\"\nexport * from \"./map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./map.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue-3d-model\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"vue-3d-model\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__8bbf__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"9896\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"053b\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar defineProperty = __webpack_require__(\"d910\").f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n\n\n/***/ }),\n\n/***/ \"064b\":\n/***/ (function(module, exports) {\n\n// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n\n\n/***/ }),\n\n/***/ \"08ba\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"d890\");\nvar DOMIterables = __webpack_require__(\"064b\");\nvar forEach = __webpack_require__(\"3c10\");\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n\n\n/***/ }),\n\n/***/ \"0a51\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n\nvar $ = __webpack_require__(\"1c8b\");\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar global = __webpack_require__(\"d890\");\nvar has = __webpack_require__(\"faa8\");\nvar isObject = __webpack_require__(\"a719\");\nvar defineProperty = __webpack_require__(\"d910\").f;\nvar copyConstructorProperties = __webpack_require__(\"c69d\");\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n\n\n/***/ }),\n\n/***/ \"0a60\":\n/***/ (function(module, exports) {\n\nexports.f = Object.getOwnPropertySymbols;\n\n\n/***/ }),\n\n/***/ \"0c3c\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n\n\n/***/ }),\n\n/***/ \"0fc1\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar definePropertyModule = __webpack_require__(\"d910\");\nvar createPropertyDescriptor = __webpack_require__(\"38b9\");\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n/***/ }),\n\n/***/ \"1025\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar store = __webpack_require__(\"3a08\");\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n\n\n/***/ }),\n\n/***/ \"18f6\":\n/***/ (function(module, exports) {\n\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\n\n/***/ }),\n\n/***/ \"1944\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"d890\");\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\nvar has = __webpack_require__(\"faa8\");\nvar setGlobal = __webpack_require__(\"e4db\");\nvar inspectSource = __webpack_require__(\"1025\");\nvar InternalStateModule = __webpack_require__(\"b702\");\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n\n\n/***/ }),\n\n/***/ \"19fc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toObject = __webpack_require__(\"3553\");\nvar toAbsoluteIndex = __webpack_require__(\"e1d6\");\nvar toLength = __webpack_require__(\"d88d\");\n\nvar min = Math.min;\n\n// `Array.prototype.copyWithin` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.copywithin\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n\n\n/***/ }),\n\n/***/ \"1b99\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"d890\");\n\nmodule.exports = global;\n\n\n/***/ }),\n\n/***/ \"1bb1\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global = __webpack_require__(\"d890\");\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar fails = __webpack_require__(\"efe2\");\n\nvar Int8Array = global.Int8Array;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $toLocaleString = [].toLocaleString;\nvar $slice = [].slice;\n\n// iOS Safari 6.x fails here\nvar TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {\n  $toLocaleString.call(new Int8Array(1));\n});\n\nvar FORCED = fails(function () {\n  return [1, 2].toLocaleString() != new Int8Array([1, 2]).toLocaleString();\n}) || !fails(function () {\n  Int8Array.prototype.toLocaleString.call([1, 2]);\n});\n\n// `%TypedArray%.prototype.toLocaleString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tolocalestring\nexportTypedArrayMethod('toLocaleString', function toLocaleString() {\n  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);\n}, FORCED);\n\n\n/***/ }),\n\n/***/ \"1bbd\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toPrimitive = __webpack_require__(\"9f67\");\nvar definePropertyModule = __webpack_require__(\"d910\");\nvar createPropertyDescriptor = __webpack_require__(\"38b9\");\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n\n\n/***/ }),\n\n/***/ \"1c2e\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global = __webpack_require__(\"d890\");\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar NATIVE_ARRAY_BUFFER = __webpack_require__(\"d77f\");\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\nvar redefineAll = __webpack_require__(\"99ab\");\nvar fails = __webpack_require__(\"efe2\");\nvar anInstance = __webpack_require__(\"c4e4\");\nvar toInteger = __webpack_require__(\"3da3\");\nvar toLength = __webpack_require__(\"d88d\");\nvar toIndex = __webpack_require__(\"3ccd\");\nvar IEEE754 = __webpack_require__(\"e026\");\nvar getPrototypeOf = __webpack_require__(\"908e\");\nvar setPrototypeOf = __webpack_require__(\"50fb\");\nvar getOwnPropertyNames = __webpack_require__(\"b338\").f;\nvar defineProperty = __webpack_require__(\"d910\").f;\nvar arrayFill = __webpack_require__(\"fa41\");\nvar setToStringTag = __webpack_require__(\"27b5\");\nvar InternalStateModule = __webpack_require__(\"b702\");\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length';\nvar WRONG_INDEX = 'Wrong index';\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\nvar $ArrayBuffer = NativeArrayBuffer;\nvar $DataView = global[DATA_VIEW];\nvar $DataViewPrototype = $DataView && $DataView[PROTOTYPE];\nvar ObjectPrototype = Object.prototype;\nvar RangeError = global.RangeError;\n\nvar packIEEE754 = IEEE754.pack;\nvar unpackIEEE754 = IEEE754.unpack;\n\nvar packInt8 = function (number) {\n  return [number & 0xFF];\n};\n\nvar packInt16 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF];\n};\n\nvar packInt32 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n};\n\nvar unpackInt32 = function (buffer) {\n  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n};\n\nvar packFloat32 = function (number) {\n  return packIEEE754(number, 23, 4);\n};\n\nvar packFloat64 = function (number) {\n  return packIEEE754(number, 52, 8);\n};\n\nvar addGetter = function (Constructor, key) {\n  defineProperty(Constructor[PROTOTYPE], key, { get: function () { return getInternalState(this)[key]; } });\n};\n\nvar get = function (view, count, index, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = bytes.slice(start, start + count);\n  return isLittleEndian ? pack : pack.reverse();\n};\n\nvar set = function (view, count, index, conversion, value, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = conversion(+value);\n  for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n};\n\nif (!NATIVE_ARRAY_BUFFER) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    setInternalState(this, {\n      bytes: arrayFill.call(new Array(byteLength), 0),\n      byteLength: byteLength\n    });\n    if (!DESCRIPTORS) this.byteLength = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = getInternalState(buffer).byteLength;\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    setInternalState(this, {\n      buffer: buffer,\n      byteLength: byteLength,\n      byteOffset: offset\n    });\n    if (!DESCRIPTORS) {\n      this.buffer = buffer;\n      this.byteLength = byteLength;\n      this.byteOffset = offset;\n    }\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, 'byteLength');\n    addGetter($DataView, 'buffer');\n    addGetter($DataView, 'byteLength');\n    addGetter($DataView, 'byteOffset');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n    }\n  });\n} else {\n  if (!fails(function () {\n    NativeArrayBuffer(1);\n  }) || !fails(function () {\n    new NativeArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new NativeArrayBuffer(); // eslint-disable-line no-new\n    new NativeArrayBuffer(1.5); // eslint-disable-line no-new\n    new NativeArrayBuffer(NaN); // eslint-disable-line no-new\n    return NativeArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new NativeArrayBuffer(toIndex(length));\n    };\n    var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n    for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) {\n        createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n      }\n    }\n    ArrayBufferPrototype.constructor = $ArrayBuffer;\n  }\n\n  // WebKit bug - the same parent prototype for typed arrays and data view\n  if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {\n    setPrototypeOf($DataViewPrototype, ObjectPrototype);\n  }\n\n  // iOS Safari 7.x bug\n  var testView = new $DataView(new $ArrayBuffer(2));\n  var nativeSetInt8 = $DataViewPrototype.setInt8;\n  testView.setInt8(0, 2147483648);\n  testView.setInt8(1, 2147483649);\n  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataViewPrototype, {\n    setInt8: function setInt8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, { unsafe: true });\n}\n\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\n\nmodule.exports = {\n  ArrayBuffer: $ArrayBuffer,\n  DataView: $DataView\n};\n\n\n/***/ }),\n\n/***/ \"1c2e8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar redefine = __webpack_require__(\"1944\");\nvar anObject = __webpack_require__(\"857c\");\nvar fails = __webpack_require__(\"efe2\");\nvar flags = __webpack_require__(\"99ad\");\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n\n\n/***/ }),\n\n/***/ \"1c8b\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"d890\");\nvar getOwnPropertyDescriptor = __webpack_require__(\"aa6b\").f;\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\nvar redefine = __webpack_require__(\"1944\");\nvar setGlobal = __webpack_require__(\"e4db\");\nvar copyConstructorProperties = __webpack_require__(\"c69d\");\nvar isForced = __webpack_require__(\"e8d6\");\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n\n\n/***/ }),\n\n/***/ \"1ca1\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(\"a719\");\nvar isArray = __webpack_require__(\"74e7\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n\n\n/***/ }),\n\n/***/ \"1cc1\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $find = __webpack_require__(\"5dfd\").find;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.find\nexportTypedArrayMethod('find', function find(predicate /* , thisArg */) {\n  return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ \"1e2c\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(\"efe2\");\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n\n\n/***/ }),\n\n/***/ \"1ea7\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(\"efe2\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\nvar V8_VERSION = __webpack_require__(\"f594\");\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n\n\n/***/ }),\n\n/***/ \"2039\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar fails = __webpack_require__(\"efe2\");\nvar createElement = __webpack_require__(\"ae25\");\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n\n\n/***/ }),\n\n/***/ \"2118\":\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n/***/ }),\n\n/***/ \"22ef\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar fails = __webpack_require__(\"efe2\");\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n\n\n/***/ }),\n\n/***/ \"258f\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\nvar create = __webpack_require__(\"6d60\");\nvar definePropertyModule = __webpack_require__(\"d910\");\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n\n\n/***/ }),\n\n/***/ \"26a2\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(\"1c8b\");\nvar global = __webpack_require__(\"d890\");\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = __webpack_require__(\"a4c7\");\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar ArrayBufferModule = __webpack_require__(\"1c2e\");\nvar anInstance = __webpack_require__(\"c4e4\");\nvar createPropertyDescriptor = __webpack_require__(\"38b9\");\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\nvar toLength = __webpack_require__(\"d88d\");\nvar toIndex = __webpack_require__(\"3ccd\");\nvar toOffset = __webpack_require__(\"7aeb\");\nvar toPrimitive = __webpack_require__(\"9f67\");\nvar has = __webpack_require__(\"faa8\");\nvar classof = __webpack_require__(\"2a91\");\nvar isObject = __webpack_require__(\"a719\");\nvar create = __webpack_require__(\"6d60\");\nvar setPrototypeOf = __webpack_require__(\"50fb\");\nvar getOwnPropertyNames = __webpack_require__(\"b338\").f;\nvar typedArrayFrom = __webpack_require__(\"6f82\");\nvar forEach = __webpack_require__(\"5dfd\").forEach;\nvar setSpecies = __webpack_require__(\"403f\");\nvar definePropertyModule = __webpack_require__(\"d910\");\nvar getOwnPropertyDescriptorModule = __webpack_require__(\"aa6b\");\nvar InternalStateModule = __webpack_require__(\"b702\");\nvar inheritIfRequired = __webpack_require__(\"7063\");\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar round = Math.round;\nvar RangeError = global.RangeError;\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\nvar TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;\nvar TypedArray = ArrayBufferViewCore.TypedArray;\nvar TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar isTypedArray = ArrayBufferViewCore.isTypedArray;\nvar BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\nvar WRONG_LENGTH = 'Wrong length';\n\nvar fromList = function (C, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\nvar addGetter = function (it, key) {\n  nativeDefineProperty(it, key, { get: function () {\n    return getInternalState(this)[key];\n  } });\n};\n\nvar isArrayBuffer = function (it) {\n  var klass;\n  return it instanceof ArrayBuffer || (klass = classof(it)) == 'ArrayBuffer' || klass == 'SharedArrayBuffer';\n};\n\nvar isTypedArrayIndex = function (target, key) {\n  return isTypedArray(target)\n    && typeof key != 'symbol'\n    && key in target\n    && String(+key) == String(key);\n};\n\nvar wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {\n  return isTypedArrayIndex(target, key = toPrimitive(key, true))\n    ? createPropertyDescriptor(2, target[key])\n    : nativeGetOwnPropertyDescriptor(target, key);\n};\n\nvar wrappedDefineProperty = function defineProperty(target, key, descriptor) {\n  if (isTypedArrayIndex(target, key = toPrimitive(key, true))\n    && isObject(descriptor)\n    && has(descriptor, 'value')\n    && !has(descriptor, 'get')\n    && !has(descriptor, 'set')\n    // TODO: add validation descriptor w/o calling accessors\n    && !descriptor.configurable\n    && (!has(descriptor, 'writable') || descriptor.writable)\n    && (!has(descriptor, 'enumerable') || descriptor.enumerable)\n  ) {\n    target[key] = descriptor.value;\n    return target;\n  } return nativeDefineProperty(target, key, descriptor);\n};\n\nif (DESCRIPTORS) {\n  if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n    getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;\n    definePropertyModule.f = wrappedDefineProperty;\n    addGetter(TypedArrayPrototype, 'buffer');\n    addGetter(TypedArrayPrototype, 'byteOffset');\n    addGetter(TypedArrayPrototype, 'byteLength');\n    addGetter(TypedArrayPrototype, 'length');\n  }\n\n  $({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n    getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,\n    defineProperty: wrappedDefineProperty\n  });\n\n  module.exports = function (TYPE, wrapper, CLAMPED) {\n    var BYTES = TYPE.match(/\\d+$/)[0] / 8;\n    var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + TYPE;\n    var SETTER = 'set' + TYPE;\n    var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];\n    var TypedArrayConstructor = NativeTypedArrayConstructor;\n    var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;\n    var exported = {};\n\n    var getter = function (that, index) {\n      var data = getInternalState(that);\n      return data.view[GETTER](index * BYTES + data.byteOffset, true);\n    };\n\n    var setter = function (that, index, value) {\n      var data = getInternalState(that);\n      if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;\n      data.view[SETTER](index * BYTES + data.byteOffset, value, true);\n    };\n\n    var addElement = function (that, index) {\n      nativeDefineProperty(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n\n    if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n      TypedArrayConstructor = wrapper(function (that, data, offset, $length) {\n        anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        var index = 0;\n        var byteOffset = 0;\n        var buffer, byteLength, length;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new ArrayBuffer(byteLength);\n        } else if (isArrayBuffer(data)) {\n          buffer = data;\n          byteOffset = toOffset(offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - byteOffset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + byteOffset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (isTypedArray(data)) {\n          return fromList(TypedArrayConstructor, data);\n        } else {\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }\n        setInternalState(that, {\n          buffer: buffer,\n          byteOffset: byteOffset,\n          byteLength: byteLength,\n          length: length,\n          view: new DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);\n    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {\n      TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {\n        anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        return inheritIfRequired(function () {\n          if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));\n          if (isArrayBuffer(data)) return $length !== undefined\n            ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length)\n            : typedArrayOffset !== undefined\n              ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES))\n              : new NativeTypedArrayConstructor(data);\n          if (isTypedArray(data)) return fromList(TypedArrayConstructor, data);\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }(), dummy, TypedArrayConstructor);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {\n        if (!(key in TypedArrayConstructor)) {\n          createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);\n        }\n      });\n      TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;\n    }\n\n    if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);\n    }\n\n    if (TYPED_ARRAY_TAG) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);\n    }\n\n    exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;\n\n    $({\n      global: true, forced: TypedArrayConstructor != NativeTypedArrayConstructor, sham: !NATIVE_ARRAY_BUFFER_VIEWS\n    }, exported);\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {\n      createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    setSpecies(CONSTRUCTOR_NAME);\n  };\n} else module.exports = function () { /* empty */ };\n\n\n/***/ }),\n\n/***/ \"2732\":\n/***/ (function(module, exports) {\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ \"27b5\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineProperty = __webpack_require__(\"d910\").f;\nvar has = __webpack_require__(\"faa8\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n\n\n/***/ }),\n\n/***/ \"2909\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $reduce = __webpack_require__(\"58d8\").left;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduce\nexportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {\n  return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ \"2a91\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(\"47ae\");\nvar classofRaw = __webpack_require__(\"2118\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n\n\n/***/ }),\n\n/***/ \"2abc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar getPrototypeOf = __webpack_require__(\"908e\");\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\nvar has = __webpack_require__(\"faa8\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\nvar IS_PURE = __webpack_require__(\"9b9d\");\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n\n\n/***/ }),\n\n/***/ \"3553\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar requireObjectCoercible = __webpack_require__(\"2732\");\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n\n\n/***/ }),\n\n/***/ \"3598\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $lastIndexOf = __webpack_require__(\"8d7b\");\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.lastindexof\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {\n  return $lastIndexOf.apply(aTypedArray(this), arguments);\n});\n\n\n/***/ }),\n\n/***/ \"38b9\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n/***/ }),\n\n/***/ \"3a08\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"d890\");\nvar setGlobal = __webpack_require__(\"e4db\");\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n\n\n/***/ }),\n\n/***/ \"3c10\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $forEach = __webpack_require__(\"5dfd\").forEach;\nvar arrayMethodIsStrict = __webpack_require__(\"d7e1\");\nvar arrayMethodUsesToLength = __webpack_require__(\"ff9c\");\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n\n\n/***/ }),\n\n/***/ \"3c51\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $fill = __webpack_require__(\"fa41\");\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.fill\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('fill', function fill(value /* , start, end */) {\n  return $fill.apply(aTypedArray(this), arguments);\n});\n\n\n/***/ }),\n\n/***/ \"3ccd\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(\"3da3\");\nvar toLength = __webpack_require__(\"d88d\");\n\n// `ToIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length or index');\n  return length;\n};\n\n\n/***/ }),\n\n/***/ \"3da3\":\n/***/ (function(module, exports) {\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n\n\n/***/ }),\n\n/***/ \"3e54\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(\"1c8b\");\nvar fails = __webpack_require__(\"efe2\");\nvar ArrayBufferModule = __webpack_require__(\"1c2e\");\nvar anObject = __webpack_require__(\"857c\");\nvar toAbsoluteIndex = __webpack_require__(\"e1d6\");\nvar toLength = __webpack_require__(\"d88d\");\nvar speciesConstructor = __webpack_require__(\"ef4c\");\n\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar nativeArrayBufferSlice = ArrayBuffer.prototype.slice;\n\nvar INCORRECT_SLICE = fails(function () {\n  return !new ArrayBuffer(2).slice(1, undefined).byteLength;\n});\n\n// `ArrayBuffer.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-arraybuffer.prototype.slice\n$({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE }, {\n  slice: function slice(start, end) {\n    if (nativeArrayBufferSlice !== undefined && end === undefined) {\n      return nativeArrayBufferSlice.call(anObject(this), start); // FF fix\n    }\n    var length = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    var result = new (speciesConstructor(this, ArrayBuffer))(toLength(fin - first));\n    var viewSource = new DataView(this);\n    var viewTarget = new DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewTarget.setUint8(index++, viewSource.getUint8(first++));\n    } return result;\n  }\n});\n\n\n/***/ }),\n\n/***/ \"403f\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar getBuiltIn = __webpack_require__(\"6d7a\");\nvar definePropertyModule = __webpack_require__(\"d910\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n\n\n/***/ }),\n\n/***/ \"4140\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar speciesConstructor = __webpack_require__(\"ef4c\");\nvar fails = __webpack_require__(\"efe2\");\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $slice = [].slice;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).slice();\n});\n\n// `%TypedArray%.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.slice\nexportTypedArrayMethod('slice', function slice(start, end) {\n  var list = $slice.call(aTypedArray(this), start, end);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n}, FORCED);\n\n\n/***/ }),\n\n/***/ \"4350\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\n\nexports.f = wellKnownSymbol;\n\n\n/***/ }),\n\n/***/ \"45af\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toIndexedObject = __webpack_require__(\"da10\");\nvar toLength = __webpack_require__(\"d88d\");\nvar toAbsoluteIndex = __webpack_require__(\"e1d6\");\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\n\n/***/ }),\n\n/***/ \"47ae\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n\n\n/***/ }),\n\n/***/ \"4fda\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar getBuiltIn = __webpack_require__(\"6d7a\");\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n\n\n/***/ }),\n\n/***/ \"50fb\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(\"857c\");\nvar aPossiblePrototype = __webpack_require__(\"d1fd\");\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n\n\n/***/ }),\n\n/***/ \"5139\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar regexpFlags = __webpack_require__(\"99ad\");\nvar stickyHelpers = __webpack_require__(\"22ef\");\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n\n\n/***/ }),\n\n/***/ \"513c\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar global = __webpack_require__(\"d890\");\nvar isForced = __webpack_require__(\"e8d6\");\nvar redefine = __webpack_require__(\"1944\");\nvar has = __webpack_require__(\"faa8\");\nvar classof = __webpack_require__(\"2118\");\nvar inheritIfRequired = __webpack_require__(\"7063\");\nvar toPrimitive = __webpack_require__(\"9f67\");\nvar fails = __webpack_require__(\"efe2\");\nvar create = __webpack_require__(\"6d60\");\nvar getOwnPropertyNames = __webpack_require__(\"b338\").f;\nvar getOwnPropertyDescriptor = __webpack_require__(\"aa6b\").f;\nvar defineProperty = __webpack_require__(\"d910\").f;\nvar trim = __webpack_require__(\"c10f\").trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n\n\n/***/ }),\n\n/***/ \"52f9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(\"47ae\");\nvar classof = __webpack_require__(\"2a91\");\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n\n\n/***/ }),\n\n/***/ \"58d8\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar aFunction = __webpack_require__(\"0c3c\");\nvar toObject = __webpack_require__(\"3553\");\nvar IndexedObject = __webpack_require__(\"692f\");\nvar toLength = __webpack_require__(\"d88d\");\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n\n\n/***/ }),\n\n/***/ \"5a9e\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar NATIVE_ARRAY_BUFFER = __webpack_require__(\"d77f\");\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar global = __webpack_require__(\"d890\");\nvar isObject = __webpack_require__(\"a719\");\nvar has = __webpack_require__(\"faa8\");\nvar classof = __webpack_require__(\"2a91\");\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\nvar redefine = __webpack_require__(\"1944\");\nvar defineProperty = __webpack_require__(\"d910\").f;\nvar getPrototypeOf = __webpack_require__(\"908e\");\nvar setPrototypeOf = __webpack_require__(\"50fb\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\nvar uid = __webpack_require__(\"7e8b\");\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar isPrototypeOf = ObjectPrototype.isPrototypeOf;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar isView = function isView(it) {\n  var klass = classof(it);\n  return klass === 'DataView' || has(TypedArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  return isObject(it) && has(TypedArrayConstructorsList, classof(it));\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (setPrototypeOf) {\n    if (isPrototypeOf.call(TypedArray, C)) return C;\n  } else for (var ARRAY in TypedArrayConstructorsList) if (has(TypedArrayConstructorsList, NAME)) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {\n      return C;\n    }\n  } throw TypeError('Target is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) {\n      delete TypedArrayConstructor.prototype[KEY];\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) {\n        delete TypedArrayConstructor[KEY];\n      }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8Array[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  if (!global[NAME]) NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != 'function' || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n\n\n/***/ }),\n\n/***/ \"5dfd\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar bind = __webpack_require__(\"e349\");\nvar IndexedObject = __webpack_require__(\"692f\");\nvar toObject = __webpack_require__(\"3553\");\nvar toLength = __webpack_require__(\"d88d\");\nvar arraySpeciesCreate = __webpack_require__(\"1ca1\");\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n\n\n/***/ }),\n\n/***/ \"604f\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"d890\");\nvar inspectSource = __webpack_require__(\"1025\");\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n\n\n/***/ }),\n\n/***/ \"6176\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(\"3da3\");\n\nmodule.exports = function (it) {\n  var result = toInteger(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n\n\n/***/ }),\n\n/***/ \"692f\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(\"efe2\");\nvar classof = __webpack_require__(\"2118\");\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n\n\n/***/ }),\n\n/***/ \"69c5\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(\"857c\");\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n\n\n/***/ }),\n\n/***/ \"69fa\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar IteratorPrototype = __webpack_require__(\"2abc\").IteratorPrototype;\nvar create = __webpack_require__(\"6d60\");\nvar createPropertyDescriptor = __webpack_require__(\"38b9\");\nvar setToStringTag = __webpack_require__(\"27b5\");\nvar Iterators = __webpack_require__(\"9806\");\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n\n\n/***/ }),\n\n/***/ \"6d28\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar IS_PURE = __webpack_require__(\"9b9d\");\nvar store = __webpack_require__(\"3a08\");\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n\n\n/***/ }),\n\n/***/ \"6d51\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar path = __webpack_require__(\"1b99\");\nvar has = __webpack_require__(\"faa8\");\nvar wrappedWellKnownSymbolModule = __webpack_require__(\"4350\");\nvar defineProperty = __webpack_require__(\"d910\").f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n\n\n/***/ }),\n\n/***/ \"6d60\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(\"857c\");\nvar defineProperties = __webpack_require__(\"dbe8\");\nvar enumBugKeys = __webpack_require__(\"18f6\");\nvar hiddenKeys = __webpack_require__(\"d5a8\");\nvar html = __webpack_require__(\"6fdf\");\nvar documentCreateElement = __webpack_require__(\"ae25\");\nvar sharedKey = __webpack_require__(\"7db2\");\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n\n\n/***/ }),\n\n/***/ \"6d7a\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar path = __webpack_require__(\"1b99\");\nvar global = __webpack_require__(\"d890\");\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n\n\n/***/ }),\n\n/***/ \"6f82\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toObject = __webpack_require__(\"3553\");\nvar toLength = __webpack_require__(\"d88d\");\nvar getIteratorMethod = __webpack_require__(\"b60f\");\nvar isArrayIteratorMethod = __webpack_require__(\"98a9\");\nvar bind = __webpack_require__(\"e349\");\nvar aTypedArrayConstructor = __webpack_require__(\"5a9e\").aTypedArrayConstructor;\n\nmodule.exports = function from(source /* , mapfn, thisArg */) {\n  var O = toObject(source);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var i, length, result, step, iterator, next;\n  if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    O = [];\n    while (!(step = next.call(iterator)).done) {\n      O.push(step.value);\n    }\n  }\n  if (mapping && argumentsLength > 2) {\n    mapfn = bind(mapfn, arguments[2], 2);\n  }\n  length = toLength(O.length);\n  result = new (aTypedArrayConstructor(this))(length);\n  for (i = 0; length > i; i++) {\n    result[i] = mapping ? mapfn(O[i], i) : O[i];\n  }\n  return result;\n};\n\n\n/***/ }),\n\n/***/ \"6fdf\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar getBuiltIn = __webpack_require__(\"6d7a\");\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n\n\n/***/ }),\n\n/***/ \"7063\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(\"a719\");\nvar setPrototypeOf = __webpack_require__(\"50fb\");\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n\n\n/***/ }),\n\n/***/ \"74cb\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar NATIVE_SYMBOL = __webpack_require__(\"c54b\");\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n\n\n/***/ }),\n\n/***/ \"74e7\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof = __webpack_require__(\"2118\");\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n\n\n/***/ }),\n\n/***/ \"77ad\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(\"1c8b\");\nvar isObject = __webpack_require__(\"a719\");\nvar isArray = __webpack_require__(\"74e7\");\nvar toAbsoluteIndex = __webpack_require__(\"e1d6\");\nvar toLength = __webpack_require__(\"d88d\");\nvar toIndexedObject = __webpack_require__(\"da10\");\nvar createProperty = __webpack_require__(\"1bbd\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\nvar arrayMethodHasSpeciesSupport = __webpack_require__(\"1ea7\");\nvar arrayMethodUsesToLength = __webpack_require__(\"ff9c\");\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n\n\n/***/ }),\n\n/***/ \"79e4\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n\n\n/***/ }),\n\n/***/ \"7aeb\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toPositiveInteger = __webpack_require__(\"6176\");\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n\n\n/***/ }),\n\n/***/ \"7db2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar shared = __webpack_require__(\"6d28\");\nvar uid = __webpack_require__(\"7e8b\");\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\n\n/***/ }),\n\n/***/ \"7e8b\":\n/***/ (function(module, exports) {\n\nvar id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n\n\n/***/ }),\n\n/***/ \"829d\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $sort = [].sort;\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  return $sort.call(aTypedArray(this), comparefn);\n});\n\n\n/***/ }),\n\n/***/ \"83db\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $some = __webpack_require__(\"5dfd\").some;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.some\nexportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {\n  return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ \"857c\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(\"a719\");\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n\n\n/***/ }),\n\n/***/ \"8bbf\":\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__8bbf__;\n\n/***/ }),\n\n/***/ \"8d44\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar getBuiltIn = __webpack_require__(\"6d7a\");\nvar getOwnPropertyNamesModule = __webpack_require__(\"b338\");\nvar getOwnPropertySymbolsModule = __webpack_require__(\"0a60\");\nvar anObject = __webpack_require__(\"857c\");\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n\n\n/***/ }),\n\n/***/ \"8d7b\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toIndexedObject = __webpack_require__(\"da10\");\nvar toInteger = __webpack_require__(\"3da3\");\nvar toLength = __webpack_require__(\"d88d\");\nvar arrayMethodIsStrict = __webpack_require__(\"d7e1\");\nvar arrayMethodUsesToLength = __webpack_require__(\"ff9c\");\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n\n\n/***/ }),\n\n/***/ \"908e\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar has = __webpack_require__(\"faa8\");\nvar toObject = __webpack_require__(\"3553\");\nvar sharedKey = __webpack_require__(\"7db2\");\nvar CORRECT_PROTOTYPE_GETTER = __webpack_require__(\"eec6\");\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n\n\n/***/ }),\n\n/***/ \"90fb\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"d890\");\nvar shared = __webpack_require__(\"6d28\");\nvar has = __webpack_require__(\"faa8\");\nvar uid = __webpack_require__(\"7e8b\");\nvar NATIVE_SYMBOL = __webpack_require__(\"c54b\");\nvar USE_SYMBOL_AS_UID = __webpack_require__(\"74cb\");\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n\n\n/***/ }),\n\n/***/ \"927c\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $every = __webpack_require__(\"5dfd\").every;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.every\nexportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {\n  return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ \"939f\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar toLength = __webpack_require__(\"d88d\");\nvar toAbsoluteIndex = __webpack_require__(\"e1d6\");\nvar speciesConstructor = __webpack_require__(\"ef4c\");\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.subarray` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.subarray\nexportTypedArrayMethod('subarray', function subarray(begin, end) {\n  var O = aTypedArray(this);\n  var length = O.length;\n  var beginIndex = toAbsoluteIndex(begin, length);\n  return new (speciesConstructor(O, O.constructor))(\n    O.buffer,\n    O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT,\n    toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)\n  );\n});\n\n\n/***/ }),\n\n/***/ \"96db\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar charAt = __webpack_require__(\"f62c\").charAt;\nvar InternalStateModule = __webpack_require__(\"b702\");\nvar defineIterator = __webpack_require__(\"99ee\");\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n\n\n/***/ }),\n\n/***/ \"9806\":\n/***/ (function(module, exports) {\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ \"9896\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"install\", function() { return /* reexport */ install; });\n__webpack_require__.d(__webpack_exports__, \"ModelObj\", function() { return /* reexport */ model_obj; });\n__webpack_require__.d(__webpack_exports__, \"ModelFbx\", function() { return /* reexport */ model_fbx; });\n__webpack_require__.d(__webpack_exports__, \"ModelThree\", function() { return /* reexport */ model_three; });\n__webpack_require__.d(__webpack_exports__, \"ModelJson\", function() { return /* reexport */ ModelJson; });\n__webpack_require__.d(__webpack_exports__, \"ModelStl\", function() { return /* reexport */ model_stl; });\n__webpack_require__.d(__webpack_exports__, \"ModelPly\", function() { return /* reexport */ model_ply; });\n__webpack_require__.d(__webpack_exports__, \"ModelCollada\", function() { return /* reexport */ model_collada; });\n__webpack_require__.d(__webpack_exports__, \"ModelDae\", function() { return /* reexport */ ModelDae; });\n__webpack_require__.d(__webpack_exports__, \"ModelGltf\", function() { return /* reexport */ model_gltf; });\n\n// CONCATENATED MODULE: ./node_modules/_@vue_cli-service@4.4.6@@vue/cli-service/lib/commands/build/setPublicPath.js\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (true) {\n    var getCurrentScript = __webpack_require__(\"79e4\")\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_require__.p = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\n/* harmony default export */ var setPublicPath = (null);\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.array.for-each.js\nvar es_array_for_each = __webpack_require__(\"fe59\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__(\"053b\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(\"08ba\");\n\n// EXTERNAL MODULE: external {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}\nvar external_commonjs_vue_commonjs2_vue_root_Vue_ = __webpack_require__(\"8bbf\");\nvar external_commonjs_vue_commonjs2_vue_root_Vue_default = /*#__PURE__*/__webpack_require__.n(external_commonjs_vue_commonjs2_vue_root_Vue_);\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(\"e35a\");\n\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/build/three.module.js\n// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n\tNumber.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n\tNumber.isInteger = function ( value ) {\n\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n\t};\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n\tMath.sign = function ( x ) {\n\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n\t};\n\n}\n\nif ( 'name' in Function.prototype === false ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n\tObject.defineProperty( Function.prototype, 'name', {\n\n\t\tget: function () {\n\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n\t\t}\n\n\t} );\n\n}\n\nif ( Object.assign === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n\tObject.assign = function ( target ) {\n\n\t\tif ( target === undefined || target === null ) {\n\n\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\n\n\t\t}\n\n\t\tconst output = Object( target );\n\n\t\tfor ( let index = 1; index < arguments.length; index ++ ) {\n\n\t\t\tconst source = arguments[ index ];\n\n\t\t\tif ( source !== undefined && source !== null ) {\n\n\t\t\t\tfor ( const nextKey in source ) {\n\n\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn output;\n\n\t};\n\n}\n\nconst REVISION = '118';\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst FrontFaceDirectionCW = 0;\nconst FrontFaceDirectionCCW = 1;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst FlatShading = 1;\nconst SmoothShading = 2;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst CubeUVRefractionMapping = 307;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedShort565Type = 1019;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat = 1022;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst RGBEFormat = RGBAFormat;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBIntegerFormat = 1032;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nconst SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nconst SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nconst SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nconst SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nconst SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nconst SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nconst SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nconst SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nconst SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nconst SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nconst SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nconst SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nconst SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst GammaEncoding = 3007;\nconst RGBEEncoding = 3002;\nconst LogLuvEncoding = 3003;\nconst RGBM7Encoding = 3004;\nconst RGBM16Encoding = 3005;\nconst RGBDEncoding = 3006;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author thezwap\n */\n\nconst _lut = [];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nconst MathUtils = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tconst d0 = Math.random() * 0xffffffff | 0;\n\t\tconst d1 = Math.random() * 0xffffffff | 0;\n\t\tconst d2 = Math.random() * 0xffffffff | 0;\n\t\tconst d3 = Math.random() * 0xffffffff | 0;\n\t\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\treturn uuid.toUpperCase();\n\n\t},\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * MathUtils.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * MathUtils.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tsetQuaternionFromProperEuler: function ( q, a, b, c, order ) {\n\n\t\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t\t// rotations are applied to the axes in the order specified by 'order'\n\t\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t\t// angles are in radians\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c2 = cos( b / 2 );\n\t\tconst s2 = sin( b / 2 );\n\n\t\tconst c13 = cos( ( a + c ) / 2 );\n\t\tconst s13 = sin( ( a + c ) / 2 );\n\n\t\tconst c1_3 = cos( ( a - c ) / 2 );\n\t\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\t\tconst c3_1 = cos( ( c - a ) / 2 );\n\t\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYX':\n\t\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZY':\n\t\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXZ':\n\t\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZX':\n\t\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXY':\n\t\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYZ':\n\t\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x = 0, y = 0 ) {\n\n\tthis.x = x;\n\tthis.y = y;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tcross: function ( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t},\n\n\trandom: function () {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( throwOnDegenerate !== undefined ) {\n\n\t\t\tconsole.warn( \"THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.\" );\n\n\t\t}\n\n\t\tconst me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nlet _canvas;\n\nconst ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nlet textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.internalFormat = null;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tconst image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = MathUtils.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tlet url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( let i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\turl.push( ImageUtils.getDataURL( image[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = ImageUtils.getDataURL( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n} );\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x = 0, y = 0, z = 0, w = 1 ) {\n\n\tthis.x = x;\n\tthis.y = y;\n\tthis.z = z;\n\tthis.w = w;\n\n}\n\nObject.defineProperties( Vector4.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.z = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.w = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t},\n\n\trandom: function () {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture.image = {};\n\tthis.texture.image.width = width;\n\tthis.texture.image.height = height;\n\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: WebGLRenderTarget,\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * @author Matt DesLauriers / @mattdesl\n */\n\nfunction WebGLMultisampleRenderTarget( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.samples = 4;\n\n}\n\nWebGLMultisampleRenderTarget.prototype = Object.assign( Object.create( WebGLRenderTarget.prototype ), {\n\n\tconstructor: WebGLMultisampleRenderTarget,\n\n\tisWebGLMultisampleRenderTarget: true,\n\n\tcopy: function ( source ) {\n\n\t\tWebGLRenderTarget.prototype.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x = 0, y = 0, z = 0, w = 1 ) {\n\n\tthis._x = x;\n\tthis._y = y;\n\tthis._z = z;\n\tthis._w = w;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t},\n\n\tmultiplyQuaternionsFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function ( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tconst EPS = 0.000001;\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < EPS ) {\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t},\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nconst _vector = new Vector3();\nconst _quaternion = new Quaternion();\n\nfunction Vector3( x = 0, y = 0, z = 0 ) {\n\n\tthis.x = x;\n\tthis.y = y;\n\tthis.z = z;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\n\n\t},\n\n\tapplyAxisAngle: function ( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyNormalMatrix: function ( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function ( planeNormal ) {\n\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector );\n\n\t},\n\n\treflect: function ( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t},\n\n\tangleTo: function ( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tsetFromMatrix3Column: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t},\n\n\trandom: function () {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nconst _v1 = new Vector3();\nconst _m1 = new Matrix4();\nconst _zero = new Vector3( 0, 0, 0 );\nconst _one = new Vector3( 1, 1, 1 );\nconst _x = new Vector3();\nconst _y = new Vector3();\nconst _z = new Vector3();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function ( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function ( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t},\n\n\tlookAt: function ( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\tif ( throwOnDegenerate !== undefined ) {\n\n\t\t\tconsole.warn( \"THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.\" );\n\n\t\t}\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function ( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tlet sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tlet sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nconst _matrix = new Matrix4();\nconst _quaternion$1 = new Quaternion();\n\nfunction Euler( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\tthis._x = x;\n\tthis._y = y;\n\tthis._z = z;\n\tthis._order = order;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tconst clamp = MathUtils.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function ( q, order, update ) {\n\n\t\t_matrix.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix, order, update );\n\n\t},\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function ( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$1.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$1, newOrder );\n\n\t},\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\tenableAll: function () {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\tdisableAll: function () {\n\n\t\tthis.mask = 0;\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\nlet _object3DId = 0;\n\nconst _v1$1 = new Vector3();\nconst _q1 = new Quaternion();\nconst _m1$1 = new Matrix4();\nconst _target = new Vector3();\n\nconst _position = new Vector3();\nconst _scale = new Vector3();\nconst _quaternion$2 = new Quaternion();\n\nconst _xAxis = new Vector3( 1, 0, 0 );\nconst _yAxis = new Vector3( 0, 1, 0 );\nconst _zAxis = new Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tconst position = new Vector3();\n\tconst rotation = new Euler();\n\tconst quaternion = new Quaternion();\n\tconst scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation._onChange( onRotationChange );\n\tquaternion._onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateOnWorldAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t},\n\n\ttranslateOnAxis: function ( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$1.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t},\n\n\ttranslateX: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t},\n\n\ttranslateY: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t},\n\n\ttranslateZ: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t},\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.getInverse( this.matrixWorld ) );\n\n\t},\n\n\tlookAt: function ( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.inverse() );\n\n\t\t}\n\n\t},\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tattach: function ( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.getInverse( this.matrixWorld );\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tthis.matrixWorld.decompose( _position, target, _scale );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldScale: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion$2, target );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t},\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Scene';\n\n\tthis.background = null;\n\tthis.environment = null;\n\tthis.fog = null;\n\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Scene,\n\n\tisScene: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nconst _points = [\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3()\n];\n\nconst _vector$1 = new Vector3();\n\nconst _box = new Box3();\n\n// triangle centered vertices\n\nconst _v0 = new Vector3();\nconst _v1$2 = new Vector3();\nconst _v2 = new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = new Vector3();\nconst _f1 = new Vector3();\nconst _f2 = new Vector3();\n\nconst _center = new Vector3();\nconst _extents = new Vector3();\nconst _triangleNormal = new Vector3();\nconst _testAxis = new Vector3();\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function ( center, size ) {\n\n\t\tconst halfSize = _vector$1.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function ( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box.copy( geometry.boundingBox );\n\t\t\t_box.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box );\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$1 );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$1.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t},\n\n\tintersectsTriangle: function ( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0.subVectors( triangle.a, _center );\n\t\t_v1$2.subVectors( triangle.b, _center );\n\t\t_v2.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$2, _v0 );\n\t\t_f1.subVectors( _v2, _v1$2 );\n\t\t_f2.subVectors( _v0, _v2 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0, _v1$2, _v2, _extents );\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\tconst clampedPoint = _vector$1.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t},\n\n\tgetBoundingSphere: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$1 ).length() * 0.5;\n\n\t\treturn target;\n\n\t},\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _box$1 = new Box3();\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : - 1;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$1.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\treturn ( this.radius < 0 );\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t},\n\n\tgetBoundingBox: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\nconst _vector$2 = new Vector3();\nconst _segCenter = new Vector3();\nconst _segDir = new Vector3();\nconst _diff = new Vector3();\n\nconst _edge1 = new Vector3();\nconst _edge2 = new Vector3();\nconst _normal = new Vector3();\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3( 0, 0, - 1 );\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function ( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$2 ) );\n\n\t\treturn this;\n\n\t},\n\n\tclosestPointToPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function ( point ) {\n\n\t\tconst directionDistance = _vector$2.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$2.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$2.distanceToSquared( point );\n\n\t},\n\n\tdistanceSqToSegment: function ( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t},\n\n\tintersectSphere: function ( sphere, target ) {\n\n\t\t_vector$2.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$2.dot( this.direction );\n\t\tconst d2 = _vector$2.dot( _vector$2 ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn this.intersectBox( box, _vector$2 ) !== null;\n\n\t},\n\n\tintersectTriangle: function ( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t},\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nconst _vector1 = new Vector3();\nconst _vector2 = new Vector3();\nconst _normalMatrix = new Matrix3();\n\nfunction Plane( normal, constant ) {\n\n\t// normal is assumed to be normalized\n\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n\tisPlane: true,\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function ( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t},\n\n\tintersectLine: function ( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t},\n\n\tintersectsLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t},\n\n\tcoplanarPoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function ( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nconst _v0$1 = new Vector3();\nconst _v1$3 = new Vector3();\nconst _v2$1 = new Vector3();\nconst _v3 = new Vector3();\n\nconst _vab = new Vector3();\nconst _vac = new Vector3();\nconst _vbc = new Vector3();\nconst _vap = new Vector3();\nconst _vbp = new Vector3();\nconst _vcp = new Vector3();\n\nfunction Triangle( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n\tgetNormal: function ( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t},\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tgetBarycoord: function ( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$1.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$1 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$1 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t},\n\n\tcontainsPoint: function ( point, a, b, c ) {\n\n\t\tTriangle.getBarycoord( point, a, b, c, _v3 );\n\n\t\treturn ( _v3.x >= 0 ) && ( _v3.y >= 0 ) && ( ( _v3.x + _v3.y ) <= 1 );\n\n\t},\n\n\tgetUV: function ( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3.x );\n\t\ttarget.addScaledVector( uv2, _v3.y );\n\t\ttarget.addScaledVector( uv3, _v3.z );\n\n\t\treturn target;\n\n\t},\n\n\tisFrontFacing: function ( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tgetArea: function () {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t},\n\n\tgetMidpoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tgetNormal: function ( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t},\n\n\tgetPlane: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Plane();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tgetBarycoord: function ( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t},\n\n\tgetUV: function ( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tisFrontFacing: function ( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t},\n\n\tclosestPointToPoint: function ( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t},\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function ( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = MathUtils.euclideanModulo( h, 1 );\n\t\ts = MathUtils.clamp( s, 0, 1 );\n\t\tl = MathUtils.clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetColorName: function ( style ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tconst safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function ( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function ( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopySRGBToLinear: function ( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToSRGB: function ( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t},\n\n\tconvertSRGBToLinear: function () {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToSRGB: function () {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function ( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpHSL: function ( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = MathUtils.lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = MathUtils.lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = MathUtils.lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\nColor.NAMES = _colorKeywords;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\tthis.color = ( color && color.isColor ) ? color : new Color();\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( let i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( let i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nlet materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexColors = false;\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilWriteMask = 0xff;\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilFuncMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.version = 0;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function ( /* shaderobject, renderer */ ) {},\n\n\tcustomProgramCacheKey: function () {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\t\t\tdata.refractionRatio = this.refractionRatio;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nObject.defineProperty( Material.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nconst _vector$3 = new Vector3();\nconst _vector2$1 = new Vector2();\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2$1.fromBufferAttribute( this, i );\n\t\t\t\t_vector2$1.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2$1.x, _vector2$1.y, );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$3.fromBufferAttribute( this, i );\n\t\t\t\t_vector$3.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyNormalMatrix: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tconst groups = [];\n\n\t\tlet group, i;\n\t\tlet materialIndex = undefined;\n\n\t\tconst faces = geometry.faces;\n\n\t\tfor ( i = 0; i < faces.length; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tconst faces = geometry.faces;\n\t\tconst vertices = geometry.vertices;\n\t\tconst faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tconst hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tconst hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tconst morphTargets = geometry.morphTargets;\n\t\tconst morphTargetsLength = morphTargets.length;\n\n\t\tlet morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( let i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = {\n\t\t\t\t\tname: morphTargets[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tconst morphNormals = geometry.morphNormals;\n\t\tconst morphNormalsLength = morphNormals.length;\n\n\t\tlet morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( let i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = {\n\t\t\t\t\tname: morphNormals[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tconst skinIndices = geometry.skinIndices;\n\t\tconst skinWeights = geometry.skinWeights;\n\n\t\tconst hasSkinIndices = skinIndices.length === vertices.length;\n\t\tconst hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < faces.length; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tconst normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tconst vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tconst color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tconst vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tconst vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( let j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tconst morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tconst morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tlet max = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nlet _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nconst _m1$2 = new Matrix4();\nconst _obj = new Object3D();\nconst _offset = new Vector3();\nconst _box$2 = new Box3();\nconst _boxMorphTargets = new Box3();\nconst _vector$4 = new Vector3();\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: _bufferGeometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\tthis.morphTargetsRelative = false;\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tsetAttribute: function ( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tdeleteAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$2.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$2.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$2.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$2.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$2.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tconst positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tconst colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.setAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.setAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tconst lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.setAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tlet geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tlet direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tconst attribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tconst attribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tconst attribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tconst attribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tconst attribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tconst positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.setAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tconst normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tconst colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.setAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tconst uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tconst uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.setAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( const name in geometry.morphTargets ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( let i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tconst morphTarget = morphTargets[ i ];\n\n\t\t\t\tconst attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\n\t\t\t\tattribute.name = morphTarget.name;\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tconst skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tconst skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$2.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.min, _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.max, _box$2.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$2.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$2.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$4.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$4.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$4.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$4.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$4.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$4.x, _vector$4.y, _vector$4.z );\n\n\t\t}\n\n\t},\n\n\ttoNonIndexed: function () {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst attributeData = attribute.toJSON( data.data );\n\n\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\tdata.data.attributes[ key ] = attributeData;\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tconst attributeData = attribute.toJSON( data.data );\n\n\t\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\t\tarray.push( attributeData );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nconst _inverseMatrix = new Matrix4();\nconst _ray = new Ray();\nconst _sphere = new Sphere();\n\nconst _vA = new Vector3();\nconst _vB = new Vector3();\nconst _vC = new Vector3();\n\nconst _tempA = new Vector3();\nconst _tempB = new Vector3();\nconst _tempC = new Vector3();\n\nconst _morphA = new Vector3();\nconst _morphB = new Vector3();\nconst _morphC = new Vector3();\n\nconst _uvA = new Vector2();\nconst _uvB = new Vector2();\nconst _uvC = new Vector2();\n\nconst _intersectionPoint = new Vector3();\nconst _intersectionPointWorld = new Vector3();\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.getInverse( matrixWorld );\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tconst uv = geometry.attributes.uv;\n\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\tconst groups = geometry.groups;\n\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst isMultiMaterial = Array.isArray( material );\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst faces = geometry.faces;\n\t\t\tlet uvs;\n\n\t\t\tconst faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\tfor ( let f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = faces[ f ];\n\t\t\t\tconst faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\tconst fvA = vertices[ face.a ];\n\t\t\t\tconst fvB = vertices[ face.b ];\n\t\t\t\tconst fvC = vertices[ face.c ];\n\n\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, _ray, fvA, fvB, fvC, _intersectionPoint );\n\n\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\tconst uvs_f = uvs[ f ];\n\t\t\t\t\t\t_uvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t_uvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t_uvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, fvA, fvB, fvC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection.face = face;\n\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA.fromBufferAttribute( position, a );\n\t_vB.fromBufferAttribute( position, b );\n\t_vC.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA.add( _morphA );\n\t\t_vB.add( _morphB );\n\t\t_vC.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh ) {\n\n\t\tobject.boneTransform( a, _vA );\n\t\tobject.boneTransform( b, _vB );\n\t\tobject.boneTransform( c, _vC );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv, a );\n\t\t\t_uvB.fromBufferAttribute( uv, b );\n\t\t\t_uvC.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv2, a );\n\t\t\t_uvB.fromBufferAttribute( uv2, b );\n\t\t\t_uvC.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tconst face = new Face3( a, b, c );\n\t\tTriangle.getNormal( _vA, _vB, _vC, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nlet _geometryId = 0; // Geometry uses even numbers as Id\nconst _m1$3 = new Matrix4();\nconst _obj$1 = new Object3D();\nconst _offset$1 = new Vector3();\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: _geometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Geometry,\n\n\tisGeometry: true,\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( let i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tconst vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( let i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tconst face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( let j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$3.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$3.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$3.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$3.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$3.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj$1.lookAt( vector );\n\n\t\t_obj$1.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj$1.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tconst scope = this;\n\n\t\tconst index = geometry.index !== null ? geometry.index : undefined;\n\t\tconst attributes = geometry.attributes;\n\n\t\tif ( attributes.position === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst position = attributes.position;\n\t\tconst normal = attributes.normal;\n\t\tconst color = attributes.color;\n\t\tconst uv = attributes.uv;\n\t\tconst uv2 = attributes.uv2;\n\n\t\tif ( uv2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\tscope.vertices.push( new Vector3().fromBufferAttribute( position, i ) );\n\n\t\t\tif ( color !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color().fromBufferAttribute( color, i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tconst vertexColors = ( color === undefined ) ? [] : [\n\t\t\t\tscope.colors[ a ].clone(),\n\t\t\t\tscope.colors[ b ].clone(),\n\t\t\t\tscope.colors[ c ].clone()\n\t\t\t];\n\n\t\t\tconst vertexNormals = ( normal === undefined ) ? [] : [\n\t\t\t\tnew Vector3().fromBufferAttribute( normal, a ),\n\t\t\t\tnew Vector3().fromBufferAttribute( normal, b ),\n\t\t\t\tnew Vector3().fromBufferAttribute( normal, c )\n\t\t\t];\n\n\t\t\tconst face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uv !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv, a ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv, b ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv, c )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( uv2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv2, a ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv2, b ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv2, c )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( let i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tconst start = group.start;\n\t\t\t\tconst count = group.count;\n\n\t\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( index !== undefined ) {\n\n\t\t\t\t\t\taddFace( index.getX( j ), index.getX( j + 1 ), index.getX( j + 2 ), group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tfor ( let i = 0; i < index.count; i += 3 ) {\n\n\t\t\t\t\taddFace( index.getX( i ), index.getX( i + 1 ), index.getX( i + 2 ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = 0; i < position.count; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset$1 ).negate();\n\n\t\tthis.translate( _offset$1.x, _offset$1.y, _offset$1.z );\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tconst center = this.boundingSphere.center;\n\t\tconst radius = this.boundingSphere.radius;\n\n\t\tconst s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tconst matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tconst vA = this.vertices[ face.a ];\n\t\t\tconst vB = this.vertices[ face.b ];\n\t\t\tconst vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\n\n\t\tconst vertices = new Array( this.vertices.length );\n\n\t\tfor ( let v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = this.faces[ f ];\n\n\t\t\t\tconst vA = this.vertices[ face.a ];\n\t\t\t\tconst vB = this.vertices[ face.b ];\n\t\t\t\tconst vC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( let i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tconst tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( let i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tconst dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tconst dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tconst faceNormal = new Vector3();\n\t\t\t\t\tconst vertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = this.faces[ f ];\n\n\t\t\t\tconst faceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tconst vertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( let i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tconst vertex = vertices2[ i ];\n\n\t\t\tconst vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( let i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( let i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tlet face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( let j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( let i = 0, il = geometry.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tconst faceVertexUvs2 = geometry.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) this.faceVertexUvs[ i ] = [];\n\n\t\t\tfor ( let j = 0, jl = faceVertexUvs2.length; j < jl; j ++ ) {\n\n\t\t\t\tconst uvs2 = faceVertexUvs2[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( let k = 0, kl = uvs2.length; k < kl; k ++ ) {\n\n\t\t\t\t\tuvsCopy.push( uvs2[ k ].clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tconst verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tconst unique = [], changes = [];\n\n\t\tconst precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tconst precision = Math.pow( 10, precisionPoints );\n\n\t\tfor ( let i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tconst v = this.vertices[ i ];\n\t\t\tconst key = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tconst faceIndicesToRemove = [];\n\n\t\tfor ( let i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tconst face = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tconst indices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( let n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tconst idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( let j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tconst diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tconst faces = this.faces;\n\t\tconst length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tconst uvs1 = this.faceVertexUvs[ 0 ];\n\t\tconst uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tlet newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tconst vertices = [];\n\n\t\tfor ( let i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tconst vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tconst faces = [];\n\t\tconst normals = [];\n\t\tconst normalsHash = {};\n\t\tconst colors = [];\n\t\tconst colorsHash = {};\n\t\tconst uvs = [];\n\t\tconst uvsHash = {};\n\n\t\tfor ( let i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tconst face = this.faces[ i ];\n\n\t\t\tconst hasMaterial = true;\n\t\t\tconst hasFaceUv = false; // deprecated\n\t\t\tconst hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tconst hasFaceNormal = face.normal.length() > 0;\n\t\t\tconst hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tconst hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tconst hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tlet faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tconst faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tconst vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tconst hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tconst hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tconst hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tconst vertices = source.vertices;\n\n\t\tfor ( let i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tconst colors = source.colors;\n\n\t\tfor ( let i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tconst faces = source.faces;\n\n\t\tfor ( let i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( let i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tconst faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tconst uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( let k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tconst uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphTargets = source.morphTargets;\n\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tconst morphNormals = source.morphNormals;\n\n\t\tfor ( let i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tconst morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tconst destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tconst skinWeights = source.skinWeights;\n\n\t\tfor ( let i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tconst skinIndices = source.skinIndices;\n\n\t\tfor ( let i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tconst lineDistances = source.lineDistances;\n\n\t\tfor ( let i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nclass BoxGeometry extends Geometry {\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\n// BoxBufferGeometry\n\nclass BoxBufferGeometry extends BufferGeometry {\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\twidth = width || 1;\n\t\theight = height || 1;\n\t\tdepth = depth || 1;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments ) || 1;\n\t\theightSegments = Math.floor( heightSegments ) || 1;\n\t\tdepthSegments = Math.floor( depthSegments ) || 1;\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = default_vertex;\n\tthis.fragmentShader = default_fragment;\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\tthis.uniformsNeedUpdate = false;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\tthis.defines = Object.assign( {}, source.defines );\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = Object.assign( {}, source.extensions );\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tconst data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.uniforms = {};\n\n\tfor ( const name in this.uniforms ) {\n\n\t\tconst uniform = this.uniforms[ name ];\n\t\tconst value = uniform.value;\n\n\t\tif ( value && value.isTexture ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t};\n\n\t\t} else if ( value && value.isColor ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'c',\n\t\t\t\tvalue: value.getHex()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\tvalue: value\n\t\t\t};\n\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t}\n\n\t}\n\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\tconst extensions = {};\n\n\tfor ( const key in this.extensions ) {\n\n\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t}\n\n\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\treturn data;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\n\tthis.projectionMatrix = new Matrix4();\n\tthis.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tObject3D.prototype.updateWorldMatrix.call( this, updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = MathUtils.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tconst vExtentSlope = Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn MathUtils.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tlet near = this.near,\n\t\t\ttop = near * Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n\t\t\theight = 2 * top,\n\t\t\twidth = this.aspect * height,\n\t\t\tleft = - 0.5 * width,\n\t\t\tview = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nconst three_module_fov = 90, three_module_aspect = 1;\n\nfunction CubeCamera( near, far, renderTarget ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\n\n\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\n\t\treturn;\n\n\t}\n\n\tthis.renderTarget = renderTarget;\n\n\tconst cameraPX = new PerspectiveCamera( three_module_fov, three_module_aspect, near, far );\n\tcameraPX.layers = this.layers;\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tconst cameraNX = new PerspectiveCamera( three_module_fov, three_module_aspect, near, far );\n\tcameraNX.layers = this.layers;\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tconst cameraPY = new PerspectiveCamera( three_module_fov, three_module_aspect, near, far );\n\tcameraPY.layers = this.layers;\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tconst cameraNY = new PerspectiveCamera( three_module_fov, three_module_aspect, near, far );\n\tcameraNY.layers = this.layers;\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tconst cameraPZ = new PerspectiveCamera( three_module_fov, three_module_aspect, near, far );\n\tcameraPZ.layers = this.layers;\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tconst cameraNZ = new PerspectiveCamera( three_module_fov, three_module_aspect, near, far );\n\tcameraNZ.layers = this.layers;\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t};\n\n\tthis.clear = function ( renderer, color, depth, stencil ) {\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( renderTarget, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\n/**\n * @author alteredq / http://alteredqualia.com\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction WebGLCubeRenderTarget( size, options, dummy ) {\n\n\tif ( Number.isInteger( options ) ) {\n\n\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\toptions = dummy;\n\n\t}\n\n\tWebGLRenderTarget.call( this, size, size, options );\n\n}\n\nWebGLCubeRenderTarget.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLCubeRenderTarget.prototype.constructor = WebGLCubeRenderTarget;\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nWebGLCubeRenderTarget.prototype.fromEquirectangularTexture = function ( renderer, texture ) {\n\n\tthis.texture.type = texture.type;\n\tthis.texture.format = texture.format;\n\tthis.texture.encoding = texture.encoding;\n\n\tconst scene = new Scene();\n\n\tconst shader = {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t\"varying vec3 vWorldDirection;\",\n\n\t\t\t\"vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\",\n\n\t\t\t\"\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\",\n\n\t\t\t\"}\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvWorldDirection = transformDirection( position, modelMatrix );\",\n\n\t\t\t\"\t#include <begin_vertex>\",\n\t\t\t\"\t#include <project_vertex>\",\n\n\t\t\t\"}\"\n\n\t\t].join( '\\n' ),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform sampler2D tEquirect;\",\n\n\t\t\t\"varying vec3 vWorldDirection;\",\n\n\t\t\t\"#include <common>\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvec3 direction = normalize( vWorldDirection );\",\n\n\t\t\t\"\tvec2 sampleUV = equirectUv( direction );\",\n\n\t\t\t\"\tgl_FragColor = texture2D( tEquirect, sampleUV );\",\n\n\t\t\t\"}\"\n\n\t\t].join( '\\n' ),\n\t};\n\n\tconst material = new ShaderMaterial( {\n\n\t\tname: 'CubemapFromEquirect',\n\n\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\tvertexShader: shader.vertexShader,\n\t\tfragmentShader: shader.fragmentShader,\n\t\tside: BackSide,\n\t\tblending: NoBlending\n\n\t} );\n\n\tmaterial.uniforms.tEquirect.value = texture;\n\n\tconst mesh = new Mesh( new BoxBufferGeometry( 5, 5, 5 ), material );\n\n\tscene.add( mesh );\n\n\tconst camera = new CubeCamera( 1, 10, this );\n\tcamera.update( renderer, scene );\n\n\tmesh.geometry.dispose();\n\tmesh.material.dispose();\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nconst _sphere$1 = new Sphere();\nconst _vector$5 = new Vector3();\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromProjectionMatrix: function ( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function ( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t},\n\n\tintersectsSprite: function ( sprite ) {\n\n\t\t_sphere$1.center.set( 0, 0, 0 );\n\t\t_sphere$1.radius = 0.7071067811865476;\n\t\t_sphere$1.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$5.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$5.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$5.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$5 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n} );\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = 5123;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PlaneGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\tthis.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PlaneBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\twidth = width || 1;\n\theight = height || 1;\n\n\tconst width_half = width / 2;\n\tconst height_half = height / 2;\n\n\tconst gridX = Math.floor( widthSegments ) || 1;\n\tconst gridY = Math.floor( heightSegments ) || 1;\n\n\tconst gridX1 = gridX + 1;\n\tconst gridY1 = gridY + 1;\n\n\tconst segment_width = width / gridX;\n\tconst segment_height = height / gridY;\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\tconst y = iy * segment_height - height_half;\n\n\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\tuvs.push( ix / gridX );\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tconst a = ix + gridX1 * iy;\n\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha  = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n  return m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_maxMipLevel 8.0\\n#define cubeUV_minMipLevel 4.0\\n#define cubeUV_maxTileSize 256.0\\n#define cubeUV_minTileSize 16.0\\nfloat getFace(vec3 direction) {\\n    vec3 absDirection = abs(direction);\\n    float face = -1.0;\\n    if (absDirection.x > absDirection.z) {\\n      if (absDirection.x > absDirection.y)\\n        face = direction.x > 0.0 ? 0.0 : 3.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    } else {\\n      if (absDirection.z > absDirection.y)\\n        face = direction.z > 0.0 ? 2.0 : 5.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    }\\n    return face;\\n}\\nvec2 getUV(vec3 direction, float face) {\\n    vec2 uv;\\n    if (face == 0.0) {\\n      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {\\n      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {\\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {\\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {\\n      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {\\n      uv = vec2(direction.x, direction.y) / abs(direction.z);    }\\n    return 0.5 * (uv + 1.0);\\n}\\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\\n  float face = getFace(direction);\\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\\n  mipInt = max(mipInt, cubeUV_minMipLevel);\\n  float faceSize = exp2(mipInt);\\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\\n  vec2 f = fract(uv);\\n  uv += 0.5 - f;\\n  if (face > 2.0) {\\n    uv.y += faceSize;\\n    face -= 3.0;\\n  }\\n  uv.x += face * faceSize;\\n  if(mipInt < cubeUV_maxMipLevel){\\n    uv.y += 2.0 * cubeUV_maxTileSize;\\n  }\\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\\n  uv *= texelSize;\\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x += texelSize;\\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.y += texelSize;\\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x -= texelSize;\\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  vec3 tm = mix(tl, tr, f.x);\\n  vec3 bm = mix(bl, br, f.x);\\n  return mix(tm, bm, f.y);\\n}\\n#define r0 1.0\\n#define v0 0.339\\n#define m0 -2.0\\n#define r1 0.8\\n#define v1 0.276\\n#define m1 -1.0\\n#define r4 0.4\\n#define v4 0.046\\n#define m4 2.0\\n#define r5 0.305\\n#define v5 0.016\\n#define m5 3.0\\n#define r6 0.21\\n#define v6 0.0038\\n#define m6 4.0\\nfloat roughnessToMip(float roughness) {\\n  float mip = 0.0;\\n  if (roughness >= r1) {\\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\\n  } else if (roughness >= r4) {\\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\\n  } else if (roughness >= r5) {\\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\\n  } else if (roughness >= r6) {\\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\\n  } else {\\n    mip = -2.0 * log2(1.16 * roughness);  }\\n  return mip;\\n}\\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\\n  float mipF = fract(mip);\\n  float mipInt = floor(mip);\\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\\n  if (mipF == 0.0) {\\n    return vec4(color0, 1.0);\\n  } else {\\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\\n    return vec4(mix(color0, color1, mipF), 1.0);\\n  }\\n}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\t\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t}  else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec2 sampleUV = equirectUv( reflectVec );\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) { \\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t  vec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV = equirectUv( reflectVec );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3\\tdiffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSPARENCY\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSPARENCY\\n\\tuniform float transparency;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSPARENCY\\n\\t\\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\ttransparency: { value: 0 },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, objects, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = 0;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLCubeRenderTarget || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tconst texture = background.isWebGLCubeRenderTarget ? background.texture : background;\n\n\t\t\tboxMesh.material.uniforms.envMap.value = texture;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = texture.isCubeTexture ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== texture.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = texture.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * @author Takahiro / https://github.com/takahirox\n */\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( geometry );\n\n\t\t\tif ( updateBuffers ) saveCache( geometry );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh === true ) {\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {}\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( geometry ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tif ( Object.keys( cachedAttributes ).length !== Object.keys( geometryAttributes ).length ) return true;\n\n\t\tfor ( const key in geometryAttributes ) {\n\n\t\t\tconst cachedAttribute = cachedAttributes[ key ];\n\t\t\tconst geometryAttribute = geometryAttributes[ key ];\n\n\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\tif ( cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( geometry ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst data = {};\n\t\t\tdata.attribute = attribute;\n\n\t\t\tif ( attribute.data ) {\n\n\t\t\t\tdata.data = attribute.data;\n\n\t\t\t}\n\n\t\t\tcache[ key ] = data;\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, normalized, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tconst geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceMatrix );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 0, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 1, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 2, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 3, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatilibity\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = cache.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tcache.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tlet nPlanes = planes !== null ? planes.length : 0,\n\t\t\tdstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\treturn {\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ];\n\n\t\t\t}\n\n\t\t\tlet extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = new WeakMap();\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\t\tconst buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( const name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries.delete( geometry );\n\n\t\tconst attribute = wireframeAttributes.get( buffergeometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( buffergeometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tlet buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries.set( geometry, buffergeometry );\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\tinstanceCount = instanceCount || 1;\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tlet influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tworkInfluences.sort( numericalSort );\n\n\t\tconst morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tconst morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\tlet morphInfluencesSum = 0;\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tconst influence = workInfluences[ i ];\n\t\t\tconst index = influence[ 0 ];\n\t\t\tconst value = influence[ 1 ];\n\n\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t} else {\n\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== undefined ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== undefined ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\tformat = format !== undefined ? format : RGBFormat;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\n/**\n * @author Takahiro https://github.com/takahirox\n */\n\nfunction DataTexture2DArray( data, width, height, depth ) {\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture2DArray.prototype = Object.create( Texture.prototype );\nDataTexture2DArray.prototype.constructor = DataTexture2DArray;\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\n/**\n * @author Artur Trzesiok\n */\n\nfunction DataTexture3D( data, width, height, depth ) {\n\n\t// We're going to add .setXXX() methods for setting properties later.\n\t// Users can still set in DataTexture3D directly.\n\t//\n\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t// \ttexture.anisotropy = 16;\n\t//\n\t// See #14839\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n\n}\n\nDataTexture3D.prototype = Object.create( Texture.prototype );\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * @author tschw\n * @author Mugen87 / https://github.com/Mugen87\n * @author mrdoob / http://mrdoob.com/\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = new Texture();\nconst emptyTexture2dArray = new DataTexture2DArray();\nconst emptyTexture3d = new DataTexture3D();\nconst emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tlet n = nBlocks * blockSize,\n\t\tr = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// uint\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n// Array of scalars\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tlet cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tconst seq = this.seq;\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ],\n\t\t\tidIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tconst n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tconst u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tconst v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tconst r = [];\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nlet programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tconst lines = string.split( '\\n' );\n\n\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tconst source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}[\\s]+?#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string\n\t\t.replace( unrollLoopPattern, loopReplacer )\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\n\n}\n\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\n\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\n\treturn loopReplacer( match, start, end, snippet );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[ i \\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = \"precision \" + parameters.precision + \" float;\\nprecision \" + parameters.precision + \" int;\";\n\n\tif ( parameters.precision === \"highp\" ) {\n\n\t\tprecisionstring += \"\\n#define HIGH_PRECISION\";\n\n\t} else if ( parameters.precision === \"mediump\" ) {\n\n\t\tprecisionstring += \"\\n#define MEDIUM_PRECISION\";\n\n\t} else if ( parameters.precision === \"lowp\" ) {\n\n\t\tprecisionstring += \"\\n#define LOW_PRECISION\";\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t\tcase EquirectangularReflectionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tconst gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t' attribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.map ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcap ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMap ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMap ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.lightMap ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && ! parameters.isRawShaderMaterial ) {\n\n\t\tlet isGLSL3ShaderMaterial = false;\n\n\t\tconst versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\n\n\t\tif ( parameters.isShaderMaterial &&\n\t\t\tvertexShader.match( versionRegex ) !== null &&\n\t\t\tfragmentShader.match( versionRegex ) !== null ) {\n\n\t\t\tisGLSL3ShaderMaterial = true;\n\n\t\t\tvertexShader = vertexShader.replace( versionRegex, '' );\n\t\t\tfragmentShader = fragmentShader.replace( versionRegex, '' );\n\n\t\t}\n\n\t\t// GLSL 3.0 conversion\n\n\t\tprefixVertex = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define varying in',\n\t\t\tisGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\tisGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = prefixVertex + vertexShader;\n\tconst fragmentGlsl = prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities, bindingStates ) {\n\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst floatVertexTextures = capabilities.floatVertexTextures;\n\tconst maxVertexUniforms = capabilities.maxVertexUniforms;\n\tconst vertexTextures = capabilities.vertexTextures;\n\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tconst parameterNames = [\n\t\t\"precision\", \"isWebGL2\", \"supportsVertexTextures\", \"outputEncoding\", \"instancing\",\n\t\t\"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\", \"envMapCubeUV\",\n\t\t\"lightMap\", \"lightMapEncoding\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"tangentSpaceNormalMap\", \"clearcoatMap\", \"clearcoatRoughnessMap\", \"clearcoatNormalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"vertexUvs\", \"uvsVertexOnly\", \"fog\", \"useFog\", \"fogExp2\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"numDirLightShadows\", \"numPointLightShadows\", \"numSpotLightShadows\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\",\n\t\t\"sheen\"\n\t];\n\n\tfunction getShaderObject( material, shaderID ) {\n\n\t\tlet shaderobject;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tshaderobject = {\n\t\t\t\tname: material.name || material.type,\n\t\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tshaderobject = {\n\t\t\t\tname: material.name || material.type,\n\t\t\t\tuniforms: material.uniforms,\n\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t};\n\n\t\t}\n\n\t\treturn shaderobject;\n\n\t}\n\n\tfunction allocateBones( object ) {\n\n\t\tconst skeleton = object.skeleton;\n\t\tconst bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tconst nVertexUniforms = maxVertexUniforms;\n\t\t\tconst nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tconst maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tlet encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tfunction getParameters( material, lights, shadows, scene, nClipPlanes, nClipIntersection, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = material.envMap || environment;\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tconst maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst shaderobject = getShaderObject( material, shaderID );\n\t\tmaterial.onBeforeCompile( shaderobject, renderer );\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: shaderobject.name,\n\n\t\t\tuniforms: shaderobject.uniforms,\n\t\t\tvertexShader: shaderobject.vertexShader,\n\t\t\tfragmentShader: shaderobject.fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial,\n\t\t\tisShaderMaterial: material.isShaderMaterial,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatMap: !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.displacementMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: nClipPlanes,\n\t\t\tnumClipIntersection: nClipIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.get( 'EXT_frag_depth' ) !== null,\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.get( 'WEBGL_draw_buffers' ) !== null,\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.get( 'EXT_shader_texture_lod' ) !== null,\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === undefined ) {\n\n\t\t\tfor ( let i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs\n\t};\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transparent = [];\n\n\tconst defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tlet lists = new WeakMap();\n\n\tfunction onSceneDispose( event ) {\n\n\t\tconst scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tlists.delete( scene );\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tconst cameras = lists.get( scene );\n\t\tlet list;\n\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists.set( scene, new WeakMap() );\n\t\t\tlists.get( scene ).set( camera, list );\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tlist = cameras.get( camera );\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tcameras.set( camera, list );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights() {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLRenderState() {\n\n\tconst lights = new WebGLLights();\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( camera ) {\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates() {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction onSceneDispose( event ) {\n\n\t\tconst scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\trenderStates.delete( scene );\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tlet renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState();\n\t\t\trenderStates.set( scene, new WeakMap() );\n\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tif ( renderStates.get( scene ).has( camera ) === false ) {\n\n\t\t\t\trenderState = new WebGLRenderState();\n\t\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene ).get( camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n  float mean = 0.0;\\n  float squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n    #ifdef HORIZONAL_PASS\\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n      mean += distribution.x;\\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n    #else\\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\\n      mean += depth;\\n      squared_mean += depth * depth;\\n    #endif\\n  }\\n  mean = mean * HALF_SAMPLE_RATE;\\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\\n  float std_dev = sqrt( squared_mean - mean * mean );\\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterials = [],\n\t\t_distanceMaterials = [],\n\n\t\t_materialCache = {};\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tconst shadowMaterialHorizonal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t\"position\",\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tconst pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizonal pass\n\n\t\tshadowMaterialHorizonal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizonal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _depthMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDepthMaterial( {\n\n\t\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_depthMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _distanceMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDistanceMaterial( {\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_distanceMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDepthMaterial( object, geometry, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tlet getMaterialVariant = getDepthMaterialVariant;\n\t\tlet customMaterial = object.customDepthMaterial;\n\n\t\tif ( light.isPointLight === true ) {\n\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( customMaterial === undefined ) {\n\n\t\t\tlet useMorphing = false;\n\n\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t}\n\n\t\t\tlet useSkinning = false;\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tif ( material.skinning === true ) {\n\n\t\t\t\t\tuseSkinning = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst useInstancing = object.isInstancedMesh === true;\n\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tlet enabledCapabilities = {};\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = null;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst currentScissor = new Vector4();\n\tconst currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( ! currentBlendingEnabled ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( \"2d\" ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn MathUtils.isPowerOfTwo( image.width ) && MathUtils.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tinitTexture( textureProperties, texture );\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\n\t\t\tconst isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\tconst cubeImage = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst image = cubeImage[ 0 ],\n\t\t\t\tsupportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tlet mipmaps;\n\n\t\t\tif ( isCompressed ) {\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t} else {\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t}\n\n\t}\n\n\tfunction setTextureCubeDynamic( texture, slot ) {\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, properties.get( texture ).__webglTexture );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && ( isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\n\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\n\t\tconst image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tconst supportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format );\n\n\t\tlet glType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tlet mipmap;\n\t\tconst mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// validation checks for WebGL 1\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tconst glFormat = utils.convert( renderTarget.texture.format );\n\t\tconst glType = utils.convert( renderTarget.texture.type );\n\t\tconst glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tconst glFormat = utils.convert( renderTarget.texture.format );\n\t\t\tconst glType = utils.convert( renderTarget.texture.type );\n\t\t\tconst glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfo.memory.textures ++;\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tconst supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\t// Handles WebGL2 RGBFormat fallback - #18858\n\n\t\tif ( isWebGL2 && renderTarget.texture.format === RGBFormat && ( renderTarget.texture.type === FloatType || renderTarget.texture.type === HalfFloatType ) ) {\n\n\t\t\trenderTarget.texture.format = RGBAFormat;\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.' );\n\n\t\t}\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tconst glFormat = utils.convert( renderTarget.texture.format );\n\t\t\t\t\tconst glType = utils.convert( renderTarget.texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, renderTarget.texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 3553, renderTarget.texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553 );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\t\tconst supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\t_gl.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t_gl.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\tconst width = renderTarget.width;\n\t\t\t\tconst height = renderTarget.height;\n\t\t\t\tlet mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer ); // see #18905\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tlet warnedTexture2D = false;\n\tlet warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\t// currently relying on the fact that WebGLCubeRenderTarget.texture is a Texture and NOT a CubeTexture\n\t\t// TODO: unify these code paths\n\t\tif ( ( texture && texture.isCubeTexture ) ||\n\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n\t\t\t// CompressedTexture can have Array in image :/\n\n\t\t\t// this function alone should take care of cube textures\n\t\t\tsetTextureCube( texture, slot );\n\n\t\t} else {\n\n\t\t\t// assumed: texture property of THREE.WebGLCubeRenderTarget\n\t\t\tsetTextureCubeDynamic( texture, slot );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBIntegerFormat ) return 36248;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group,\n\n\tisGroup: true\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebXRController() {\n\n\tthis._targetRay = null;\n\tthis._grip = null;\n\n}\n\nObject.assign( WebXRController.prototype, {\n\n\tconstructor: WebXRController,\n\n\tgetTargetRaySpace: function () {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t},\n\n\tgetGripSpace: function () {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function ( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdate: function ( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\n\t\tif ( inputSource ) {\n\n\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebXRManager( renderer, gl ) {\n\n\tconst scope = this;\n\n\tlet session = null;\n\n\tlet framebufferScaleFactor = 1.0;\n\n\tlet referenceSpace = null;\n\tlet referenceSpaceType = 'local-floor';\n\n\tlet pose = null;\n\n\tconst controllers = [];\n\tconst inputSourcesMap = new Map();\n\n\t//\n\n\tconst cameraL = new PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\tcameraL.viewport = new Vector4();\n\n\tconst cameraR = new PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\tcameraR.viewport = new Vector4();\n\n\tconst cameras = [ cameraL, cameraR ];\n\n\tconst cameraVR = new ArrayCamera();\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\tlet _currentDepthNear = null;\n\tlet _currentDepthFar = null;\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.isPresenting = false;\n\n\tthis.getController = function ( index ) {\n\n\t\tlet controller = controllers[ index ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new WebXRController();\n\t\t\tcontrollers[ index ] = controller;\n\n\t\t}\n\n\t\treturn controller.getTargetRaySpace();\n\n\t};\n\n\tthis.getControllerGrip = function ( index ) {\n\n\t\tlet controller = controllers[ index ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new WebXRController();\n\t\t\tcontrollers[ index ] = controller;\n\n\t\t}\n\n\t\treturn controller.getGripSpace();\n\n\t};\n\n\t//\n\n\tfunction onSessionEvent( event ) {\n\n\t\tconst controller = inputSourcesMap.get( event.inputSource );\n\n\t\tif ( controller ) {\n\n\t\t\tcontroller.dispatchEvent( { type: event.type } );\n\n\t\t}\n\n\t}\n\n\tfunction onSessionEnd() {\n\n\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\tcontroller.disconnect( inputSource );\n\n\t\t} );\n\n\t\tinputSourcesMap.clear();\n\n\t\t//\n\n\t\trenderer.setFramebuffer( null );\n\t\trenderer.setRenderTarget( renderer.getRenderTarget() ); // Hack #15830\n\t\tanimation.stop();\n\n\t\tscope.isPresenting = false;\n\n\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t}\n\n\tfunction onRequestReferenceSpace( value ) {\n\n\t\treferenceSpace = value;\n\n\t\tanimation.setContext( session );\n\t\tanimation.start();\n\n\t\tscope.isPresenting = true;\n\n\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t}\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t\tif ( scope.isPresenting === true ) {\n\n\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t}\n\n\t};\n\n\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\treferenceSpaceType = value;\n\n\t\tif ( scope.isPresenting === true ) {\n\n\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t}\n\n\t};\n\n\tthis.getReferenceSpace = function () {\n\n\t\treturn referenceSpace;\n\n\t};\n\n\tthis.getSession = function () {\n\n\t\treturn session;\n\n\t};\n\n\tthis.setSession = function ( value ) {\n\n\t\tsession = value;\n\n\t\tif ( session !== null ) {\n\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\n\t\t\tconst attributes = gl.getContextAttributes();\n\n\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\tgl.makeXRCompatible();\n\n\t\t\t}\n\n\t\t\tconst layerInit = {\n\t\t\t\tantialias: attributes.antialias,\n\t\t\t\talpha: attributes.alpha,\n\t\t\t\tdepth: attributes.depth,\n\t\t\t\tstencil: attributes.stencil,\n\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t};\n\n\t\t\t// eslint-disable-next-line no-undef\n\t\t\tconst baseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\n\n\t\t\tsession.requestReferenceSpace( referenceSpaceType ).then( onRequestReferenceSpace );\n\n\t\t\t//\n\n\t\t\tsession.addEventListener( 'inputsourceschange', updateInputSources );\n\n\t\t}\n\n\t};\n\n\tfunction updateInputSources( event ) {\n\n\t\tconst inputSources = session.inputSources;\n\n\t\t// Assign inputSources to available controllers\n\n\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t}\n\n\t\t// Notify disconnected\n\n\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\tconst inputSource = event.removed[ i ];\n\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Notify connected\n\n\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\tconst inputSource = event.added[ i ];\n\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t//\n\n\tconst cameraLPos = new Vector3();\n\tconst cameraRPos = new Vector3();\n\n\t/**\n\t * @author jsantell / https://www.jsantell.com/\n\t *\n\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t * the cameras' projection and world matrices have already been set.\n\t * And that near and far planes are identical for both cameras.\n\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t */\n\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t// VR systems will have identical far and near planes, and\n\t\t// most likely identical top and bottom frustum extents.\n\t\t// Use the left camera for these values.\n\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\tconst left = near * leftFov;\n\t\tconst right = near * rightFov;\n\n\t\t// Calculate the new camera's position offset from the\n\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t// TODO: Better way to apply this offset?\n\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.translateX( xOffset );\n\t\tcamera.translateZ( zOffset );\n\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t\t// Find the union of the frustum values of the cameras and scale\n\t\t// the values so that the near plane's position does not change in world space,\n\t\t// although must now be relative to the new union camera.\n\t\tconst near2 = near + zOffset;\n\t\tconst far2 = far + zOffset;\n\t\tconst left2 = left - xOffset;\n\t\tconst right2 = right + ( ipd - xOffset );\n\t\tconst top2 = topFov * far / far2 * near2;\n\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t}\n\n\tfunction updateCamera( camera, parent ) {\n\n\t\tif ( parent === null ) {\n\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t} else {\n\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t}\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t}\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\tsession.updateRenderState( {\n\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\tdepthFar: cameraVR.far\n\t\t\t} );\n\n\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t}\n\n\t\tconst parent = camera.parent;\n\t\tconst cameras = cameraVR.cameras;\n\n\t\tupdateCamera( cameraVR, parent );\n\n\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t}\n\n\t\t// update camera and its children\n\n\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\tconst children = camera.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t}\n\n\t\t// update projection matrix for proper view frustum culling\n\n\t\tif ( cameras.length === 2 ) {\n\n\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t} else {\n\n\t\t\t// assume single camera setup (AR)\n\n\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t}\n\n\t\treturn cameraVR;\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\tif ( pose !== null ) {\n\n\t\t\tconst views = pose.views;\n\t\t\tconst baseLayer = session.renderState.baseLayer;\n\n\t\t\trenderer.setFramebuffer( baseLayer.framebuffer );\n\n\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\tconst view = views[ i ];\n\t\t\t\tconst viewport = baseLayer.getViewport( view );\n\n\t\t\t\tconst camera = cameras[ i ];\n\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t}\n\n\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst inputSources = session.inputSources;\n\n\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tconst controller = controllers[ i ];\n\t\t\tconst inputSource = inputSources[ i ];\n\n\t\t\tcontroller.update( inputSource, frame, referenceSpace );\n\n\t\t}\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\n\t};\n\n\tthis.dispose = function () {};\n\n}\n\nObject.assign( WebXRManager.prototype, EventDispatcher.prototype );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLMaterials( properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, environment, pixelRatio, height ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsLambert( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material, environment );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material, environment );\n\n\t\t\t} else {\n\n\t\t\t\trefreshUniformsStandard( uniforms, material, environment );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDepth( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsNormal( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material, environment ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tconst envMap = material.envMap || environment;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tuniforms.maxMipLevel.value = properties.get( envMap ).__maxMipLevel;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. normal map\n\t\t// 4. bump map\n\t\t// 5. alpha map\n\t\t// 6. emissive map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material, environment ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.envMap || environment ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material, environment ) {\n\n\t\trefreshUniformsStandard( uniforms, material, environment );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatMap ) {\n\n\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transparency.value = material.transparency;\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n\tparameters = parameters || {};\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _framebuffer = null;\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentFramebuffer = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\tlet _currentArrayCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tconst _clipping = new WebGLClipping();\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tif ( capabilities.isWebGL2 === false ) {\n\n\t\t\textensions.get( 'WEBGL_depth_texture' );\n\t\t\textensions.get( 'OES_texture_float' );\n\t\t\textensions.get( 'OES_texture_half_float' );\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\t\textensions.get( 'OES_standard_derivatives' );\n\t\t\textensions.get( 'OES_element_index_uint' );\n\t\t\textensions.get( 'OES_vertex_array_object' );\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t}\n\n\t\textensions.get( 'OES_texture_float_linear' );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities, bindingStates );\n\t\tmaterials = new WebGLMaterials( properties );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates();\n\n\t\tbackground = new WebGLBackground( _this, state, objects, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// shadow map\n\n\tconst shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\n\t\txr.dispose();\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tconst programInfo = properties.get( material ).program;\n\n\t\tmaterial.program = undefined;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tbindingStates.initAttributes();\n\n\t\tconst buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tbindingStates.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tif ( material.morphTargets || material.morphNormals ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( geometry, drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\n\n\t\t\trenderer.renderInstances( geometry, drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tconst compiled = new WeakMap();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tlet material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tlet material2 = material[ i ];\n\n\t\t\t\t\t\tif ( compiled.has( material2 ) === false ) {\n\n\t\t\t\t\t\t\tinitMaterial( material2, scene, object );\n\t\t\t\t\t\t\tcompiled.set( material2 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( compiled.has( material ) === false ) {\n\n\t\t\t\t\tinitMaterial( material, scene, object );\n\t\t\t\t\tcompiled.set( material );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( xr.isPresenting ) return;\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tlet renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// reset caching for this frame\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tcamera = xr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) _clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tif ( _clippingEnabled === true ) _clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\t// _gl.finish();\n\n\t\tcurrentRenderList = null;\n\t\tcurrentRenderState = null;\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\tconst object = renderItem.object;\n\t\t\tconst geometry = renderItem.geometry;\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\tconst group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tconst cameras = camera.cameras;\n\n\t\t\t\tfor ( let j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tbindingStates.reset();\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t}\n\n\tfunction initMaterial( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, _clipping.numPlanes, _clipping.numIntersection, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet program = materialProperties.program;\n\t\tlet programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.cacheKey !== programCacheKey ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( materialProperties.lightsStateVersion !== lightsStateVersion ) {\n\n\t\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\t\tprogramChange = false;\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\t\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\t\tmaterial.program = program;\n\n\t\t}\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tfor ( let i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tfor ( let i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = materialProperties.program.getUniforms(),\n\t\t\tuniformsList =\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\t_clipping.setState(\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\n\t\t\t\t\tcamera, materialProperties, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.program === undefined ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.environment !== environment ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tinitMaterial( material, scene, object );\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tconst bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tlet size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = MathUtils.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, environment, _pixelRatio, _height );\n\n\t\t\t// RectAreaLight Texture\n\t\t\t// TODO (mrdoob): Find a nicer implementation\n\n\t\t\tif ( m_uniforms.ltc_1 !== undefined ) m_uniforms.ltc_1.value = UniformsLib.LTC_1;\n\t\t\tif ( m_uniforms.ltc_2 !== undefined ) m_uniforms.ltc_2.value = UniformsLib.LTC_2;\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\t//\n\tthis.setFramebuffer = function ( value ) {\n\n\t\tif ( _framebuffer !== value && _currentRenderTarget === null ) _gl.bindFramebuffer( 36160, value );\n\n\t\t_framebuffer = value;\n\n\t};\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace, activeMipmapLevel ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tlet framebuffer = _framebuffer;\n\t\tlet isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace || 0 ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + ( activeCubeFace || 0 ), textureProperties.__webglTexture, activeMipmapLevel || 0 );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tlet restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level ) {\n\n\t\tif ( level === undefined ) level = 0;\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\t\tconst glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\n\n\t\tif ( level === undefined ) level = 0;\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGL1Renderer( parameters ) {\n\n\tWebGLRenderer.call( this, parameters );\n\n}\n\nWebGL1Renderer.prototype = Object.assign( Object.create( WebGLRenderer.prototype ), {\n\n\tconstructor: WebGL1Renderer,\n\n\tisWebGL1Renderer: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction FogExp2( color, density ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n}\n\nObject.assign( FogExp2.prototype, {\n\n\tisFogExp2: true,\n\n\tclone: function () {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog( color, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nObject.assign( Fog.prototype, {\n\n\tisFog: true,\n\n\tclone: function () {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n\tthis.uuid = MathUtils.generateUUID();\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function ( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = MathUtils.generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new InterleavedBuffer( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = MathUtils.generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.prototype.slice.call( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nconst _vector$6 = new Vector3();\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.name = '';\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function ( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interlaved attribtue\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.rotation = 0;\n\n\tthis.sizeAttenuation = true;\n\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.rotation = source.rotation;\n\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nlet _geometry;\n\nconst _intersectPoint = new Vector3();\nconst _worldScale = new Vector3();\nconst _mvPosition = new Vector3();\n\nconst _alignedPosition = new Vector2();\nconst _rotatedPosition = new Vector2();\nconst _viewWorldMatrix = new Matrix4();\n\nconst _vA$1 = new Vector3();\nconst _vB$1 = new Vector3();\nconst _vC$1 = new Vector3();\n\nconst _uvA$1 = new Vector2();\nconst _uvB$1 = new Vector2();\nconst _uvC$1 = new Vector2();\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tif ( _geometry === undefined ) {\n\n\t\t_geometry = new BufferGeometry();\n\n\t\tconst float32Array = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t] );\n\n\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t}\n\n\tthis.geometry = _geometry;\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\tthis.center = new Vector2( 0.5, 0.5 );\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA$1.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB$1.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC$1.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA$1.set( 0, 0 );\n\t\t_uvB$1.set( 1, 0 );\n\t\t_uvC$1.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA$1, _vB$1, _vC$1, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB$1.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB$1.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA$1, _vC$1, _vB$1, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nconst _v1$4 = new Vector3();\nconst _v2$2 = new Vector3();\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis._currentLevel = 0;\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n\tthis.autoUpdate = true;\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tisLOD: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tconst levels = source.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance ) {\n\n\t\tif ( distance === undefined ) distance = 0;\n\n\t\tdistance = Math.abs( distance );\n\n\t\tconst levels = this.levels;\n\n\t\tlet l;\n\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetCurrentLevel: function () {\n\n\t\treturn this._currentLevel;\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$4 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t},\n\n\tupdate: function ( camera ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = _v1$4.distanceTo( _v2$2 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tconst levels = this.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\tconsole.error( 'THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t}\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tMesh.prototype.copy.call( this, source );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t},\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tboneTransform: ( function () {\n\n\t\tconst basePosition = new Vector3();\n\n\t\tconst skinIndex = new Vector4();\n\t\tconst skinWeight = new Vector4();\n\n\t\tconst vector = new Vector3();\n\t\tconst matrix = new Matrix4();\n\n\t\treturn function ( index, target ) {\n\n\t\t\tconst skeleton = this.skeleton;\n\t\t\tconst geometry = this.geometry;\n\n\t\t\tskinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t\tskinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t\tbasePosition.fromBufferAttribute( geometry.attributes.position, index ).applyMatrix4( this.bindMatrix );\n\n\t\t\ttarget.set( 0, 0, 0 );\n\n\t\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\t\tconst weight = skinWeight.getComponent( i );\n\n\t\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\t\tconst boneIndex = skinIndex.getComponent( i );\n\n\t\t\t\t\tmatrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\t\ttarget.addScaledVector( vector.copy( basePosition ).applyMatrix4( matrix ), weight );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn target.applyMatrix4( this.bindMatrixInverse );\n\n\t\t};\n\n\t}() )\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\n\nconst _offsetMatrix = new Matrix4();\nconst _identityMatrix = new Matrix4();\n\nfunction Skeleton( bones, boneInverses ) {\n\n\t// copy the bone array\n\n\tbones = bones || [];\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n\tthis.frame = - 1;\n\n\t// use the supplied bone inverses or calculate the inverses\n\n\tif ( boneInverses === undefined ) {\n\n\t\tthis.calculateInverses();\n\n\t} else {\n\n\t\tif ( this.bones.length === boneInverses.length ) {\n\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses = [];\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: function () {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\t\tconst boneMatrices = this.boneMatrices;\n\t\tconst boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== undefined ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t},\n\n\tgetBoneByName: function ( name ) {\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tdispose: function ( ) {\n\n\t\tif ( this.boneTexture ) {\n\n\t\t\tthis.boneTexture.dispose();\n\n\t\t\tthis.boneTexture = undefined;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nconst _instanceLocalMatrix = new Matrix4();\nconst _instanceWorldMatrix = new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _mesh = new Mesh();\n\nfunction InstancedMesh( geometry, material, count ) {\n\n\tMesh.call( this, geometry, material );\n\n\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\n\n\tthis.count = count;\n\n\tthis.frustumCulled = false;\n\n}\n\nInstancedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: InstancedMesh,\n\n\tisInstancedMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tMesh.prototype.copy.call( this, source );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t},\n\n\tgetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t},\n\n\tsetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nconst _start = new Vector3();\nconst _end = new Vector3();\nconst _inverseMatrix$1 = new Matrix4();\nconst _ray$1 = new Ray();\nconst _sphere$2 = new Sphere();\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t},\n\n\tcomputeLineDistances: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst lineDistances = geometry.lineDistances;\n\n\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\tfor ( let i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere );\n\t\t_sphere$2.applyMatrix4( matrixWorld );\n\t\t_sphere$2.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$2 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.getInverse( matrixWorld );\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positions = attributes.position.array;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst indices = index.array;\n\n\t\t\t\tfor ( let i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\tconst a = indices[ i ];\n\t\t\t\t\tconst b = indices[ i + 1 ];\n\n\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst nbVertices = vertices.length;\n\n\t\t\tfor ( let i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nconst _start$1 = new Vector3();\nconst _end$1 = new Vector3();\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [];\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst lineDistances = geometry.lineDistances;\n\n\t\t\tfor ( let i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t_start$1.copy( vertices[ i ] );\n\t\t\t\t_end$1.copy( vertices[ i + 1 ] );\n\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mgreter / http://github.com/mgreter\n */\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nconst _inverseMatrix$2 = new Matrix4();\nconst _ray$2 = new Ray();\nconst _sphere$3 = new Sphere();\nconst _position$1 = new Vector3();\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\t\t_sphere$3.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.getInverse( matrixWorld );\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positions = attributes.position.array;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst indices = index.array;\n\n\t\t\t\tfor ( let i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst a = indices[ i ];\n\n\t\t\t\t\t_position$1.fromArray( positions, a * 3 );\n\n\t\t\t\t\ttestPoint( _position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n\t\t\t\t\t_position$1.fromArray( positions, i * 3 );\n\n\t\t\t\t\ttestPoint( _position$1, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst vertices = geometry.vertices;\n\n\t\t\tfor ( let i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\ttestPoint( vertices[ i ], i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray$2.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray$2.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.format = format !== undefined ? format : RGBFormat;\n\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\tthis.generateMipmaps = false;\n\n}\n\nVideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\n\n\tconstructor: VideoTexture,\n\n\tisVideoTexture: true,\n\n\tupdate: function () {\n\n\t\tconst video = this.image;\n\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WireframeGeometry( geometry ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'WireframeGeometry';\n\n\t// buffer\n\n\tconst vertices = [];\n\n\t// helper variables\n\n\tconst edge = [ 0, 0 ], edges = {};\n\tconst keys = [ 'a', 'b', 'c' ];\n\n\t// different logic for Geometry and BufferGeometry\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\t// create a data structure that contains all edges without duplicates\n\n\t\tconst faces = geometry.faces;\n\n\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\tconst edge1 = face[ keys[ j ] ];\n\t\t\t\tconst edge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\tconst key = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices\n\n\t\tfor ( const key in edges ) {\n\n\t\t\tconst e = edges[ key ];\n\n\t\t\tlet vertex = geometry.vertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\tlet vertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst indices = geometry.index;\n\t\t\tlet groups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\tconst start = group.start;\n\t\t\t\tconst count = group.count;\n\n\t\t\t\tfor ( let i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tconst edge1 = indices.getX( i + j );\n\t\t\t\t\t\tconst edge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tconst key = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( const key in edges ) {\n\n\t\t\t\tconst e = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\n\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\nWireframeGeometry.prototype.constructor = WireframeGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\n// ParametricGeometry\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\n// ParametricBufferGeometry\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\tconst EPS = 0.00001;\n\n\tconst normal = new Vector3();\n\n\tconst p0 = new Vector3(), p1 = new Vector3();\n\tconst pu = new Vector3(), pv = new Vector3();\n\n\tif ( func.length < 3 ) {\n\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t}\n\n\t// generate vertices, normals and uvs\n\n\tconst sliceCount = slices + 1;\n\n\tfor ( let i = 0; i <= stacks; i ++ ) {\n\n\t\tconst v = i / stacks;\n\n\t\tfor ( let j = 0; j <= slices; j ++ ) {\n\n\t\t\tconst u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tfunc( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( let i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( let j = 0; j < slices; j ++ ) {\n\n\t\t\tconst a = i * sliceCount + j;\n\t\t\tconst b = i * sliceCount + j + 1;\n\t\t\tconst c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tconst d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PolyhedronGeometry\n\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PolyhedronGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n// PolyhedronBufferGeometry\n\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PolyhedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tradius = radius || 1;\n\tdetail = detail || 0;\n\n\t// default buffer data\n\n\tconst vertexBuffer = [];\n\tconst uvBuffer = [];\n\n\t// the subdivision creates the vertex buffer data\n\n\tsubdivide( detail );\n\n\t// all vertices should lie on a conceptual sphere with a given radius\n\n\tapplyRadius( radius );\n\n\t// finally, create the uv data\n\n\tgenerateUVs();\n\n\t// build non-indexed geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\tif ( detail === 0 ) {\n\n\t\tthis.computeVertexNormals(); // flat normals\n\n\t} else {\n\n\t\tthis.normalizeNormals(); // smooth normals\n\n\t}\n\n\t// helper functions\n\n\tfunction subdivide( detail ) {\n\n\t\tconst a = new Vector3();\n\t\tconst b = new Vector3();\n\t\tconst c = new Vector3();\n\n\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t// get the vertices of the face\n\n\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t// perform subdivision\n\n\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t}\n\n\t}\n\n\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\tconst cols = Math.pow( 2, detail );\n\n\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\tconst v = [];\n\n\t\t// construct all of the vertices for this subdivision\n\n\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\tv[ i ] = [];\n\n\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\tconst rows = cols - i;\n\n\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// construct all of the faces\n\n\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction applyRadius( radius ) {\n\n\t\tconst vertex = new Vector3();\n\n\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tconst vertex = new Vector3();\n\n\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t}\n\n\t\tcorrectUVs();\n\n\t\tcorrectSeam();\n\n\t}\n\n\tfunction correctSeam() {\n\n\t\t// handle case when face straddles the seam, see #3269\n\n\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t// uv data of a single face\n\n\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction pushVertex( vertex ) {\n\n\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t}\n\n\tfunction getVertexByIndex( index, vertex ) {\n\n\t\tconst stride = index * 3;\n\n\t\tvertex.x = vertices[ stride + 0 ];\n\t\tvertex.y = vertices[ stride + 1 ];\n\t\tvertex.z = vertices[ stride + 2 ];\n\n\t}\n\n\tfunction correctUVs() {\n\n\t\tconst a = new Vector3();\n\t\tconst b = new Vector3();\n\t\tconst c = new Vector3();\n\n\t\tconst centroid = new Vector3();\n\n\t\tconst uvA = new Vector2();\n\t\tconst uvB = new Vector2();\n\t\tconst uvC = new Vector2();\n\n\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\tconst azi = azimuth( centroid );\n\n\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t}\n\n\t}\n\n\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t}\n\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t}\n\n\t}\n\n\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\tfunction azimuth( vector ) {\n\n\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t}\n\n\n\t// Angle above the XZ plane.\n\n\tfunction inclination( vector ) {\n\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t}\n\n}\n\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TetrahedronGeometry\n\nfunction TetrahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TetrahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n// TetrahedronBufferGeometry\n\nfunction TetrahedronBufferGeometry( radius, detail ) {\n\n\tconst vertices = [\n\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t];\n\n\tconst indices = [\n\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'TetrahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// OctahedronGeometry\n\nfunction OctahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'OctahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n// OctahedronBufferGeometry\n\nfunction OctahedronBufferGeometry( radius, detail ) {\n\n\tconst vertices = [\n\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t];\n\n\tconst indices = [\n\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t1, 3, 4,\t1, 4, 2\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'OctahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// IcosahedronGeometry\n\nfunction IcosahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'IcosahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n// IcosahedronBufferGeometry\n\nfunction IcosahedronBufferGeometry( radius, detail ) {\n\n\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\tconst vertices = [\n\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t 0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t t, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t];\n\n\tconst indices = [\n\t\t 0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t 1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t 3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t 4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'IcosahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// DodecahedronGeometry\n\nfunction DodecahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'DodecahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n// DodecahedronBufferGeometry\n\nfunction DodecahedronBufferGeometry( radius, detail ) {\n\n\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\tconst r = 1 / t;\n\n\tconst vertices = [\n\n\t\t// (±1, ±1, ±1)\n\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t// (0, ±1/φ, ±φ)\n\t\t 0, - r, - t, 0, - r, t,\n\t\t 0, r, - t, 0, r, t,\n\n\t\t// (±1/φ, ±φ, 0)\n\t\t- r, - t, 0, - r, t, 0,\n\t\t r, - t, 0, r, t, 0,\n\n\t\t// (±φ, 0, ±1/φ)\n\t\t- t, 0, - r, t, 0, - r,\n\t\t- t, 0, r, t, 0, r\n\t];\n\n\tconst indices = [\n\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'DodecahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */\n\n// TubeGeometry\n\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TubeGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\tconst bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = bufferGeometry.tangents;\n\tthis.normals = bufferGeometry.normals;\n\tthis.binormals = bufferGeometry.binormals;\n\n\t// create geometry\n\n\tthis.fromBufferGeometry( bufferGeometry );\n\tthis.mergeVertices();\n\n}\n\nTubeGeometry.prototype = Object.create( Geometry.prototype );\nTubeGeometry.prototype.constructor = TubeGeometry;\n\n// TubeBufferGeometry\n\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TubeBufferGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\ttubularSegments = tubularSegments || 64;\n\tradius = radius || 1;\n\tradialSegments = radialSegments || 8;\n\tclosed = closed || false;\n\n\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = frames.tangents;\n\tthis.normals = frames.normals;\n\tthis.binormals = frames.binormals;\n\n\t// helper variables\n\n\tconst vertex = new Vector3();\n\tconst normal = new Vector3();\n\tconst uv = new Vector2();\n\tlet P = new Vector3();\n\n\t// buffer\n\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\tconst indices = [];\n\n\t// create buffer data\n\n\tgenerateBufferData();\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// functions\n\n\tfunction generateBufferData() {\n\n\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\tgenerateSegment( i );\n\n\t\t}\n\n\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t// at the regular position on the given path\n\t\t//\n\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t// uvs are generated in a separate function.\n\t\t// this makes it easy compute correct values for closed geometries\n\n\t\tgenerateUVs();\n\n\t\t// finally create faces\n\n\t\tgenerateIndices();\n\n\t}\n\n\tfunction generateSegment( i ) {\n\n\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t// retrieve corresponding normal and binormal\n\n\t\tconst N = frames.normals[ i ];\n\t\tconst B = frames.binormals[ i ];\n\n\t\t// generate normals and vertices for the current segment\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\tconst sin = Math.sin( v );\n\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t// normal\n\n\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\tnormal.normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\tfunction generateIndices() {\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\nTubeBufferGeometry.prototype.toJSON = function () {\n\n\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\tdata.path = this.parameters.path.toJSON();\n\n\treturn data;\n\n};\n\n/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */\n\n// TorusKnotGeometry\n\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusKnotGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\tthis.mergeVertices();\n\n}\n\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n// TorusKnotBufferGeometry\n\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusKnotBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\tp = p || 2;\n\tq = q || 3;\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\t// helper variables\n\n\tconst vertex = new Vector3();\n\tconst normal = new Vector3();\n\n\tconst P1 = new Vector3();\n\tconst P2 = new Vector3();\n\n\tconst B = new Vector3();\n\tconst T = new Vector3();\n\tconst N = new Vector3();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t// calculate orthonormal basis\n\n\t\tT.subVectors( P2, P1 );\n\t\tN.addVectors( P2, P1 );\n\t\tB.crossVectors( T, N );\n\t\tN.crossVectors( B, T );\n\n\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\tB.normalize();\n\t\tN.normalize();\n\n\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t// now calculate the final vertex position.\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// this function calculates the current position on the torus curve\n\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\tconst cu = Math.cos( u );\n\t\tconst su = Math.sin( u );\n\t\tconst quOverP = q / p * u;\n\t\tconst cs = Math.cos( quOverP );\n\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t}\n\n}\n\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TorusGeometry\n\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\tthis.mergeVertices();\n\n}\n\nTorusGeometry.prototype = Object.create( Geometry.prototype );\nTorusGeometry.prototype.constructor = TorusGeometry;\n\n// TorusBufferGeometry\n\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\n\tarc = arc || Math.PI * 2;\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\t// helper variables\n\n\tconst center = new Vector3();\n\tconst vertex = new Vector3();\n\tconst normal = new Vector3();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tconst u = i / tubularSegments * arc;\n\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * Port from https://github.com/mapbox/earcut (v2.2.2)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tlet hasHoles = holeIndices && holeIndices.length,\n\t\t\touterLen = hasHoles ? holeIndices[ 0 ] * dim : data.length,\n\t\t\touterNode = linkedList( data, 0, outerLen, dim, true ),\n\t\t\ttriangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || three_module_area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tlet a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( three_module_area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tlet p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tthree_module_area( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tlet a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( three_module_area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tlet minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tlet minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tthree_module_area( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tthree_module_area( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tthree_module_area( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tthree_module_area( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tlet a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tlet queue = [],\n\t\ti, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tconst b = splitPolygon( outerNode, hole );\n\n\t\t// filter collinear points around the cuts\n\t\tfilterPoints( outerNode, outerNode.next );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode,\n\t\thx = hole.x,\n\t\thy = hole.y,\n\t\tqx = - Infinity,\n\t\tm;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tlet x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tlet stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y,\n\t\ttanMin = Infinity,\n\t\ttan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn three_module_area( m.prev, m, p.prev ) < 0 && three_module_area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t\t( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t\t( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // dones't intersect other edges\n\t\t( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n\t\t( three_module_area( a.prev, a, b.prev ) || three_module_area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n\t\tequals( a, b ) && three_module_area( a.prev, a, a.next ) > 0 && three_module_area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction three_module_area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( three_module_area( p1, q1, p2 ) );\n\tconst o2 = sign( three_module_area( p1, q1, q2 ) );\n\tconst o3 = sign( three_module_area( p2, q2, p1 ) );\n\tconst o4 = sign( three_module_area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn three_module_area( a.prev, a, a.next ) < 0 ?\n\t\tthree_module_area( a, b, a.next ) >= 0 && three_module_area( a, a.prev, b ) >= 0 :\n\t\tthree_module_area( a, b, a.prev ) < 0 || three_module_area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false,\n\t\tpx = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tlet a2 = new three_module_Node( a.i, a.x, a.y ),\n\t\tb2 = new three_module_Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new three_module_Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction three_module_Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nconst ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n};\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\n// ExtrudeGeometry\n\nfunction ExtrudeGeometry( shapes, options ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ExtrudeGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\tthis.mergeVertices();\n\n}\n\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\nExtrudeGeometry.prototype.toJSON = function () {\n\n\tconst data = Geometry.prototype.toJSON.call( this );\n\n\tconst shapes = this.parameters.shapes;\n\tconst options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n// ExtrudeBufferGeometry\n\nfunction ExtrudeBufferGeometry( shapes, options ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ExtrudeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\tconst scope = this;\n\n\tconst verticesArray = [];\n\tconst uvArray = [];\n\n\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\tconst shape = shapes[ i ];\n\t\taddShape( shape );\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\tthis.computeVertexNormals();\n\n\t// functions\n\n\tfunction addShape( shape ) {\n\n\t\tconst placeholder = [];\n\n\t\t// options\n\n\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\tlet depth = options.depth !== undefined ? options.depth : 100;\n\n\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\tconst extrudePath = options.extrudePath;\n\n\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t// deprecated options\n\n\t\tif ( options.amount !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\tdepth = options.amount;\n\n\t\t}\n\n\t\t//\n\n\t\tlet extrudePts, extrudeByPath = false;\n\t\tlet splineTube, binormal, normal, position2;\n\n\t\tif ( extrudePath ) {\n\n\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\textrudeByPath = true;\n\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t// SETUP TNB variables\n\n\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\tbinormal = new Vector3();\n\t\t\tnormal = new Vector3();\n\t\t\tposition2 = new Vector3();\n\n\t\t}\n\n\t\t// Safeguards if bevels are not enabled\n\n\t\tif ( ! bevelEnabled ) {\n\n\t\t\tbevelSegments = 0;\n\t\t\tbevelThickness = 0;\n\t\t\tbevelSize = 0;\n\t\t\tbevelOffset = 0;\n\n\t\t}\n\n\t\t// Variables initialization\n\n\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\tlet vertices = shapePoints.shape;\n\t\tconst holes = shapePoints.holes;\n\n\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\tif ( reverse ) {\n\n\t\t\tvertices = vertices.reverse();\n\n\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t/* Vertices */\n\n\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tconst ahole = holes[ h ];\n\n\t\t\tvertices = vertices.concat( ahole );\n\n\t\t}\n\n\n\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t}\n\n\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t// Find directions for point movement\n\n\n\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t//\n\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t// check for collinear edges\n\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t// not collinear\n\n\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t//  but prevent crazy spikes\n\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t}\n\n\n\t\tconst contourMovements = [];\n\n\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\n\t\t\t//  (j)---(i)---(k)\n\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t}\n\n\t\tconst holesMovements = [];\n\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tconst ahole = holes[ h ];\n\n\t\t\toneHoleMovements = [];\n\n\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t}\n\n\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t}\n\n\n\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\tconst t = b / bevelSegments;\n\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t// Back facing vertices\n\n\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t} else {\n\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add stepped vertices...\n\t\t// Including front facing vertices\n\n\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// Add bevel segments planes\n\n\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\tconst t = b / bevelSegments;\n\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t/* Faces */\n\n\t\t// Top and bottom faces\n\n\t\tbuildLidFaces();\n\n\t\t// Sides faces\n\n\t\tbuildSideFaces();\n\n\n\t\t/////  Internal functions\n\n\t\tfunction buildLidFaces() {\n\n\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t}\n\n\t\t// Create faces for the z-sides of the shape\n\n\t\tfunction buildSideFaces() {\n\n\t\t\tconst start = verticesArray.length / 3;\n\t\t\tlet layeroffset = 0;\n\t\t\tsidewalls( contour, layeroffset );\n\t\t\tlayeroffset += contour.length;\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t//, true\n\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t}\n\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t}\n\n\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\tlet i = contour.length;\n\n\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\tconst j = i;\n\t\t\t\tlet k = i - 1;\n\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction v( x, y, z ) {\n\n\t\t\tplaceholder.push( x );\n\t\t\tplaceholder.push( y );\n\t\t\tplaceholder.push( z );\n\n\t\t}\n\n\n\t\tfunction f3( a, b, c ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\n\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\n\t\t}\n\n\t\tfunction f4( a, b, c, d ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( d );\n\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\t\t\taddVertex( d );\n\n\n\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t}\n\n\t\tfunction addVertex( index ) {\n\n\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t}\n\n\n\t\tfunction addUV( vector2 ) {\n\n\t\t\tuvArray.push( vector2.x );\n\t\t\tuvArray.push( vector2.y );\n\n\t\t}\n\n\t}\n\n}\n\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\nExtrudeBufferGeometry.prototype.toJSON = function () {\n\n\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\tconst shapes = this.parameters.shapes;\n\tconst options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n//\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n};\n\nfunction toJSON( shapes, options, data ) {\n\n\t//\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\t//\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\n// TextGeometry\n\nfunction TextGeometry( text, parameters ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TextGeometry';\n\n\tthis.parameters = {\n\t\ttext: text,\n\t\tparameters: parameters\n\t};\n\n\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\tthis.mergeVertices();\n\n}\n\nTextGeometry.prototype = Object.create( Geometry.prototype );\nTextGeometry.prototype.constructor = TextGeometry;\n\n// TextBufferGeometry\n\nfunction TextBufferGeometry( text, parameters ) {\n\n\tparameters = parameters || {};\n\n\tconst font = parameters.font;\n\n\tif ( ! ( font && font.isFont ) ) {\n\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\treturn new Geometry();\n\n\t}\n\n\tconst shapes = font.generateShapes( text, parameters.size );\n\n\t// translate parameters to ExtrudeGeometry API\n\n\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t// defaults\n\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\tExtrudeBufferGeometry.call( this, shapes, parameters );\n\n\tthis.type = 'TextBufferGeometry';\n\n}\n\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// SphereGeometry\n\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'SphereGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nSphereGeometry.prototype = Object.create( Geometry.prototype );\nSphereGeometry.prototype.constructor = SphereGeometry;\n\n// SphereBufferGeometry\n\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'SphereBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\tphiStart = phiStart !== undefined ? phiStart : 0;\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\tlet index = 0;\n\tconst grid = [];\n\n\tconst vertex = new Vector3();\n\tconst normal = new Vector3();\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\tconst verticesRow = [];\n\n\t\tconst v = iy / heightSegments;\n\n\t\t// special case for the poles\n\n\t\tlet uOffset = 0;\n\n\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t}\n\n\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\tconst u = ix / widthSegments;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormal.copy( vertex ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\tverticesRow.push( index ++ );\n\n\t\t}\n\n\t\tgrid.push( verticesRow );\n\n\t}\n\n\t// indices\n\n\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'RingGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'RingBufferGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tinnerRadius = innerRadius || 0.5;\n\touterRadius = outerRadius || 1;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\t// some helper variables\n\n\tlet radius = innerRadius;\n\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\tconst vertex = new Vector3();\n\tconst uv = new Vector2();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// increase the radius for next row of vertices\n\n\t\tradius += radiusStep;\n\n\t}\n\n\t// indices\n\n\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\tconst a = segment;\n\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\tconst d = segment + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// LatheGeometry\n\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'LatheGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\tthis.mergeVertices();\n\n}\n\nLatheGeometry.prototype = Object.create( Geometry.prototype );\nLatheGeometry.prototype.constructor = LatheGeometry;\n\n// LatheBufferGeometry\n\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'LatheBufferGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tsegments = Math.floor( segments ) || 12;\n\tphiStart = phiStart || 0;\n\tphiLength = phiLength || Math.PI * 2;\n\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\tphiLength = MathUtils.clamp( phiLength, 0, Math.PI * 2 );\n\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst uvs = [];\n\n\t// helper variables\n\n\tconst inverseSegments = 1.0 / segments;\n\tconst vertex = new Vector3();\n\tconst uv = new Vector2();\n\n\t// generate vertices and uvs\n\n\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\tconst sin = Math.sin( phi );\n\t\tconst cos = Math.cos( phi );\n\n\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\tvertex.y = points[ j ].y;\n\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// uv\n\n\t\t\tuv.x = i / segments;\n\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\tconst base = j + i * points.length;\n\n\t\t\tconst a = base;\n\t\t\tconst b = base + points.length;\n\t\t\tconst c = base + points.length + 1;\n\t\t\tconst d = base + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// generate normals\n\n\tthis.computeVertexNormals();\n\n\t// if the geometry is closed, we need to average the normals along the seam.\n\t// because the corresponding vertices are identical (but still have different UVs).\n\n\tif ( phiLength === Math.PI * 2 ) {\n\n\t\tconst normals = this.attributes.normal.array;\n\t\tconst n1 = new Vector3();\n\t\tconst n2 = new Vector3();\n\t\tconst n = new Vector3();\n\n\t\t// this is the buffer offset for the last line of vertices\n\n\t\tconst base = segments * points.length * 3;\n\n\t\tfor ( let i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t// select the normal of the vertex in the first line\n\n\t\t\tn1.x = normals[ j + 0 ];\n\t\t\tn1.y = normals[ j + 1 ];\n\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t// select the normal of the vertex in the last line\n\n\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t// average normals\n\n\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t// assign the new values to both normals\n\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t}\n\n\t}\n\n}\n\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// ShapeGeometry\n\nfunction ShapeGeometry( shapes, curveSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ShapeGeometry';\n\n\tif ( typeof curveSegments === 'object' ) {\n\n\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\tcurveSegments = curveSegments.curveSegments;\n\n\t}\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\tthis.mergeVertices();\n\n}\n\nShapeGeometry.prototype = Object.create( Geometry.prototype );\nShapeGeometry.prototype.constructor = ShapeGeometry;\n\nShapeGeometry.prototype.toJSON = function () {\n\n\tconst data = Geometry.prototype.toJSON.call( this );\n\n\tconst shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n// ShapeBufferGeometry\n\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ShapeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tcurveSegments = curveSegments || 12;\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\t// helper variables\n\n\tlet groupStart = 0;\n\tlet groupCount = 0;\n\n\t// allow single and array values for \"shapes\" parameter\n\n\tif ( Array.isArray( shapes ) === false ) {\n\n\t\taddShape( shapes );\n\n\t} else {\n\n\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\taddShape( shapes[ i ] );\n\n\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\tgroupStart += groupCount;\n\t\t\tgroupCount = 0;\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t// helper functions\n\n\tfunction addShape( shape ) {\n\n\t\tconst indexOffset = vertices.length / 3;\n\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\tlet shapeVertices = points.shape;\n\t\tconst shapeHoles = points.holes;\n\n\t\t// check direction of vertices\n\n\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t}\n\n\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t// join vertices of inner and outer paths to a single array\n\n\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t}\n\n\t\t// vertices, normals, uvs\n\n\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\tnormals.push( 0, 0, 1 );\n\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t}\n\n\t\t// incides\n\n\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\tindices.push( a, b, c );\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t}\n\n}\n\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\nShapeBufferGeometry.prototype.toJSON = function () {\n\n\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\tconst shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n//\n\nfunction toJSON$1( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction EdgesGeometry( geometry, thresholdAngle ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'EdgesGeometry';\n\n\tthis.parameters = {\n\t\tthresholdAngle: thresholdAngle\n\t};\n\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t// buffer\n\n\tconst vertices = [];\n\n\t// helper variables\n\n\tconst thresholdDot = Math.cos( MathUtils.DEG2RAD * thresholdAngle );\n\tconst edge = [ 0, 0 ], edges = {};\n\tlet edge1, edge2, key;\n\tconst keys = [ 'a', 'b', 'c' ];\n\n\t// prepare source geometry\n\n\tlet geometry2;\n\n\tif ( geometry.isBufferGeometry ) {\n\n\t\tgeometry2 = new Geometry();\n\t\tgeometry2.fromBufferGeometry( geometry );\n\n\t} else {\n\n\t\tgeometry2 = geometry.clone();\n\n\t}\n\n\tgeometry2.mergeVertices();\n\tgeometry2.computeFaceNormals();\n\n\tconst sourceVertices = geometry2.vertices;\n\tconst faces = geometry2.faces;\n\n\t// now create a data structure where each entry represents an edge with its adjoining faces\n\n\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tconst face = faces[ i ];\n\n\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\tedge[ 0 ] = Math.min( edge1, edge2 );\n\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\n\n\t\t\t} else {\n\n\t\t\t\tedges[ key ].face2 = i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// generate vertices\n\n\tfor ( key in edges ) {\n\n\t\tconst e = edges[ key ];\n\n\t\t// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n\t\tif ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\n\n\t\t\tlet vertex = sourceVertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = sourceVertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\nEdgesGeometry.prototype.constructor = EdgesGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// CylinderGeometry\n\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CylinderGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\nCylinderGeometry.prototype.constructor = CylinderGeometry;\n\n// CylinderBufferGeometry\n\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CylinderBufferGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tconst scope = this;\n\n\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n\theight = height || 1;\n\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\n\topenEnded = openEnded !== undefined ? openEnded : false;\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\t// helper variables\n\n\tlet index = 0;\n\tconst indexArray = [];\n\tconst halfHeight = height / 2;\n\tlet groupStart = 0;\n\n\t// generate geometry\n\n\tgenerateTorso();\n\n\tif ( openEnded === false ) {\n\n\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction generateTorso() {\n\n\t\tconst normal = new Vector3();\n\t\tconst vertex = new Vector3();\n\n\t\tlet groupCount = 0;\n\n\t\t// this will be used to calculate the normal\n\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\tconst indexRow = [];\n\n\t\t\tconst v = y / heightSegments;\n\n\t\t\t// calculate the radius of the current row\n\n\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\t// now save vertices of the row in our index array\n\n\t\t\tindexArray.push( indexRow );\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// update group counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n\tfunction generateCap( top ) {\n\n\t\tlet centerIndexStart, centerIndexEnd;\n\n\t\tconst uv = new Vector2();\n\t\tconst vertex = new Vector3();\n\n\t\tlet groupCount = 0;\n\n\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t// save the index of the first center vertex\n\t\tcenterIndexStart = index;\n\n\t\t// first we generate the center vertex data of the cap.\n\t\t// because the geometry needs one set of uvs per face,\n\t\t// we must generate a center vertex per face/segment\n\n\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// save the index of the last center vertex\n\n\t\tcenterIndexEnd = index;\n\n\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\tconst u = x / radialSegments;\n\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * sinTheta;\n\t\t\tvertex.y = halfHeight * sign;\n\t\t\tvertex.z = radius * cosTheta;\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tconst c = centerIndexStart + x;\n\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\tif ( top === true ) {\n\n\t\t\t\t// face top\n\n\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t} else {\n\n\t\t\t\t// face bottom\n\n\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t}\n\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n}\n\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\n// ConeGeometry\n\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\nConeGeometry.prototype.constructor = ConeGeometry;\n\n// ConeBufferGeometry\n\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */\n\n// CircleGeometry\n\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CircleGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCircleGeometry.prototype = Object.create( Geometry.prototype );\nCircleGeometry.prototype.constructor = CircleGeometry;\n\n// CircleBufferGeometry\n\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CircleBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\t// helper variables\n\n\tconst vertex = new Vector3();\n\tconst uv = new Vector2();\n\n\t// center point\n\n\tvertices.push( 0, 0, 0 );\n\tnormals.push( 0, 0, 1 );\n\tuvs.push( 0.5, 0.5 );\n\n\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t// vertex\n\n\t\tvertex.x = radius * Math.cos( segment );\n\t\tvertex.y = radius * Math.sin( segment );\n\n\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t// normal\n\n\t\tnormals.push( 0, 0, 1 );\n\n\t\t// uvs\n\n\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\tuvs.push( uv.x, uv.y );\n\n\t}\n\n\t// indices\n\n\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\tindices.push( i, i + 1, 0 );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tWireframeGeometry: WireframeGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nShadowMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 1.0;\n\tthis.metalness = 0.0;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.vertexTangents = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.vertexTangents = source.vertexTangents;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  clearcoat: <float>,\n *  clearcoatMap: new THREE.Texture( <Image> ),\n *  clearcoatRoughness: <float>,\n *  clearcoatRoughnessMap: new THREE.Texture( <Image> ),\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n *\n *  reflectivity: <float>,\n *\n *  sheen: <Color>,\n *\n *  transparency: <float>\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.clearcoat = 0.0;\n\tthis.clearcoatMap = null;\n\tthis.clearcoatRoughness = 0.0;\n\tthis.clearcoatRoughnessMap = null;\n\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\tthis.clearcoatNormalMap = null;\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tthis.sheen = null; // null will disable sheen bsdf\n\n\tthis.transparency = 0.0;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.clearcoat = source.clearcoat;\n\tthis.clearcoatMap = source.clearcoatMap;\n\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\tthis.reflectivity = source.reflectivity;\n\n\tif ( source.sheen ) {\n\n\t\tthis.sheen = ( this.sheen || new Color() ).copy( source.sheen );\n\n\t} else {\n\n\t\tthis.sheen = null;\n\n\t}\n\n\tthis.transparency = source.transparency;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  color: <hex>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\tthis.gradientMap = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( Material.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\tthis.gradientMap = source.gradientMap;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshMatcapMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.type = 'MeshMatcapMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.matcap = null;\n\n\tthis.map = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshMatcapMaterial.prototype = Object.create( Material.prototype );\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\nMeshMatcapMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.color.copy( source.color );\n\n\tthis.matcap = source.matcap;\n\n\tthis.map = source.map;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\n/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nconst AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tconst n = times.length;\n\t\tconst result = new Array( n );\n\t\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tconst nValues = values.length;\n\t\tconst result = new values.constructor( nValues );\n\n\t\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tconst srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tlet i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tlet value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps ) {\n\n\t\tfps = fps || 30;\n\n\t\tconst clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tconst track = clip.tracks[ i ];\n\t\t\tconst valueSize = track.getValueSize();\n\n\t\t\tconst times = [];\n\t\t\tconst values = [];\n\n\t\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tlet minStartTime = Infinity;\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t},\n\n\tmakeClipAdditive: function ( targetClip, referenceFrame, referenceClip, fps ) {\n\n\t\tif ( referenceFrame === undefined ) referenceFrame = 0;\n\t\tif ( referenceClip === undefined ) referenceClip = targetClip;\n\t\tif ( fps === undefined || fps <= 0 ) fps = 30;\n\n\t\tconst numTracks = targetClip.tracks.length;\n\t\tconst referenceTime = referenceFrame / fps;\n\n\t\t// Make each track's values relative to the values at the reference frame\n\t\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t\t// Skip this track if it's non-numeric\n\t\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t\t} );\n\n\t\t\tif ( targetTrack === undefined ) continue;\n\n\t\t\tconst valueSize = referenceTrack.getValueSize();\n\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\tlet referenceValue;\n\n\t\t\t// Find the value to subtract out of the track\n\t\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, 0, referenceTrack.valueSize );\n\n\t\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\tconst startIndex = lastIndex * valueSize;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex );\n\n\t\t\t} else {\n\n\t\t\t\t// Interpolate to the reference value\n\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\t\treferenceValue = interpolant.resultBuffer;\n\n\t\t\t}\n\n\t\t\t// Conjugate the quaternion\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\tconst referenceQuat = new Quaternion(\n\t\t\t\t\treferenceValue[ 0 ],\n\t\t\t\t\treferenceValue[ 1 ],\n\t\t\t\t\treferenceValue[ 2 ],\n\t\t\t\t\treferenceValue[ 3 ]\n\t\t\t\t).normalize().conjugate();\n\t\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t\t}\n\n\t\t\t// Subtract the reference value from all of the track values\n\n\t\t\tconst numTimes = targetTrack.times.length;\n\t\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\t\tconst valueStart = j * valueSize;\n\n\t\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart,\n\t\t\t\t\t\treferenceValue,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\t\treturn targetClip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tlet pp = this.parameterPositions,\n\t\t\ti1 = this._cachedIndex,\n\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n// DECLARE ALIAS AFTER assign prototype\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tlet pp = this.parameterPositions,\n\t\t\tiPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n */\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n}\n\n// Static methods\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\ttoJSON: function ( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n} );\n\nObject.assign( KeyframeTrack.prototype, {\n\n\tconstructor: KeyframeTrack,\n\n\tTimeBufferType: Float32Array,\n\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = \"unsupported interpolation for \" +\n\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tconst times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tconst values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrack.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nfunction AnimationClip( name, duration, tracks, blendMode ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\tthis.blendMode = ( blendMode !== undefined ) ? blendMode : NormalAnimationBlendMode;\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( json.name, json.duration, tracks, json.blendMode );\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new AnimationClip( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tvalidate: function () {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new AnimationClip( this.name, this.duration, tracks, this.blendMode );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tconst scope = this;\n\n\tlet isLoading = false;\n\tlet itemsLoaded = 0;\n\tlet itemsTotal = 0;\n\tlet urlModifier = undefined;\n\tconst handlers = [];\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\n\t\treturn this;\n\n\t};\n\n\tthis.addHandler = function ( regex, loader ) {\n\n\t\thandlers.push( regex, loader );\n\n\t\treturn this;\n\n\t};\n\n\tthis.removeHandler = function ( regex ) {\n\n\t\tconst index = handlers.indexOf( regex );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\thandlers.splice( index, 2 );\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.getHandler = function ( file ) {\n\n\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tconst regex = handlers[ i ];\n\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t};\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Loader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\tthis.crossOrigin = 'anonymous';\n\tthis.path = '';\n\tthis.resourcePath = '';\n\tthis.requestHeader = {};\n\n}\n\nObject.assign( Loader.prototype, {\n\n\tload: function ( /* url, onLoad, onProgress, onError */ ) {},\n\n\tloadAsync: function ( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t},\n\n\tparse: function ( /* data */ ) {},\n\n\tsetCrossOrigin: function ( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t},\n\n\tsetResourcePath: function ( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nconst loading = {};\n\nfunction FileLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFileLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FileLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tconst dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tconst dataUriRegexResult = url.match( dataUriRegex );\n\t\tlet request;\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tconst mimeType = dataUriRegexResult[ 1 ];\n\t\t\tconst isBase64 = !! dataUriRegexResult[ 2 ];\n\n\t\t\tlet data = dataUriRegexResult[ 3 ];\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tlet response;\n\t\t\t\tconst responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tconst view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\trequest = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tconst response = this.response;\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\t\tCache.add( url, response );\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( const header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io/\n */\n\nfunction AnimationLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAnimationLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AnimationLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCompressedTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CompressedTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst images = [];\n\n\t\tconst texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nDataTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: DataTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst texture = new DataTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tconst texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ImageLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nImageLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction CubeTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CubeTextureLoader,\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction TextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: TextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tconst isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0, il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t},\n\n\tgetTangentAt: function ( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( MathUtils.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( MathUtils.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle || 0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector2();\n\n\tconst twoPi = Math.PI * 2;\n\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tconst angle = this.aStartAngle + t * deltaAngle;\n\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tconst cos = Math.cos( this.aRotation );\n\t\tconst sin = Math.sin( this.aRotation );\n\n\t\tconst tx = x - this.aX;\n\t\tconst ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\n\nEllipseCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.aX = this.aX;\n\tdata.aY = this.aY;\n\n\tdata.xRadius = this.xRadius;\n\tdata.yRadius = this.yRadius;\n\n\tdata.aStartAngle = this.aStartAngle;\n\tdata.aEndAngle = this.aEndAngle;\n\n\tdata.aClockwise = this.aClockwise;\n\n\tdata.aRotation = this.aRotation;\n\n\treturn data;\n\n};\n\nEllipseCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.aX = json.aX;\n\tthis.aY = json.aY;\n\n\tthis.xRadius = json.xRadius;\n\tthis.yRadius = json.yRadius;\n\n\tthis.aStartAngle = json.aStartAngle;\n\tthis.aEndAngle = json.aEndAngle;\n\n\tthis.aClockwise = json.aClockwise;\n\n\tthis.aRotation = json.aRotation;\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = new Vector3();\nconst px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points || [];\n\tthis.closed = closed || false;\n\tthis.curveType = curveType || 'centripetal';\n\tthis.tension = tension || 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector3();\n\n\tconst points = this.points;\n\tconst l = points.length;\n\n\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tlet intPoint = Math.floor( p );\n\tlet weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tlet p0, p1, p2, p3; // 4 points\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tp1 = points[ intPoint % l ];\n\tp2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tconst point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nCatmullRomCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tconst point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\tdata.closed = this.closed;\n\tdata.curveType = this.curveType;\n\tdata.tension = this.tension;\n\n\treturn data;\n\n};\n\nCatmullRomCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tconst point = json.points[ i ];\n\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t}\n\n\tthis.closed = json.closed;\n\tthis.curveType = json.curveType;\n\tthis.tension = json.tension;\n\n\treturn this;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\tthis.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector2();\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\tthis.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector3();\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction LineCurve( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector2();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( t, optionalTarget ) {\n\n\tconst tangent = optionalTarget || new Vector2();\n\n\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\n\n\treturn tangent;\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector3();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector2();\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector3();\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points /* array of Vector2 */ ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector2();\n\n\tconst points = this.points;\n\tconst p = ( points.length - 1 ) * t;\n\n\tconst intPoint = Math.floor( p );\n\tconst weight = p - intPoint;\n\n\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tconst p1 = points[ intPoint ];\n\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tconst point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nSplineCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tconst point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\treturn data;\n\n};\n\nSplineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tconst point = json.points[ i ];\n\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t}\n\n\treturn this;\n\n};\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 40;\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions ) {\n\n\t\tdivisions = divisions || 12;\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = Curve.prototype.toJSON.call( this );\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurve.prototype.fromJSON.call( this, json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tconstructor: Path,\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = CurvePath.prototype.toJSON.call( this );\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurvePath.prototype.fromJSON.call( this, json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = Path.prototype.toJSON.call( this );\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tPath.prototype.fromJSON.call( this, json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Light( color, intensity ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity !== undefined ? intensity : 1;\n\n\tthis.receiveShadow = undefined;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.castShadow = undefined;\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.normalBias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.mapPass = null;\n\tthis.matrix = new Matrix4();\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis._frustum = new Frustum();\n\tthis._frameExtents = new Vector2( 1, 1 );\n\n\tthis._viewportCount = 1;\n\n\tthis._viewports = [\n\n\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t];\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\t_projScreenMatrix: new Matrix4(),\n\n\t_lightPositionWorld: new Vector3(),\n\n\t_lookTarget: new Vector3(),\n\n\tgetViewportCount: function () {\n\n\t\treturn this._viewportCount;\n\n\t},\n\n\tgetFrustum: function () {\n\n\t\treturn this._frustum;\n\n\t},\n\n\tupdateMatrices: function ( light ) {\n\n\t\tconst shadowCamera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tprojScreenMatrix = this._projScreenMatrix,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tlightPositionWorld = this._lightPositionWorld;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( lookTarget );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\tprojScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t},\n\n\tgetViewport: function ( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t},\n\n\tgetFrameExtents: function () {\n\n\t\treturn this._frameExtents;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = MathUtils.RAD2DEG * 2 * light.angle;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction PointLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\tthis._frameExtents = new Vector2( 4, 2 );\n\n\tthis._viewportCount = 6;\n\n\tthis._viewports = [\n\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t// following orientation:\n\t\t//\n\t\t//  xzXZ\n\t\t//   y Y\n\t\t//\n\t\t// X - Positive x direction\n\t\t// x - Negative x direction\n\t\t// Y - Positive y direction\n\t\t// y - Negative y direction\n\t\t// Z - Positive z direction\n\t\t// z - Negative z direction\n\n\t\t// positive X\n\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t// negative X\n\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t// positive Z\n\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t// negative Z\n\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t// positive Y\n\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t// negative Y\n\t\tnew Vector4( 1, 0, 1, 1 )\n\t];\n\n\tthis._cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tthis._cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n}\n\nPointLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: PointLightShadow,\n\n\tisPointLightShadow: true,\n\n\tupdateMatrices: function ( light, viewportIndex ) {\n\n\t\tif ( viewportIndex === undefined ) viewportIndex = 0;\n\n\t\tconst camera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tlightPositionWorld = this._lightPositionWorld,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tprojScreenMatrix = this._projScreenMatrix;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.copy( camera.position );\n\t\tlookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - lightPositionWorld.x, - lightPositionWorld.y, - lightPositionWorld.z );\n\n\t\tprojScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new PointLightShadow();\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = ( left !== undefined ) ? left : - 1;\n\tthis.right = ( right !== undefined ) ? right : 1;\n\tthis.top = ( top !== undefined ) ? top : 1;\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectionalLightShadow() {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow,\n\n\tisDirectionalLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n\tthis.castShadow = undefined;\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n}\n\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nfunction SphericalHarmonics3() {\n\n\tthis.coefficients = [];\n\n\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\tthis.coefficients.push( new Vector3() );\n\n\t}\n\n}\n\nObject.assign( SphericalHarmonics3.prototype, {\n\n\tisSphericalHarmonics3: true,\n\n\tset: function ( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tzero: function () {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t},\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t},\n\n\tadd: function ( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\taddScaledSH: function ( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcopy: function ( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n} );\n\nObject.assign( SphericalHarmonics3, {\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tgetBasisAt: function ( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * A LightProbe is a source of indirect-diffuse light\n */\n\nfunction LightProbe( sh, intensity ) {\n\n\tLight.call( this, undefined, intensity );\n\n\tthis.type = 'LightProbe';\n\n\tthis.sh = ( sh !== undefined ) ? sh : new SphericalHarmonics3();\n\n}\n\nLightProbe.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: LightProbe,\n\n\tisLightProbe: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction MaterialLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n\tthis.textures = {};\n\n}\n\nMaterialLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: MaterialLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tconst textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tconst material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.vertexTangents !== undefined ) material.vertexTangents = json.vertexTangents;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( const name in json.uniforms ) {\n\n\t\t\t\tconst uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( const key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tlet normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\treturn material;\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nconst LoaderUtils = {\n\n\tdecodeText: function ( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t},\n\n\textractUrlBase: function ( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.instanceCount = Infinity;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\n\n\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\tmeshPerAttribute = normalized;\n\n\t\tnormalized = false;\n\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t}\n\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ()\t{\n\n\t\tconst data = BufferAttribute.prototype.toJSON.call( this );\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometryLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nBufferGeometryLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: BufferGeometryLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tconst interleavedBufferMap = {};\n\t\tconst arrayBufferMap = {};\n\n\t\tfunction getInterleavedBuffer( json, uuid ) {\n\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\n\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\n\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\n\n\t\t\tconst array = new TYPED_ARRAYS[ interleavedBuffer.type ]( buffer );\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\n\t\t\tib.uuid = interleavedBuffer.uuid;\n\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\n\n\t\t\treturn ib;\n\n\t\t}\n\n\t\tfunction getArrayBuffer( json, uuid ) {\n\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\n\n\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\n\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\n\n\t\t\tarrayBufferMap[ uuid ] = ab;\n\n\t\t\treturn ab;\n\n\t\t}\n\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tconst index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tconst attributes = json.data.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\t\t\tlet bufferAttribute;\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t} else {\n\n\t\t\t\tconst typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t}\n\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( const key in morphAttributes ) {\n\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst attribute = attributeArray[ i ];\n\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tconst center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nObjectLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ObjectLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tconst shapes = this.parseShape( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t},\n\n\tparseShape: function ( json ) {\n\n\t\tconst shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t},\n\n\tparseGeometries: function ( json, shapes ) {\n\n\t\tconst geometries = {};\n\t\tlet geometryShapes;\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tlet geometry;\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json, textures ) {\n\n\t\tconst cache = {}; // MultiMaterial\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor ( let j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tconst material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseAnimations: function ( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst data = json[ i ];\n\n\t\t\tconst clip = AnimationClip.parse( data );\n\n\t\t\tif ( data.uuid !== undefined ) clip.uuid = data.uuid;\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tparseImages: function ( json, onLoad ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tconst manager = new LoadingManager( onLoad );\n\n\t\t\tloader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( currentUrl ) ? currentUrl : scope.resourcePath + currentUrl;\n\n\t\t\t\t\t\timages[ image.uuid ].push( loadImage( path ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.resourcePath + image.url;\n\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t},\n\n\tparseTextures: function ( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tconst textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tlet texture;\n\n\t\t\t\tif ( Array.isArray( images[ data.image ] ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( images[ data.image ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = new Texture( images[ data.image ] );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t},\n\n\tparseObject: function ( data, geometries, materials ) {\n\n\t\tlet object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tlet geometry, material;\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LightProbe':\n\n\t\t\t\tobject = new LightProbe().fromJSON( data );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\t\t\t\tconst count = data.count;\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tconst levels = data.levels;\n\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tconst level = levels[ l ];\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n} );\n\nconst TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\n/**\n * @author thespite / http://clicktorelease.com/\n */\n\n\nfunction ImageBitmapLoader( manager ) {\n\n\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t}\n\n\tif ( typeof fetch === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t}\n\n\tLoader.call( this, manager );\n\n\tthis.options = { premultiplyAlpha: 'none' };\n\n}\n\nImageBitmapLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageBitmapLoader,\n\n\tisImageBitmapLoader: true,\n\n\tsetOptions: function setOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tfetch( url ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, scope.options );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.color = new Color();\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tlet solid, tmpPath, tmpShape, shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tconst toChange = [];\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size ) {\n\n\t\tif ( size === undefined ) size = 100;\n\n\t\tconst shapes = [];\n\t\tconst paths = createPaths( text, size, this.data );\n\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction createPaths( text, size, data ) {\n\n\tconst chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // workaround for IE11, see #13988\n\tconst scale = size / data.resolution;\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tconst paths = [];\n\n\tlet offsetX = 0, offsetY = 0;\n\n\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\tconst char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tconst path = new ShapePath();\n\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\n\n\t\t\tconst action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FontLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFontLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FontLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tconst font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nlet _context;\n\nconst AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction AudioLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAudioLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AudioLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction HemisphereLightProbe( skyColor, groundColor, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tconst color1 = new Color().set( skyColor );\n\tconst color2 = new Color().set( groundColor );\n\n\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\tconst c0 = Math.sqrt( Math.PI );\n\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n}\n\nHemisphereLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: HemisphereLightProbe,\n\n\tisHemisphereLightProbe: true,\n\n\tcopy: function ( source ) { // modifying colors not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction AmbientLightProbe( color, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tconst color1 = new Color().set( color );\n\n\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n}\n\nAmbientLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: AmbientLightProbe,\n\n\tisAmbientLightProbe: true,\n\n\tcopy: function ( source ) { // modifying color not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\nconst _eyeRight = new Matrix4();\nconst _eyeLeft = new Matrix4();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n\tthis._cache = {\n\t\tfocus: null,\n\t\tfov: null,\n\t\taspect: null,\n\t\tnear: null,\n\t\tfar: null,\n\t\tzoom: null,\n\t\teyeSep: null\n\t};\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: function ( camera ) {\n\n\t\tconst cache = this._cache;\n\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\tconst projectionMatrix = camera.projectionMatrix.clone();\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tconst ymax = ( cache.near * Math.tan( MathUtils.DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tlet xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n\tstart: function () {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nconst _position$2 = new Vector3();\nconst _quaternion$3 = new Quaternion();\nconst _scale$1 = new Vector3();\nconst _orientation = new Vector3();\n\nfunction AudioListener() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'AudioListener';\n\n\tthis.context = AudioContext.getContext();\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( this.context.destination );\n\n\tthis.filter = null;\n\n\tthis.timeDelta = 0;\n\n\t// private\n\n\tthis._clock = new Clock();\n\n}\n\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: AudioListener,\n\n\tgetInput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tremoveFilter: function ( ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.filter;\n\n\t},\n\n\tsetFilter: function ( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t},\n\n\tgetMasterVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetMasterVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$2, _quaternion$3, _scale$1 );\n\n\t\t_orientation.set( 0, 0, - 1 ).applyQuaternion( _quaternion$3 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$2.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$2.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$2.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$2.x, _position$2.y, _position$2.z );\n\t\t\tlistener.setOrientation( _orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction Audio( listener ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Audio';\n\n\tthis.listener = listener;\n\tthis.context = listener.context;\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( listener.getInput() );\n\n\tthis.autoplay = false;\n\n\tthis.buffer = null;\n\tthis.detune = 0;\n\tthis.loop = false;\n\tthis.loopStart = 0;\n\tthis.loopEnd = 0;\n\tthis.offset = 0;\n\tthis.duration = undefined;\n\tthis.playbackRate = 1;\n\tthis.isPlaying = false;\n\tthis.hasPlaybackControl = true;\n\tthis.sourceType = 'empty';\n\n\tthis._startedAt = 0;\n\tthis._progress = 0;\n\n\tthis.filters = [];\n\n}\n\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Audio,\n\n\tgetOutput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tsetNodeSource: function ( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaElementSource: function ( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaStreamSource: function ( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetBuffer: function ( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t},\n\n\tplay: function ( delay ) {\n\n\t\tif ( delay === undefined ) delay = 0;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t},\n\n\tpause: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t},\n\n\tconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilters: function () {\n\n\t\treturn this.filters;\n\n\t},\n\n\tsetFilters: function ( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value;\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetDetune: function ( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetDetune: function () {\n\n\t\treturn this.detune;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t},\n\n\tsetFilter: function ( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t},\n\n\tsetPlaybackRate: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetPlaybackRate: function () {\n\n\t\treturn this.playbackRate;\n\n\t},\n\n\tonEnded: function () {\n\n\t\tthis.isPlaying = false;\n\n\t},\n\n\tgetLoop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t},\n\n\tsetLoop: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetLoopStart: function ( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoopEnd: function ( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nconst _position$3 = new Vector3();\nconst _quaternion$4 = new Quaternion();\nconst _scale$2 = new Vector3();\nconst _orientation$1 = new Vector3();\n\nfunction PositionalAudio( listener ) {\n\n\tAudio.call( this, listener );\n\n\tthis.panner = this.context.createPanner();\n\tthis.panner.panningModel = 'HRTF';\n\tthis.panner.connect( this.gain );\n\n}\n\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\n\n\tconstructor: PositionalAudio,\n\n\tgetOutput: function () {\n\n\t\treturn this.panner;\n\n\t},\n\n\tgetRefDistance: function () {\n\n\t\treturn this.panner.refDistance;\n\n\t},\n\n\tsetRefDistance: function ( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetRolloffFactor: function () {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t},\n\n\tsetRolloffFactor: function ( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetDistanceModel: function () {\n\n\t\treturn this.panner.distanceModel;\n\n\t},\n\n\tsetDistanceModel: function ( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxDistance: function () {\n\n\t\treturn this.panner.maxDistance;\n\n\t},\n\n\tsetMaxDistance: function ( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetDirectionalCone: function ( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$4, _scale$2 );\n\n\t\t_orientation$1.set( 0, 0, 1 ).applyQuaternion( _quaternion$4 );\n\n\t\tconst panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position$3.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position$3.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position$3.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position$3.x, _position$3.y, _position$3.z );\n\t\t\tpanner.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioAnalyser( audio, fftSize ) {\n\n\tthis.analyser = audio.context.createAnalyser();\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\taudio.getOutput().connect( this.analyser );\n\n}\n\nObject.assign( AudioAnalyser.prototype, {\n\n\tgetFrequencyData: function () {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t},\n\n\tgetAverageFrequency: function () {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n} );\n\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tlet mixFunction,\n\t\tmixFunctionAdditive,\n\t\tsetIdentity;\n\n\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\t//\n\t// 'add' is used for additive cumulative results\n\t//\n\t// 'work' is optional and is only present for quaternion types. It is used\n\t// to store intermediate quaternion multiplication results\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\tthis._workIndex = 5;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tmixFunction = this._select;\n\n\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t// additive is not relevant for non-numeric types\n\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t}\n\n\tthis._mixBufferRegion = mixFunction;\n\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\tthis._setIdentity = setIdentity;\n\tthis._origIndex = 3;\n\tthis._addIndex = 4;\n\n\tthis.cumulativeWeight = 0;\n\tthis.cumulativeWeightAdditive = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive: function ( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\t_setAdditiveIdentityNumeric: function () {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t},\n\n\t_setAdditiveIdentityQuaternion: function () {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * 4 + 3 ] = 1;\n\n\t},\n\n\t_setAdditiveIdentityOther: function () {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_slerpAdditive: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t},\n\n\t_lerpAdditive: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: function ( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t},\n\n\tparseTrackName: function ( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t},\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tconst source = this.resolvedProperty;\n\n\t\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tlet targetObject = this.node,\n\t\t\tparsedPath = this.parsedPath,\n\n\t\t\tobjectName = parsedPath.objectName,\n\t\t\tpropertyName = parsedPath.propertyName,\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n// DECLARE ALIAS AFTER assign prototype\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n *\n * @author tschw\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0; // threshold\n\t// note: read by PropertyBinding.Composite\n\n\tconst indices = {};\n\tthis._indicesByUUID = indices; // for bookkeeping\n\n\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = []; // inside: string\n\tthis._parsedPaths = []; // inside: { we don't care, here }\n\tthis._bindings = []; // inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\tconst scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tlet indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ],\n\t\t\tbindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\n\nfunction AnimationAction( mixer, clip, localRoot, blendMode ) {\n\n\tthis._mixer = mixer;\n\tthis._clip = clip;\n\tthis._localRoot = localRoot || null;\n\tthis.blendMode = blendMode || clip.blendMode;\n\n\tconst tracks = clip.tracks,\n\t\tnTracks = tracks.length,\n\t\tinterpolants = new Array( nTracks );\n\n\tconst interpolantSettings = {\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\t};\n\n\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\tinterpolants[ i ] = interpolant;\n\t\tinterpolant.settings = interpolantSettings;\n\n\t}\n\n\tthis._interpolantSettings = interpolantSettings;\n\n\tthis._interpolants = interpolants; // bound by the mixer\n\n\t// inside: PropertyMixer (managed by the mixer)\n\tthis._propertyBindings = new Array( nTracks );\n\n\tthis._cacheIndex = null; // for the memory manager\n\tthis._byClipCacheIndex = null; // for the memory manager\n\n\tthis._timeScaleInterpolant = null;\n\tthis._weightInterpolant = null;\n\n\tthis.loop = LoopRepeat;\n\tthis._loopCount = - 1;\n\n\t// global mixer time when the action is to be started\n\t// it's set back to 'null' upon start of the action\n\tthis._startTime = null;\n\n\t// scaled local time of the action\n\t// gets clamped or wrapped to 0..clip.duration according to loop\n\tthis.time = 0;\n\n\tthis.timeScale = 1;\n\tthis._effectiveTimeScale = 1;\n\n\tthis.weight = 1;\n\tthis._effectiveWeight = 1;\n\n\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\tthis.paused = false; // true -> zero effective time scale\n\tthis.enabled = true; // false -> zero effective weight\n\n\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n}\n\nObject.assign( AnimationAction.prototype, {\n\n\t// State & Scheduling\n\n\tplay: function () {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t},\n\n\treset: function () {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t},\n\n\tisRunning: function () {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t},\n\n\t// return true when play has been called\n\tisScheduled: function () {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t},\n\n\tstartAt: function ( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoop: function ( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t},\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight: function ( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t},\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight: function () {\n\n\t\treturn this._effectiveWeight;\n\n\t},\n\n\tfadeIn: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t},\n\n\tfadeOut: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t},\n\n\tcrossFadeFrom: function ( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcrossFadeTo: function ( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t},\n\n\tstopFading: function () {\n\n\t\tlet weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale: function ( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale: function () {\n\n\t\treturn this._effectiveTimeScale;\n\n\t},\n\n\tsetDuration: function ( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\tsyncWith: function ( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\thalt: function ( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t},\n\n\twarp: function ( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t},\n\n\tstopWarping: function () {\n\n\t\tlet timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Object Accessors\n\n\tgetMixer: function () {\n\n\t\treturn this._mixer;\n\n\t},\n\n\tgetClip: function () {\n\n\t\treturn this._clip;\n\n\t},\n\n\tgetRoot: function () {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t},\n\n\t// Interna\n\n\t_update: function ( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_updateWeight: function ( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t},\n\n\t_updateTimeScale: function ( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t},\n\n\t_updateTime: function ( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t},\n\n\t_setEndings: function ( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_scheduleFading: function ( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nAnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: AnimationMixer,\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tlet actionsForClip = this._actionsByClip[ clipUuid ],\n\t\t\tprototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime: function ( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Uniform( value ) {\n\n\tif ( typeof value === 'string' ) {\n\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\tvalue = arguments[ 1 ];\n\n\t}\n\n\tthis.value = value;\n\n}\n\nUniform.prototype.clone = function () {\n\n\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function ( data ) {\n\n\t\tconst ib = InterleavedBuffer.prototype.clone.call( this, data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t},\n\n\ttoJSON: function ( data ) {\n\n\t\tconst json = InterleavedBuffer.prototype.toJSON.call( this, data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\tthis.camera = null;\n\tthis.layers = new Layers();\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: { threshold: 1 },\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive, optionalTarget ) {\n\n\t\tconst intersects = optionalTarget || [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\n\n\t\tconst intersects = optionalTarget || [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nfunction Spherical( radius, phi, theta ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // polar angle\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // azimuthal angle\n\n\treturn this;\n\n}\n\nObject.assign( Spherical.prototype, {\n\n\tset: function ( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t},\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe: function () {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( MathUtils.clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */\n\nfunction Cylindrical( radius, theta, y ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\treturn this;\n\n}\n\nObject.assign( Cylindrical.prototype, {\n\n\tset: function ( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nconst _vector$7 = new Vector2();\n\nfunction Box2( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n}\n\nObject.assign( Box2.prototype, {\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function ( center, size ) {\n\n\t\tconst halfSize = _vector$7.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\tconst clampedPoint = _vector$7.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t},\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nconst _startP = new Vector3();\nconst _startEnd = new Vector3();\n\nfunction Line3( start, end ) {\n\n\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n}\n\nObject.assign( Line3.prototype, {\n\n\tset: function ( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t},\n\n\tdelta: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t},\n\n\tdistanceSq: function () {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t},\n\n\tdistance: function () {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tclosestPointToPointParameter: function ( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = MathUtils.clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t},\n\n\tclosestPointToPoint: function ( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n\tthis.hasPositions = false;\n\tthis.hasNormals = false;\n\tthis.hasColors = false;\n\tthis.hasUvs = false;\n\n\tthis.positionArray = null;\n\tthis.normalArray = null;\n\tthis.colorArray = null;\n\tthis.uvArray = null;\n\n\tthis.count = 0;\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nconst _vector$8 = new Vector3();\n\nfunction SpotLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tconst geometry = new BufferGeometry();\n\n\tconst positions = [\n\t\t0, 0, 0, \t0, 0, 1,\n\t\t0, 0, 0, \t1, 0, 1,\n\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t0, 0, 0, \t0, 1, 1,\n\t\t0, 0, 0, \t0, - 1, 1\n\t];\n\n\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\tconst p1 = ( i / l ) * Math.PI * 2;\n\t\tconst p2 = ( j / l ) * Math.PI * 2;\n\n\t\tpositions.push(\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t);\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\tthis.cone = new LineSegments( geometry, material );\n\tthis.add( this.cone );\n\n\tthis.update();\n\n}\n\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\nSpotLightHelper.prototype.constructor = SpotLightHelper;\n\nSpotLightHelper.prototype.dispose = function () {\n\n\tthis.cone.geometry.dispose();\n\tthis.cone.material.dispose();\n\n};\n\nSpotLightHelper.prototype.update = function () {\n\n\tthis.light.updateMatrixWorld();\n\n\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\tconst coneWidth = coneLength * Math.tan( this.light.angle );\n\n\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t_vector$8.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\tthis.cone.lookAt( _vector$8 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.cone.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.cone.material.color.copy( this.light.color );\n\n\t}\n\n};\n\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nconst _vector$9 = new Vector3();\nconst _boneMatrix = new Matrix4();\nconst _matrixWorldInv = new Matrix4();\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nfunction SkeletonHelper( object ) {\n\n\tconst bones = getBoneList( object );\n\n\tconst geometry = new BufferGeometry();\n\n\tconst vertices = [];\n\tconst colors = [];\n\n\tconst color1 = new Color( 0, 0, 1 );\n\tconst color2 = new Color( 0, 1, 0 );\n\n\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\tconst bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t}\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.type = 'SkeletonHelper';\n\n\tthis.root = object;\n\tthis.bones = bones;\n\n\tthis.matrix = object.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n}\n\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\nSkeletonHelper.prototype.constructor = SkeletonHelper;\n\nSkeletonHelper.prototype.isSkeletonHelper = true;\n\nSkeletonHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tconst bones = this.bones;\n\n\tconst geometry = this.geometry;\n\tconst position = geometry.getAttribute( 'position' );\n\n\t_matrixWorldInv.getInverse( this.root.matrixWorld );\n\n\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\tconst bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\tposition.setXYZ( j, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\tposition.setXYZ( j + 1, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\tj += 2;\n\n\t\t}\n\n\t}\n\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PointLightHelper( light, sphereSize, color ) {\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.color = color;\n\n\tconst geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'PointLightHelper';\n\n\tthis.matrix = this.light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n\n\t/*\n\tconst distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n}\n\nPointLightHelper.prototype = Object.create( Mesh.prototype );\nPointLightHelper.prototype.constructor = PointLightHelper;\n\nPointLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nPointLightHelper.prototype.update = function () {\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color );\n\n\t}\n\n\t/*\n\tconst d = this.light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.visible = true;\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\t*/\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nconst _vector$a = new Vector3();\nconst _color1 = new Color();\nconst three_module_color2 = new Color();\n\nfunction HemisphereLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tconst geometry = new OctahedronBufferGeometry( size );\n\tgeometry.rotateY( Math.PI * 0.5 );\n\n\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\tconst position = geometry.getAttribute( 'position' );\n\tconst colors = new Float32Array( position.count * 3 );\n\n\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\tthis.add( new Mesh( geometry, this.material ) );\n\n\tthis.update();\n\n}\n\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\nHemisphereLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nHemisphereLightHelper.prototype.update = function () {\n\n\tconst mesh = this.children[ 0 ];\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tconst colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t_color1.copy( this.light.color );\n\t\tthree_module_color2.copy( this.light.groundColor );\n\n\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : three_module_color2;\n\n\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t}\n\n\t\tcolors.needsUpdate = true;\n\n\t}\n\n\tmesh.lookAt( _vector$a.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n\tsize = size || 10;\n\tdivisions = divisions || 10;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tconst center = divisions / 2;\n\tconst step = size / divisions;\n\tconst halfSize = size / 2;\n\n\tconst vertices = [], colors = [];\n\n\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\tconst color = i === center ? color1 : color2;\n\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\n\t}\n\n\tconst geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.type = 'GridHelper';\n\n}\n\nGridHelper.prototype = Object.assign( Object.create( LineSegments.prototype ), {\n\n\tconstructor: GridHelper,\n\n\tcopy: function ( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.geometry.copy( source.geometry );\n\t\tthis.material.copy( source.material );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */\n\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\n\n\tradius = radius || 10;\n\tradials = radials || 16;\n\tcircles = circles || 8;\n\tdivisions = divisions || 64;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tconst vertices = [];\n\tconst colors = [];\n\n\t// create the radials\n\n\tfor ( let i = 0; i <= radials; i ++ ) {\n\n\t\tconst v = ( i / radials ) * ( Math.PI * 2 );\n\n\t\tconst x = Math.sin( v ) * radius;\n\t\tconst z = Math.cos( v ) * radius;\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tvertices.push( x, 0, z );\n\n\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\tcolors.push( color.r, color.g, color.b );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t}\n\n\t// create the circles\n\n\tfor ( let i = 0; i <= circles; i ++ ) {\n\n\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\tconst r = radius - ( radius / circles * i );\n\n\t\tfor ( let j = 0; j < divisions; j ++ ) {\n\n\t\t\t// first vertex\n\n\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\tlet x = Math.sin( v ) * r;\n\t\t\tlet z = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t// second vertex\n\n\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t}\n\n\tconst geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.type = 'PolarGridHelper';\n\n}\n\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\nPolarGridHelper.prototype.constructor = PolarGridHelper;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nconst _v1$5 = new Vector3();\nconst _v2$3 = new Vector3();\nconst _v3$1 = new Vector3();\n\nfunction DirectionalLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tif ( size === undefined ) size = 1;\n\n\tlet geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t- size, size, 0,\n\t\tsize, size, 0,\n\t\tsize, - size, 0,\n\t\t- size, - size, 0,\n\t\t- size, size, 0\n\t], 3 ) );\n\n\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\tthis.lightPlane = new Line( geometry, material );\n\tthis.add( this.lightPlane );\n\n\tgeometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\tthis.targetLine = new Line( geometry, material );\n\tthis.add( this.targetLine );\n\n\tthis.update();\n\n}\n\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\nDirectionalLightHelper.prototype.dispose = function () {\n\n\tthis.lightPlane.geometry.dispose();\n\tthis.lightPlane.material.dispose();\n\tthis.targetLine.geometry.dispose();\n\tthis.targetLine.material.dispose();\n\n};\n\nDirectionalLightHelper.prototype.update = function () {\n\n\t_v1$5.setFromMatrixPosition( this.light.matrixWorld );\n\t_v2$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\t_v3$1.subVectors( _v2$3, _v1$5 );\n\n\tthis.lightPlane.lookAt( _v2$3 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.lightPlane.material.color.set( this.color );\n\t\tthis.targetLine.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t}\n\n\tthis.targetLine.lookAt( _v2$3 );\n\tthis.targetLine.scale.z = _v3$1.length();\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nconst _vector$b = new Vector3();\nconst _camera = new Camera();\n\nfunction CameraHelper( camera ) {\n\n\tconst geometry = new BufferGeometry();\n\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\n\n\tconst vertices = [];\n\tconst colors = [];\n\n\tconst pointMap = {};\n\n\t// colors\n\n\tconst colorFrustum = new Color( 0xffaa00 );\n\tconst colorCone = new Color( 0xff0000 );\n\tconst colorUp = new Color( 0x00aaff );\n\tconst colorTarget = new Color( 0xffffff );\n\tconst colorCross = new Color( 0x333333 );\n\n\t// near\n\n\taddLine( 'n1', 'n2', colorFrustum );\n\taddLine( 'n2', 'n4', colorFrustum );\n\taddLine( 'n4', 'n3', colorFrustum );\n\taddLine( 'n3', 'n1', colorFrustum );\n\n\t// far\n\n\taddLine( 'f1', 'f2', colorFrustum );\n\taddLine( 'f2', 'f4', colorFrustum );\n\taddLine( 'f4', 'f3', colorFrustum );\n\taddLine( 'f3', 'f1', colorFrustum );\n\n\t// sides\n\n\taddLine( 'n1', 'f1', colorFrustum );\n\taddLine( 'n2', 'f2', colorFrustum );\n\taddLine( 'n3', 'f3', colorFrustum );\n\taddLine( 'n4', 'f4', colorFrustum );\n\n\t// cone\n\n\taddLine( 'p', 'n1', colorCone );\n\taddLine( 'p', 'n2', colorCone );\n\taddLine( 'p', 'n3', colorCone );\n\taddLine( 'p', 'n4', colorCone );\n\n\t// up\n\n\taddLine( 'u1', 'u2', colorUp );\n\taddLine( 'u2', 'u3', colorUp );\n\taddLine( 'u3', 'u1', colorUp );\n\n\t// target\n\n\taddLine( 'c', 't', colorTarget );\n\taddLine( 'p', 'c', colorCross );\n\n\t// cross\n\n\taddLine( 'cn1', 'cn2', colorCross );\n\taddLine( 'cn3', 'cn4', colorCross );\n\n\taddLine( 'cf1', 'cf2', colorCross );\n\taddLine( 'cf3', 'cf4', colorCross );\n\n\tfunction addLine( a, b, color ) {\n\n\t\taddPoint( a, color );\n\t\taddPoint( b, color );\n\n\t}\n\n\tfunction addPoint( id, color ) {\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\tpointMap[ id ] = [];\n\n\t\t}\n\n\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.type = 'CameraHelper';\n\n\tthis.camera = camera;\n\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\tthis.matrix = camera.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.pointMap = pointMap;\n\n\tthis.update();\n\n}\n\nCameraHelper.prototype = Object.create( LineSegments.prototype );\nCameraHelper.prototype.constructor = CameraHelper;\n\nCameraHelper.prototype.update = function () {\n\n\tconst geometry = this.geometry;\n\tconst pointMap = this.pointMap;\n\n\tconst w = 1, h = 1;\n\n\t// we need just camera projection matrix inverse\n\t// world matrix must be identity\n\n\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t// center / target\n\n\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t// near\n\n\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t// far\n\n\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t// up\n\n\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t// cross\n\n\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n};\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector$b.set( x, y, z ).unproject( camera );\n\n\tconst points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector$b.x, _vector$b.y, _vector$b.z );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nconst _box$3 = new Box3();\n\nfunction BoxHelper( object, color ) {\n\n\tthis.object = object;\n\n\tif ( color === undefined ) color = 0xffff00;\n\n\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\tconst positions = new Float32Array( 8 * 3 );\n\n\tconst geometry = new BufferGeometry();\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\tthis.type = 'BoxHelper';\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nBoxHelper.prototype = Object.create( LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = function ( object ) {\n\n\tif ( object !== undefined ) {\n\n\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t}\n\n\tif ( this.object !== undefined ) {\n\n\t\t_box$3.setFromObject( this.object );\n\n\t}\n\n\tif ( _box$3.isEmpty() ) return;\n\n\tconst min = _box$3.min;\n\tconst max = _box$3.max;\n\n\t/*\n\t  5____4\n\t1/___0/|\n\t| 6__|_7\n\t2/___3/\n\n\t0: max.x, max.y, max.z\n\t1: min.x, max.y, max.z\n\t2: min.x, min.y, max.z\n\t3: max.x, min.y, max.z\n\t4: max.x, max.y, min.z\n\t5: min.x, max.y, min.z\n\t6: min.x, min.y, min.z\n\t7: max.x, min.y, min.z\n\t*/\n\n\tconst position = this.geometry.attributes.position;\n\tconst array = position.array;\n\n\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\tposition.needsUpdate = true;\n\n\tthis.geometry.computeBoundingSphere();\n\n\n};\n\nBoxHelper.prototype.setFromObject = function ( object ) {\n\n\tthis.object = object;\n\tthis.update();\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.copy = function ( source ) {\n\n\tLineSegments.prototype.copy.call( this, source );\n\n\tthis.object = source.object;\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3Helper( box, color ) {\n\n\tthis.type = 'Box3Helper';\n\n\tthis.box = box;\n\n\tcolor = color || 0xffff00;\n\n\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\tconst geometry = new BufferGeometry();\n\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\tthis.type = 'Box3Helper';\n\n\tthis.geometry.computeBoundingSphere();\n\n}\n\nBox3Helper.prototype = Object.create( LineSegments.prototype );\nBox3Helper.prototype.constructor = Box3Helper;\n\nBox3Helper.prototype.updateMatrixWorld = function ( force ) {\n\n\tconst box = this.box;\n\n\tif ( box.isEmpty() ) return;\n\n\tbox.getCenter( this.position );\n\n\tbox.getSize( this.scale );\n\n\tthis.scale.multiplyScalar( 0.5 );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction PlaneHelper( plane, size, hex ) {\n\n\tthis.plane = plane;\n\n\tthis.size = ( size === undefined ) ? 1 : size;\n\n\tconst color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tconst positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\tconst geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tLine.call( this, geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\tthis.type = 'PlaneHelper';\n\n\t//\n\n\tconst positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\tconst geometry2 = new BufferGeometry();\n\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n}\n\nPlaneHelper.prototype = Object.create( Line.prototype );\nPlaneHelper.prototype.constructor = PlaneHelper;\n\nPlaneHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tlet scale = - this.plane.constant;\n\n\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\tthis.lookAt( this.plane.normal );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nconst _axis = new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\n\t// dir is assumed to be normalized\n\n\tObject3D.call( this );\n\n\tthis.type = 'ArrowHelper';\n\n\tif ( dir === undefined ) dir = new Vector3( 0, 0, 1 );\n\tif ( origin === undefined ) origin = new Vector3( 0, 0, 0 );\n\tif ( length === undefined ) length = 1;\n\tif ( color === undefined ) color = 0xffff00;\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tif ( _lineGeometry === undefined ) {\n\n\t\t_lineGeometry = new BufferGeometry();\n\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t_coneGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t}\n\n\tthis.position.copy( origin );\n\n\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\tthis.line.matrixAutoUpdate = false;\n\tthis.add( this.line );\n\n\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\tthis.cone.matrixAutoUpdate = false;\n\tthis.add( this.cone );\n\n\tthis.setDirection( dir );\n\tthis.setLength( length, headLength, headWidth );\n\n}\n\nArrowHelper.prototype = Object.create( Object3D.prototype );\nArrowHelper.prototype.constructor = ArrowHelper;\n\nArrowHelper.prototype.setDirection = function ( dir ) {\n\n\t// dir is assumed to be normalized\n\n\tif ( dir.y > 0.99999 ) {\n\n\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t} else if ( dir.y < - 0.99999 ) {\n\n\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t} else {\n\n\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\tconst radians = Math.acos( dir.y );\n\n\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t}\n\n};\n\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\tthis.line.updateMatrix();\n\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\tthis.cone.position.y = length;\n\tthis.cone.updateMatrix();\n\n};\n\nArrowHelper.prototype.setColor = function ( color ) {\n\n\tthis.line.material.color.set( color );\n\tthis.cone.material.color.set( color );\n\n};\n\nArrowHelper.prototype.copy = function ( source ) {\n\n\tObject3D.prototype.copy.call( this, source, false );\n\n\tthis.line.copy( source.line );\n\tthis.cone.copy( source.cone );\n\n\treturn this;\n\n};\n\nArrowHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AxesHelper( size ) {\n\n\tsize = size || 1;\n\n\tconst vertices = [\n\t\t0, 0, 0,\tsize, 0, 0,\n\t\t0, 0, 0,\t0, size, 0,\n\t\t0, 0, 0,\t0, 0, size\n\t];\n\n\tconst colors = [\n\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t0, 0, 1,\t0, 0.6, 1\n\t];\n\n\tconst geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.type = 'AxesHelper';\n\n}\n\nAxesHelper.prototype = Object.create( LineSegments.prototype );\nAxesHelper.prototype.constructor = AxesHelper;\n\n/**\n * @author Emmett Lalish / elalish\n *\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n */\n\nconst LOD_MIN = 4;\nconst LOD_MAX = 8;\nconst SIZE_MAX = Math.pow( 2, LOD_MAX );\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\nconst TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst ENCODINGS = {\n\t[ LinearEncoding ]: 0,\n\t[ sRGBEncoding ]: 1,\n\t[ RGBEEncoding ]: 2,\n\t[ RGBM7Encoding ]: 3,\n\t[ RGBM16Encoding ]: 4,\n\t[ RGBDEncoding ]: 5,\n\t[ GammaEncoding ]: 6\n};\n\nconst _flatCamera = new OrthographicCamera();\nconst { _lodPlanes, _sizeLods, _sigmas } = _createPlanes();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\tnew Vector3( 1, 1, 1 ),\n\tnew Vector3( - 1, 1, 1 ),\n\tnew Vector3( 1, 1, - 1 ),\n\tnew Vector3( - 1, 1, - 1 ),\n\tnew Vector3( 0, PHI, INV_PHI ),\n\tnew Vector3( 0, PHI, - INV_PHI ),\n\tnew Vector3( INV_PHI, 0, PHI ),\n\tnew Vector3( - INV_PHI, 0, PHI ),\n\tnew Vector3( PHI, INV_PHI, 0 ),\n\tnew Vector3( - PHI, INV_PHI, 0 ) ];\n\nfunction PMREMGenerator( renderer ) {\n\n\tthis._renderer = renderer;\n\tthis._pingPongRenderTarget = null;\n\n\tthis._blurMaterial = _getBlurShader( MAX_SAMPLES );\n\tthis._equirectShader = null;\n\tthis._cubemapShader = null;\n\n\tthis._compileMaterial( this._blurMaterial );\n\n}\n\nPMREMGenerator.prototype = {\n\n\tconstructor: PMREMGenerator,\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene: function ( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t},\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular: function ( equirectangular ) {\n\n\t\treturn this._fromTexture( equirectangular );\n\n\t},\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap: function ( cubemap ) {\n\n\t\treturn this._fromTexture( cubemap );\n\n\t},\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader: function () {\n\n\t\tif ( this._cubemapShader === null ) {\n\n\t\t\tthis._cubemapShader = _getCubemapShader();\n\t\t\tthis._compileMaterial( this._cubemapShader );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader: function () {\n\n\t\tif ( this._equirectShader === null ) {\n\n\t\t\tthis._equirectShader = _getEquirectShader();\n\t\t\tthis._compileMaterial( this._equirectShader );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose: function () {\n\n\t\tthis._blurMaterial.dispose();\n\n\t\tif ( this._cubemapShader !== null ) this._cubemapShader.dispose();\n\t\tif ( this._equirectShader !== null ) this._equirectShader.dispose();\n\n\t\tfor ( let i = 0; i < _lodPlanes.length; i ++ ) {\n\n\t\t\t_lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t},\n\n\t// private interface\n\n\t_cleanup: function ( outputTarget ) {\n\n\t\tthis._pingPongRenderTarget.dispose();\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t},\n\n\t_fromTexture: function ( texture ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets( texture );\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t},\n\n\t_allocateTargets: function ( texture ) { // warning: null texture is valid\n\n\t\tconst params = {\n\t\t\tmagFilter: NearestFilter,\n\t\t\tminFilter: NearestFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: UnsignedByteType,\n\t\t\tformat: RGBEFormat,\n\t\t\tencoding: _isLDR( texture ) ? texture.encoding : RGBEEncoding,\n\t\t\tdepthBuffer: false,\n\t\t\tstencilBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( params );\n\t\tcubeUVRenderTarget.depthBuffer = texture ? false : true;\n\t\tthis._pingPongRenderTarget = _createRenderTarget( params );\n\t\treturn cubeUVRenderTarget;\n\n\t},\n\n\t_compileMaterial: function ( material ) {\n\n\t\tconst tmpMesh = new Mesh( _lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t},\n\n\t_sceneToCubeUV: function ( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst outputEncoding = renderer.outputEncoding;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\tconst clearColor = renderer.getClearColor();\n\t\tconst clearAlpha = renderer.getClearAlpha();\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.outputEncoding = LinearEncoding;\n\n\t\tlet background = scene.background;\n\t\tif ( background && background.isColor ) {\n\n\t\t\tbackground.convertSRGBToLinear();\n\t\t\t// Convert linear to RGBE\n\t\t\tconst maxComponent = Math.max( background.r, background.g, background.b );\n\t\t\tconst fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\n\t\t\tbackground = background.multiplyScalar( Math.pow( 2.0, - fExp ) );\n\t\t\tconst alpha = ( fExp + 128.0 ) / 255.0;\n\t\t\trenderer.setClearColor( background, alpha );\n\t\t\tscene.background = null;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\t\t\tif ( col == 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col == 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\t_setViewport( cubeUVRenderTarget,\n\t\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.outputEncoding = outputEncoding;\n\t\trenderer.setClearColor( clearColor, clearAlpha );\n\n\t},\n\n\t_textureToCubeUV: function ( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tif ( texture.isCubeTexture ) {\n\n\t\t\tif ( this._cubemapShader == null ) {\n\n\t\t\t\tthis._cubemapShader = _getCubemapShader();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( this._equirectShader == null ) {\n\n\t\t\t\tthis._equirectShader = _getEquirectShader();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\n\t\tconst mesh = new Mesh( _lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tif ( ! texture.isCubeTexture ) {\n\n\t\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\n\n\t\t}\n\n\t\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\t\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ cubeUVRenderTarget.texture.encoding ];\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t},\n\n\t_applyPMREM: function ( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < TOTAL_LODS; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( _sigmas[ i ] * _sigmas[ i ] - _sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t},\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur: function ( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t},\n\n\t_halfBlur: function ( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( _lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = _sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i == 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\n\t\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\t\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\n\t\tconst outputSize = _sizeLods[ lodOut ];\n\t\tconst x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\n\t\tconst y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) + 2 * outputSize * ( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n};\n\nfunction _isLDR( texture ) {\n\n\tif ( texture === undefined || texture.type !== UnsignedByteType ) return false;\n\n\treturn texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\n\n}\n\nfunction _createPlanes() {\n\n\tconst _lodPlanes = [];\n\tconst _sizeLods = [];\n\tconst _sigmas = [];\n\n\tlet lod = LOD_MAX;\n\n\tfor ( let i = 0; i < TOTAL_LODS; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\t_sizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\n\n\t\t} else if ( i == 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\t_sigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 1 );\n\t\tconst min = - texelSize / 2;\n\t\tconst max = 1 + texelSize / 2;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\t_lodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { _lodPlanes, _sizeLods, _sigmas };\n\n}\n\nfunction _createRenderTarget( params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( maxSamples ) {\n\n\tconst weights = new Float32Array( maxSamples );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: { 'n': maxSamples },\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${_getEncodings()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvec3 getSample(float theta, vec3 axis) {\n\tfloat cosTheta = cos(theta);\n\t// Rodrigues' axis-angle rotation\n\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\treturn bilinearCubeUV(envMap, sampleDirection, mipInt);\n}\n\nvoid main() {\n\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\tif (all(equal(axis, vec3(0.0))))\n\t\taxis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);\n\taxis = normalize(axis);\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb += weights[0] * getSample(0.0, axis);\n\tfor (int i = 1; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfloat theta = dTheta * float(i);\n\t\tgl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);\n\t\tgl_FragColor.rgb += weights[i] * getSample(theta, axis);\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n\tconst texelSize = new Vector2( 1, 1 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'texelSize': { value: texelSize },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${_getEncodings()}\n\n#include <common>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv = equirectUv( outputDirection );\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${_getEncodings()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn `\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\n\n// RH coordinate system; PMREM face-indexing convention\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\t} else if (face == 2.0) {\n\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\t} else if (face == 5.0) {\n\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\t}\n\treturn direction;\n}\n\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n\treturn `\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t`;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nconst LineStrip = 0;\nconst LinePieces = 1;\nconst NoColors = 0;\nconst FaceColors = 1;\nconst VertexColors = 2;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n\tif ( materials === undefined ) materials = [];\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tconst pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tconst pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tconst geometry = new Geometry();\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\treturn this.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nObject.assign( Loader.prototype, {\n\n\textractUrlBase: function ( url ) {\n\n\t\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\t\treturn LoaderUtils.extractUrlBase( url );\n\n\t}\n\n} );\n\nLoader.Handlers = {\n\n\tadd: function ( /* regex, loader */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\n\n\t},\n\n\tget: function ( /* file */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\n\n\t}\n\n};\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tsetTexturePath: function ( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n} );\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Sphere.prototype, {\n\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Sphere: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\n} );\n\nFrustum.prototype.setFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\n\treturn this.setFromProjectionMatrix( m );\n\n};\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( MathUtils, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn MathUtils.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn MathUtils.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\n\t\treturn attribute.applyMatrix3( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n\t},\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\n\t\treturn attribute.applyMatrix4( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tarea: function () {\n\n\t\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\t\treturn this.getArea();\n\n\t},\n\tbarycoordFromPoint: function ( point, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn this.getBarycoord( point, target );\n\n\t},\n\tmidpoint: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\t\treturn this.getMidpoint( target );\n\n\t},\n\tnormal: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn this.getNormal( target );\n\n\t},\n\tplane: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\t\treturn this.getPlane( target );\n\n\t}\n\n} );\n\nObject.assign( Triangle, {\n\n\tbarycoordFromPoint: function ( point, a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n\t},\n\tnormal: function ( a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn Triangle.getNormal( a, b, c, target );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nObject.assign( Geometry.prototype, {\n\n\tcomputeTangents: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeLineDistances: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t},\n\tgetWorldRotation: function () {\n\n\t\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( Mesh.prototype, {\n\n\tsetDrawMode: function () {\n\n\t\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t},\n\n} );\n\nObject.defineProperties( Mesh.prototype, {\n\n\tdrawMode: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\n\t\t\treturn TrianglesDrawMode;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( DynamicDrawUsage );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tcopyIndicesArray: function ( /* indices */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddAttribute: function ( name, attribute ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\treturn this.setAttribute( name, attribute );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t},\n\tremoveAttribute: function ( name ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\n\n\t\treturn this.deleteAttribute( name );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( InstancedBufferGeometry.prototype, {\n\n\tmaxInstancedCount: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.' );\n\t\t\treturn this.instanceCount;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.' );\n\t\t\tthis.instanceCount = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( Raycaster.prototype, {\n\n\tlinePrecision: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\n\t\t\treturn this.params.Line.threshold;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\n\t\t\tthis.params.Line.threshold = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( InterleavedBuffer.prototype, {\n\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( value );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\n//\n\nObject.assign( ExtrudeBufferGeometry.prototype, {\n\n\tgetArrays: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\n\n\t},\n\n\taddShapeList: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\n\n\t},\n\n\taddShape: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t},\n\n\tstencilMask: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\treturn this.stencilFuncMask;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\tthis.stencilFuncMask = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tclearTarget: function ( renderTarget, color, depth, stencil ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t},\n\tanimate: function ( callback ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\t\tthis.setAnimationLoop( callback );\n\n\t},\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t},\n\tsetFaceCulling: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n\t},\n\tallocTextureUnit: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n\t},\n\tsetTexture: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n\t},\n\tsetTexture2D: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n\t},\n\tsetTextureCube: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n\t},\n\tgetActiveMipMapLevel: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\t\treturn this.getActiveMipmapLevel();\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t},\n\tvr: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\n\t\t\treturn this.xr;\n\n\t\t}\n\t},\n\tgammaInput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\n\t\t}\n\t},\n\tgammaOutput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\n\n\t\t}\n\t},\n\ttoneMappingWhitePoint: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\t\t\treturn 1.0;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\n\t\t}\n\t},\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\n\treturn new WebGLCubeRenderTarget( width, options );\n\n}\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Audio.prototype, {\n\n\tload: {\n\t\tvalue: function ( file ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\t\t\tconst scope = this;\n\t\t\tconst audioLoader = new AudioLoader();\n\t\t\taudioLoader.load( file, function ( buffer ) {\n\n\t\t\t\tscope.setBuffer( buffer );\n\n\t\t\t} );\n\t\t\treturn this;\n\n\t\t}\n\t},\n\tstartTime: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Audio: .startTime is now .play( delay ).' );\n\n\t\t}\n\t}\n\n} );\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\n//\n\nconst GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tlet matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tconst loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tconst loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nconst SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js' );\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t/* eslint-disable no-undef */\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\t/* eslint-enable no-undef */\n\n}\n\n\n\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/loaders/OBJLoader.js\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\n\nvar OBJLoader_OBJLoader = ( function () {\n\n\t// o object_name | g group_name\n\tvar object_pattern = /^[og]\\s*(.+)?/;\n\t// mtllib file_reference\n\tvar material_library_pattern = /^mtllib /;\n\t// usemtl material_name\n\tvar material_use_pattern = /^usemtl /;\n\t// usemap map_name\n\tvar map_use_pattern = /^usemap /;\n\n\tvar vA = new Vector3();\n\tvar vB = new Vector3();\n\tvar vC = new Vector3();\n\n\tvar ab = new Vector3();\n\tvar cb = new Vector3();\n\n\tfunction ParserState() {\n\n\t\tvar state = {\n\t\t\tobjects: [],\n\t\t\tobject: {},\n\n\t\t\tvertices: [],\n\t\t\tnormals: [],\n\t\t\tcolors: [],\n\t\t\tuvs: [],\n\n\t\t\tmaterials: {},\n\t\t\tmaterialLibraries: [],\n\n\t\t\tstartObject: function ( name, fromDeclaration ) {\n\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\n\n\t\t\t\t\tthis.object.name = name;\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\t\tthis.object._finalize( true );\n\n\t\t\t\t}\n\n\t\t\t\tthis.object = {\n\t\t\t\t\tname: name || '',\n\t\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\n\n\t\t\t\t\tgeometry: {\n\t\t\t\t\t\tvertices: [],\n\t\t\t\t\t\tnormals: [],\n\t\t\t\t\t\tcolors: [],\n\t\t\t\t\t\tuvs: [],\n\t\t\t\t\t\thasNormalIndices: false,\n\t\t\t\t\t\thasUVIndices: false\n\t\t\t\t\t},\n\t\t\t\t\tmaterials: [],\n\t\t\t\t\tsmooth: true,\n\n\t\t\t\t\tstartMaterial: function ( name, libraries ) {\n\n\t\t\t\t\t\tvar previous = this._finalize( false );\n\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\n\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar material = {\n\t\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\n\t\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\n\t\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\n\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\t\tclone: function ( index ) {\n\n\t\t\t\t\t\t\t\tvar cloned = {\n\t\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\n\t\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\n\t\t\t\t\t\t\t\treturn cloned;\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.materials.push( material );\n\n\t\t\t\t\t\treturn material;\n\n\t\t\t\t\t},\n\n\t\t\t\t\tcurrentMaterial: function () {\n\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\n\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn undefined;\n\n\t\t\t\t\t},\n\n\t\t\t\t\t_finalize: function ( end ) {\n\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\n\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\n\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi -- ) {\n\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\n\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\n\n\t\t\t\t\t\t\tthis.materials.push( {\n\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn lastMultiMaterial;\n\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Inherit previous objects material.\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\n\t\t\t\t\tdeclared.inherited = true;\n\t\t\t\t\tthis.object.materials.push( declared );\n\n\t\t\t\t}\n\n\t\t\t\tthis.objects.push( this.object );\n\n\t\t\t},\n\n\t\t\tfinalize: function () {\n\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\t\tthis.object._finalize( true );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tparseVertexIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t\t},\n\n\t\t\tparseNormalIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t\t},\n\n\t\t\tparseUVIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\n\n\t\t\t},\n\n\t\t\taddVertex: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddVertexPoint: function ( a ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t\t},\n\n\t\t\taddVertexLine: function ( a ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t\t},\n\n\t\t\taddNormal: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.normals;\n\t\t\t\tvar dst = this.object.geometry.normals;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddFaceNormal: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.normals;\n\n\t\t\t\tvA.fromArray( src, a );\n\t\t\t\tvB.fromArray( src, b );\n\t\t\t\tvC.fromArray( src, c );\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tcb.normalize();\n\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\n\n\t\t\t},\n\n\t\t\taddColor: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.colors;\n\t\t\t\tvar dst = this.object.geometry.colors;\n\n\t\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddUV: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.uvs;\n\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\n\n\t\t\t},\n\n\t\t\taddDefaultUV: function () {\n\n\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\tdst.push( 0, 0 );\n\t\t\t\tdst.push( 0, 0 );\n\t\t\t\tdst.push( 0, 0 );\n\n\t\t\t},\n\n\t\t\taddUVLine: function ( a ) {\n\n\t\t\t\tvar src = this.uvs;\n\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\n\t\t\t},\n\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\n\t\t\t\tvar vLen = this.vertices.length;\n\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\n\n\t\t\t\tthis.addVertex( ia, ib, ic );\n\t\t\t\tthis.addColor( ia, ib, ic );\n\n\t\t\t\t// normals\n\n\t\t\t\tif ( na !== undefined && na !== '' ) {\n\n\t\t\t\t\tvar nLen = this.normals.length;\n\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\n\t\t\t\t\tib = this.parseNormalIndex( nb, nLen );\n\t\t\t\t\tic = this.parseNormalIndex( nc, nLen );\n\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\n\n\t\t\t\t\tthis.object.geometry.hasNormalIndices = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.addFaceNormal( ia, ib, ic );\n\n\t\t\t\t}\n\n\t\t\t\t// uvs\n\n\t\t\t\tif ( ua !== undefined && ua !== '' ) {\n\n\t\t\t\t\tvar uvLen = this.uvs.length;\n\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\n\n\t\t\t\t\tthis.addUV( ia, ib, ic );\n\n\t\t\t\t\tthis.object.geometry.hasUVIndices = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// add placeholder values (for inconsistent face definitions)\n\n\t\t\t\t\tthis.addDefaultUV();\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\taddPointGeometry: function ( vertices ) {\n\n\t\t\t\tthis.object.geometry.type = 'Points';\n\n\t\t\t\tvar vLen = this.vertices.length;\n\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\t\tthis.addVertexPoint( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\n\n\t\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\t\tvar vLen = this.vertices.length;\n\t\t\t\tvar uvLen = this.uvs.length;\n\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\n\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tstate.startObject( '', false );\n\n\t\treturn state;\n\n\t}\n\n\t//\n\n\tfunction OBJLoader( manager ) {\n\n\t\tLoader.call( this, manager );\n\n\t\tthis.materials = null;\n\n\t}\n\n\tOBJLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\t\tconstructor: OBJLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar loader = new FileLoader( scope.manager );\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.load( url, function ( text ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\tif ( onError ) {\n\n\t\t\t\t\t\tonError( e );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t},\n\n\t\tsetMaterials: function ( materials ) {\n\n\t\t\tthis.materials = materials;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( text ) {\n\n\t\t\tvar state = new ParserState();\n\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\n\n\t\t\t\t// This is faster than String.split with regex that splits on both\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\n\n\t\t\t}\n\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\n\n\t\t\t\t// join lines separated by a line continuation character (\\)\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\n\n\t\t\t}\n\n\t\t\tvar lines = text.split( '\\n' );\n\t\t\tvar line = '', lineFirstChar = '';\n\t\t\tvar lineLength = 0;\n\t\t\tvar result = [];\n\n\t\t\t// Faster to just trim left side of the line. Use if available.\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\n\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\n\n\t\t\t\tline = lines[ i ];\n\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\n\n\t\t\t\tlineLength = line.length;\n\n\t\t\t\tif ( lineLength === 0 ) continue;\n\n\t\t\t\tlineFirstChar = line.charAt( 0 );\n\n\t\t\t\t// @todo invoke passed in handler if any\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\n\n\t\t\t\tif ( lineFirstChar === 'v' ) {\n\n\t\t\t\t\tvar data = line.split( /\\s+/ );\n\n\t\t\t\t\tswitch ( data[ 0 ] ) {\n\n\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\tstate.vertices.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( data.length >= 7 ) {\n\n\t\t\t\t\t\t\t\tstate.colors.push(\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\n\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\n\n\t\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'vn':\n\t\t\t\t\t\t\tstate.normals.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'vt':\n\t\t\t\t\t\t\tstate.uvs.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\n\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\n\t\t\t\t\tvar faceVertices = [];\n\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\n\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\n\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\n\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\n\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\n\n\t\t\t\t\t\tstate.addFace(\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( lineFirstChar === 'l' ) {\n\n\t\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\n\t\t\t\t\tvar lineVertices = [], lineUVs = [];\n\n\t\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\n\n\t\t\t\t\t\tlineVertices = lineParts;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\n\n\t\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\n\n\t\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\n\t\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\n\n\t\t\t\t} else if ( lineFirstChar === 'p' ) {\n\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\n\t\t\t\t\tvar pointData = lineData.split( \" \" );\n\n\t\t\t\t\tstate.addPointGeometry( pointData );\n\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// o object_name\n\t\t\t\t\t// or\n\t\t\t\t\t// g group_name\n\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n\t\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\n\n\t\t\t\t\tstate.startObject( name );\n\n\t\t\t\t} else if ( material_use_pattern.test( line ) ) {\n\n\t\t\t\t\t// material\n\n\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\n\n\t\t\t\t} else if ( material_library_pattern.test( line ) ) {\n\n\t\t\t\t\t// mtl file\n\n\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\n\n\t\t\t\t} else if ( map_use_pattern.test( line ) ) {\n\n\t\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\n\t\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\n\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\n\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\n\n\t\t\t\t\tresult = line.split( ' ' );\n\n\t\t\t\t\t// smooth shading\n\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n\t\t\t\t\t// but does not define a usemtl for each face set.\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n\t\t\t\t\t/*\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\n\t\t\t\t\t * or\n\t\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\n\t\t\t\t\t *\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n\t\t\t\t\t * than 0.\"\n\t\t\t\t\t */\n\t\t\t\t\tif ( result.length > 1 ) {\n\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\n\t\t\t\t\t\tstate.object.smooth = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar material = state.object.currentMaterial();\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Handle null terminated files without exception\n\t\t\t\t\tif ( line === '\\0' ) continue;\n\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.finalize();\n\n\t\t\tvar container = new Group();\n\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\n\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\n\n\t\t\t\tvar object = state.objects[ i ];\n\t\t\t\tvar geometry = object.geometry;\n\t\t\t\tvar materials = object.materials;\n\t\t\t\tvar isLine = ( geometry.type === 'Line' );\n\t\t\t\tvar isPoints = ( geometry.type === 'Points' );\n\t\t\t\tvar hasVertexColors = false;\n\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\n\n\t\t\t\tvar buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\n\n\t\t\t\tif ( geometry.hasNormalIndices === true ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\t\t\thasVertexColors = true;\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Create materials\n\n\t\t\t\tvar createdMaterials = [];\n\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\tvar sourceMaterial = materials[ mi ];\n\t\t\t\t\tvar materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\n\t\t\t\t\tvar material = state.materials[ materialHash ];\n\n\t\t\t\t\tif ( this.materials !== null ) {\n\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\n\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\n\n\t\t\t\t\t\t\tvar materialLine = new LineBasicMaterial();\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\n\t\t\t\t\t\t\tmaterial = materialLine;\n\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\n\n\t\t\t\t\t\t\tvar materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\n\t\t\t\t\t\t\tmaterial = materialPoints;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material === undefined ) {\n\n\t\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\n\n\t\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\n\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcreatedMaterials.push( material );\n\n\t\t\t\t}\n\n\t\t\t\t// Create mesh\n\n\t\t\t\tvar mesh;\n\n\t\t\t\tif ( createdMaterials.length > 1 ) {\n\n\t\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\t\tvar sourceMaterial = materials[ mi ];\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = object.name;\n\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t\treturn container;\n\n\t\t}\n\n\t} );\n\n\treturn OBJLoader;\n\n} )();\n\n\n\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/loaders/MTLLoader.js\n/**\n * Loads a Wavefront .mtl file specifying materials\n *\n * @author angelxuanchang\n */\n\n\n\nvar MTLLoader = function ( manager ) {\n\n\tLoader.call( this, manager );\n\n};\n\nMTLLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: MTLLoader,\n\n\t/**\n\t * Loads and parses a MTL asset from a URL.\n\t *\n\t * @param {String} url - URL to the MTL file.\n\t * @param {Function} [onLoad] - Callback invoked with the loaded object.\n\t * @param {Function} [onProgress] - Callback for download progress.\n\t * @param {Function} [onError] - Callback for download errors.\n\t *\n\t * @see setPath setResourcePath\n\t *\n\t * @note In order for relative texture references to resolve correctly\n\t * you must call setResourcePath() explicitly prior to load.\n\t */\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text, path ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetMaterialOptions: function ( value ) {\n\n\t\tthis.materialOptions = value;\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Parses a MTL file.\n\t *\n\t * @param {String} text - Content of MTL file\n\t * @return {MTLLoader.MaterialCreator}\n\t *\n\t * @see setPath setResourcePath\n\t *\n\t * @note In order for relative texture references to resolve correctly\n\t * you must call setResourcePath() explicitly prior to parse.\n\t */\n\tparse: function ( text, path ) {\n\n\t\tvar lines = text.split( '\\n' );\n\t\tvar info = {};\n\t\tvar delimiter_pattern = /\\s+/;\n\t\tvar materialsInfo = {};\n\n\t\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\t\tvar line = lines[ i ];\n\t\t\tline = line.trim();\n\n\t\t\tif ( line.length === 0 || line.charAt( 0 ) === '#' ) {\n\n\t\t\t\t// Blank line or comment ignore\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar pos = line.indexOf( ' ' );\n\n\t\t\tvar key = ( pos >= 0 ) ? line.substring( 0, pos ) : line;\n\t\t\tkey = key.toLowerCase();\n\n\t\t\tvar value = ( pos >= 0 ) ? line.substring( pos + 1 ) : '';\n\t\t\tvalue = value.trim();\n\n\t\t\tif ( key === 'newmtl' ) {\n\n\t\t\t\t// New material\n\n\t\t\t\tinfo = { name: value };\n\t\t\t\tmaterialsInfo[ value ] = info;\n\n\t\t\t} else {\n\n\t\t\t\tif ( key === 'ka' || key === 'kd' || key === 'ks' || key === 'ke' ) {\n\n\t\t\t\t\tvar ss = value.split( delimiter_pattern, 3 );\n\t\t\t\t\tinfo[ key ] = [ parseFloat( ss[ 0 ] ), parseFloat( ss[ 1 ] ), parseFloat( ss[ 2 ] ) ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinfo[ key ] = value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar materialCreator = new MTLLoader.MaterialCreator( this.resourcePath || path, this.materialOptions );\n\t\tmaterialCreator.setCrossOrigin( this.crossOrigin );\n\t\tmaterialCreator.setManager( this.manager );\n\t\tmaterialCreator.setMaterials( materialsInfo );\n\t\treturn materialCreator;\n\n\t}\n\n} );\n\n/**\n * Create a new MTLLoader.MaterialCreator\n * @param baseUrl - Url relative to which textures are loaded\n * @param options - Set of options on how to construct the materials\n *                  side: Which side to apply the material\n *                        FrontSide (default), THREE.BackSide, THREE.DoubleSide\n *                  wrap: What type of wrapping to apply for textures\n *                        RepeatWrapping (default), THREE.ClampToEdgeWrapping, THREE.MirroredRepeatWrapping\n *                  normalizeRGB: RGBs need to be normalized to 0-1 from 0-255\n *                                Default: false, assumed to be already normalized\n *                  ignoreZeroRGBs: Ignore values of RGBs (Ka,Kd,Ks) that are all 0's\n *                                  Default: false\n * @constructor\n */\n\nMTLLoader.MaterialCreator = function ( baseUrl, options ) {\n\n\tthis.baseUrl = baseUrl || '';\n\tthis.options = options;\n\tthis.materialsInfo = {};\n\tthis.materials = {};\n\tthis.materialsArray = [];\n\tthis.nameLookup = {};\n\n\tthis.side = ( this.options && this.options.side ) ? this.options.side : FrontSide;\n\tthis.wrap = ( this.options && this.options.wrap ) ? this.options.wrap : RepeatWrapping;\n\n};\n\nMTLLoader.MaterialCreator.prototype = {\n\n\tconstructor: MTLLoader.MaterialCreator,\n\n\tcrossOrigin: 'anonymous',\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetManager: function ( value ) {\n\n\t\tthis.manager = value;\n\n\t},\n\n\tsetMaterials: function ( materialsInfo ) {\n\n\t\tthis.materialsInfo = this.convert( materialsInfo );\n\t\tthis.materials = {};\n\t\tthis.materialsArray = [];\n\t\tthis.nameLookup = {};\n\n\t},\n\n\tconvert: function ( materialsInfo ) {\n\n\t\tif ( ! this.options ) return materialsInfo;\n\n\t\tvar converted = {};\n\n\t\tfor ( var mn in materialsInfo ) {\n\n\t\t\t// Convert materials info into normalized form based on options\n\n\t\t\tvar mat = materialsInfo[ mn ];\n\n\t\t\tvar covmat = {};\n\n\t\t\tconverted[ mn ] = covmat;\n\n\t\t\tfor ( var prop in mat ) {\n\n\t\t\t\tvar save = true;\n\t\t\t\tvar value = mat[ prop ];\n\t\t\t\tvar lprop = prop.toLowerCase();\n\n\t\t\t\tswitch ( lprop ) {\n\n\t\t\t\t\tcase 'kd':\n\t\t\t\t\tcase 'ka':\n\t\t\t\t\tcase 'ks':\n\n\t\t\t\t\t\t// Diffuse color (color under white light) using RGB values\n\n\t\t\t\t\t\tif ( this.options && this.options.normalizeRGB ) {\n\n\t\t\t\t\t\t\tvalue = [ value[ 0 ] / 255, value[ 1 ] / 255, value[ 2 ] / 255 ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.options && this.options.ignoreZeroRGBs ) {\n\n\t\t\t\t\t\t\tif ( value[ 0 ] === 0 && value[ 1 ] === 0 && value[ 2 ] === 0 ) {\n\n\t\t\t\t\t\t\t\t// ignore\n\n\t\t\t\t\t\t\t\tsave = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tif ( save ) {\n\n\t\t\t\t\tcovmat[ lprop ] = value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn converted;\n\n\t},\n\n\tpreload: function () {\n\n\t\tfor ( var mn in this.materialsInfo ) {\n\n\t\t\tthis.create( mn );\n\n\t\t}\n\n\t},\n\n\tgetIndex: function ( materialName ) {\n\n\t\treturn this.nameLookup[ materialName ];\n\n\t},\n\n\tgetAsArray: function () {\n\n\t\tvar index = 0;\n\n\t\tfor ( var mn in this.materialsInfo ) {\n\n\t\t\tthis.materialsArray[ index ] = this.create( mn );\n\t\t\tthis.nameLookup[ mn ] = index;\n\t\t\tindex ++;\n\n\t\t}\n\n\t\treturn this.materialsArray;\n\n\t},\n\n\tcreate: function ( materialName ) {\n\n\t\tif ( this.materials[ materialName ] === undefined ) {\n\n\t\t\tthis.createMaterial_( materialName );\n\n\t\t}\n\n\t\treturn this.materials[ materialName ];\n\n\t},\n\n\tcreateMaterial_: function ( materialName ) {\n\n\t\t// Create material\n\n\t\tvar scope = this;\n\t\tvar mat = this.materialsInfo[ materialName ];\n\t\tvar params = {\n\n\t\t\tname: materialName,\n\t\t\tside: this.side\n\n\t\t};\n\n\t\tfunction resolveURL( baseUrl, url ) {\n\n\t\t\tif ( typeof url !== 'string' || url === '' )\n\t\t\t\treturn '';\n\n\t\t\t// Absolute URL\n\t\t\tif ( /^https?:\\/\\//i.test( url ) ) return url;\n\n\t\t\treturn baseUrl + url;\n\n\t\t}\n\n\t\tfunction setMapForType( mapType, value ) {\n\n\t\t\tif ( params[ mapType ] ) return; // Keep the first encountered texture\n\n\t\t\tvar texParams = scope.getTextureParams( value, params );\n\t\t\tvar map = scope.loadTexture( resolveURL( scope.baseUrl, texParams.url ) );\n\n\t\t\tmap.repeat.copy( texParams.scale );\n\t\t\tmap.offset.copy( texParams.offset );\n\n\t\t\tmap.wrapS = scope.wrap;\n\t\t\tmap.wrapT = scope.wrap;\n\n\t\t\tparams[ mapType ] = map;\n\n\t\t}\n\n\t\tfor ( var prop in mat ) {\n\n\t\t\tvar value = mat[ prop ];\n\t\t\tvar n;\n\n\t\t\tif ( value === '' ) continue;\n\n\t\t\tswitch ( prop.toLowerCase() ) {\n\n\t\t\t\t// Ns is material specular exponent\n\n\t\t\t\tcase 'kd':\n\n\t\t\t\t\t// Diffuse color (color under white light) using RGB values\n\n\t\t\t\t\tparams.color = new Color().fromArray( value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ks':\n\n\t\t\t\t\t// Specular color (color when light is reflected from shiny surface) using RGB values\n\t\t\t\t\tparams.specular = new Color().fromArray( value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ke':\n\n\t\t\t\t\t// Emissive using RGB values\n\t\t\t\t\tparams.emissive = new Color().fromArray( value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_kd':\n\n\t\t\t\t\t// Diffuse texture map\n\n\t\t\t\t\tsetMapForType( \"map\", value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_ks':\n\n\t\t\t\t\t// Specular map\n\n\t\t\t\t\tsetMapForType( \"specularMap\", value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_ke':\n\n\t\t\t\t\t// Emissive map\n\n\t\t\t\t\tsetMapForType( \"emissiveMap\", value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'norm':\n\n\t\t\t\t\tsetMapForType( \"normalMap\", value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_bump':\n\t\t\t\tcase 'bump':\n\n\t\t\t\t\t// Bump texture map\n\n\t\t\t\t\tsetMapForType( \"bumpMap\", value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_d':\n\n\t\t\t\t\t// Alpha map\n\n\t\t\t\t\tsetMapForType( \"alphaMap\", value );\n\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ns':\n\n\t\t\t\t\t// The specular exponent (defines the focus of the specular highlight)\n\t\t\t\t\t// A high exponent results in a tight, concentrated highlight. Ns values normally range from 0 to 1000.\n\n\t\t\t\t\tparams.shininess = parseFloat( value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'd':\n\t\t\t\t\tn = parseFloat( value );\n\n\t\t\t\t\tif ( n < 1 ) {\n\n\t\t\t\t\t\tparams.opacity = n;\n\t\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'tr':\n\t\t\t\t\tn = parseFloat( value );\n\n\t\t\t\t\tif ( this.options && this.options.invertTrProperty ) n = 1 - n;\n\n\t\t\t\t\tif ( n > 0 ) {\n\n\t\t\t\t\t\tparams.opacity = 1 - n;\n\t\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.materials[ materialName ] = new MeshPhongMaterial( params );\n\t\treturn this.materials[ materialName ];\n\n\t},\n\n\tgetTextureParams: function ( value, matParams ) {\n\n\t\tvar texParams = {\n\n\t\t\tscale: new Vector2( 1, 1 ),\n\t\t\toffset: new Vector2( 0, 0 )\n\n\t\t };\n\n\t\tvar items = value.split( /\\s+/ );\n\t\tvar pos;\n\n\t\tpos = items.indexOf( '-bm' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\tmatParams.bumpScale = parseFloat( items[ pos + 1 ] );\n\t\t\titems.splice( pos, 2 );\n\n\t\t}\n\n\t\tpos = items.indexOf( '-s' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\ttexParams.scale.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\n\n\t\t}\n\n\t\tpos = items.indexOf( '-o' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\ttexParams.offset.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\n\n\t\t}\n\n\t\ttexParams.url = items.join( ' ' ).trim();\n\t\treturn texParams;\n\n\t},\n\n\tloadTexture: function ( url, mapping, onLoad, onProgress, onError ) {\n\n\t\tvar texture;\n\t\tvar manager = ( this.manager !== undefined ) ? this.manager : DefaultLoadingManager;\n\t\tvar loader = manager.getHandler( url );\n\n\t\tif ( loader === null ) {\n\n\t\t\tloader = new TextureLoader( manager );\n\n\t\t}\n\n\t\tif ( loader.setCrossOrigin ) loader.setCrossOrigin( this.crossOrigin );\n\t\ttexture = loader.load( url, onLoad, onProgress, onError );\n\n\t\tif ( mapping !== undefined ) texture.mapping = mapping;\n\n\t\treturn texture;\n\n\t}\n\n};\n\n\n\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/loaders/DDSLoader.js\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\n\nvar DDSLoader = function ( manager ) {\n\n\tCompressedTextureLoader.call( this, manager );\n\n};\n\nDDSLoader.prototype = Object.assign( Object.create( CompressedTextureLoader.prototype ), {\n\n\tconstructor: DDSLoader,\n\n\tparse: function ( buffer, loadMipmaps ) {\n\n\t\tvar dds = { mipmaps: [], width: 0, height: 0, format: null, mipmapCount: 1 };\n\n\t\t// Adapted from @toji's DDS utils\n\t\t// https://github.com/toji/webgl-texture-utils/blob/master/texture-util/dds.js\n\n\t\t// All values and structures referenced from:\n\t\t// http://msdn.microsoft.com/en-us/library/bb943991.aspx/\n\n\t\tvar DDS_MAGIC = 0x20534444;\n\n\t\t// var DDSD_CAPS = 0x1;\n\t\t// var DDSD_HEIGHT = 0x2;\n\t\t// var DDSD_WIDTH = 0x4;\n\t\t// var DDSD_PITCH = 0x8;\n\t\t// var DDSD_PIXELFORMAT = 0x1000;\n\t\tvar DDSD_MIPMAPCOUNT = 0x20000;\n\t\t// var DDSD_LINEARSIZE = 0x80000;\n\t\t// var DDSD_DEPTH = 0x800000;\n\n\t\t// var DDSCAPS_COMPLEX = 0x8;\n\t\t// var DDSCAPS_MIPMAP = 0x400000;\n\t\t// var DDSCAPS_TEXTURE = 0x1000;\n\n\t\tvar DDSCAPS2_CUBEMAP = 0x200;\n\t\tvar DDSCAPS2_CUBEMAP_POSITIVEX = 0x400;\n\t\tvar DDSCAPS2_CUBEMAP_NEGATIVEX = 0x800;\n\t\tvar DDSCAPS2_CUBEMAP_POSITIVEY = 0x1000;\n\t\tvar DDSCAPS2_CUBEMAP_NEGATIVEY = 0x2000;\n\t\tvar DDSCAPS2_CUBEMAP_POSITIVEZ = 0x4000;\n\t\tvar DDSCAPS2_CUBEMAP_NEGATIVEZ = 0x8000;\n\t\t// var DDSCAPS2_VOLUME = 0x200000;\n\n\t\t// var DDPF_ALPHAPIXELS = 0x1;\n\t\t// var DDPF_ALPHA = 0x2;\n\t\tvar DDPF_FOURCC = 0x4;\n\t\t// var DDPF_RGB = 0x40;\n\t\t// var DDPF_YUV = 0x200;\n\t\t// var DDPF_LUMINANCE = 0x20000;\n\n\t\tfunction fourCCToInt32( value ) {\n\n\t\t\treturn value.charCodeAt( 0 ) +\n\t\t\t\t( value.charCodeAt( 1 ) << 8 ) +\n\t\t\t\t( value.charCodeAt( 2 ) << 16 ) +\n\t\t\t\t( value.charCodeAt( 3 ) << 24 );\n\n\t\t}\n\n\t\tfunction int32ToFourCC( value ) {\n\n\t\t\treturn String.fromCharCode(\n\t\t\t\tvalue & 0xff,\n\t\t\t\t( value >> 8 ) & 0xff,\n\t\t\t\t( value >> 16 ) & 0xff,\n\t\t\t\t( value >> 24 ) & 0xff\n\t\t\t);\n\n\t\t}\n\n\t\tfunction loadARGBMip( buffer, dataOffset, width, height ) {\n\n\t\t\tvar dataLength = width * height * 4;\n\t\t\tvar srcBuffer = new Uint8Array( buffer, dataOffset, dataLength );\n\t\t\tvar byteArray = new Uint8Array( dataLength );\n\t\t\tvar dst = 0;\n\t\t\tvar src = 0;\n\t\t\tfor ( var y = 0; y < height; y ++ ) {\n\n\t\t\t\tfor ( var x = 0; x < width; x ++ ) {\n\n\t\t\t\t\tvar b = srcBuffer[ src ]; src ++;\n\t\t\t\t\tvar g = srcBuffer[ src ]; src ++;\n\t\t\t\t\tvar r = srcBuffer[ src ]; src ++;\n\t\t\t\t\tvar a = srcBuffer[ src ]; src ++;\n\t\t\t\t\tbyteArray[ dst ] = r; dst ++;\t//r\n\t\t\t\t\tbyteArray[ dst ] = g; dst ++;\t//g\n\t\t\t\t\tbyteArray[ dst ] = b; dst ++;\t//b\n\t\t\t\t\tbyteArray[ dst ] = a; dst ++;\t//a\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn byteArray;\n\n\t\t}\n\n\t\tvar FOURCC_DXT1 = fourCCToInt32( \"DXT1\" );\n\t\tvar FOURCC_DXT3 = fourCCToInt32( \"DXT3\" );\n\t\tvar FOURCC_DXT5 = fourCCToInt32( \"DXT5\" );\n\t\tvar FOURCC_ETC1 = fourCCToInt32( \"ETC1\" );\n\n\t\tvar headerLengthInt = 31; // The header length in 32 bit ints\n\n\t\t// Offsets into the header array\n\n\t\tvar off_magic = 0;\n\n\t\tvar off_size = 1;\n\t\tvar off_flags = 2;\n\t\tvar off_height = 3;\n\t\tvar off_width = 4;\n\n\t\tvar off_mipmapCount = 7;\n\n\t\tvar off_pfFlags = 20;\n\t\tvar off_pfFourCC = 21;\n\t\tvar off_RGBBitCount = 22;\n\t\tvar off_RBitMask = 23;\n\t\tvar off_GBitMask = 24;\n\t\tvar off_BBitMask = 25;\n\t\tvar off_ABitMask = 26;\n\n\t\t// var off_caps = 27;\n\t\tvar off_caps2 = 28;\n\t\t// var off_caps3 = 29;\n\t\t// var off_caps4 = 30;\n\n\t\t// Parse header\n\n\t\tvar header = new Int32Array( buffer, 0, headerLengthInt );\n\n\t\tif ( header[ off_magic ] !== DDS_MAGIC ) {\n\n\t\t\tconsole.error( 'THREE.DDSLoader.parse: Invalid magic number in DDS header.' );\n\t\t\treturn dds;\n\n\t\t}\n\n\t\tif ( ! header[ off_pfFlags ] & DDPF_FOURCC ) {\n\n\t\t\tconsole.error( 'THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code.' );\n\t\t\treturn dds;\n\n\t\t}\n\n\t\tvar blockBytes;\n\n\t\tvar fourCC = header[ off_pfFourCC ];\n\n\t\tvar isRGBAUncompressed = false;\n\n\t\tswitch ( fourCC ) {\n\n\t\t\tcase FOURCC_DXT1:\n\n\t\t\t\tblockBytes = 8;\n\t\t\t\tdds.format = RGB_S3TC_DXT1_Format;\n\t\t\t\tbreak;\n\n\t\t\tcase FOURCC_DXT3:\n\n\t\t\t\tblockBytes = 16;\n\t\t\t\tdds.format = RGBA_S3TC_DXT3_Format;\n\t\t\t\tbreak;\n\n\t\t\tcase FOURCC_DXT5:\n\n\t\t\t\tblockBytes = 16;\n\t\t\t\tdds.format = RGBA_S3TC_DXT5_Format;\n\t\t\t\tbreak;\n\n\t\t\tcase FOURCC_ETC1:\n\n\t\t\t\tblockBytes = 8;\n\t\t\t\tdds.format = RGB_ETC1_Format;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tif ( header[ off_RGBBitCount ] === 32\n\t\t\t\t\t&& header[ off_RBitMask ] & 0xff0000\n\t\t\t\t\t&& header[ off_GBitMask ] & 0xff00\n\t\t\t\t\t&& header[ off_BBitMask ] & 0xff\n\t\t\t\t\t&& header[ off_ABitMask ] & 0xff000000 ) {\n\n\t\t\t\t\tisRGBAUncompressed = true;\n\t\t\t\t\tblockBytes = 64;\n\t\t\t\t\tdds.format = RGBAFormat;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.DDSLoader.parse: Unsupported FourCC code ', int32ToFourCC( fourCC ) );\n\t\t\t\t\treturn dds;\n\n\t\t\t\t}\n\n\t\t}\n\n\t\tdds.mipmapCount = 1;\n\n\t\tif ( header[ off_flags ] & DDSD_MIPMAPCOUNT && loadMipmaps !== false ) {\n\n\t\t\tdds.mipmapCount = Math.max( 1, header[ off_mipmapCount ] );\n\n\t\t}\n\n\t\tvar caps2 = header[ off_caps2 ];\n\t\tdds.isCubemap = caps2 & DDSCAPS2_CUBEMAP ? true : false;\n\t\tif ( dds.isCubemap && (\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEX ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEX ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEY ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEY ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEZ ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEZ )\n\t\t) ) {\n\n\t\t\tconsole.error( 'THREE.DDSLoader.parse: Incomplete cubemap faces' );\n\t\t\treturn dds;\n\n\t\t}\n\n\t\tdds.width = header[ off_width ];\n\t\tdds.height = header[ off_height ];\n\n\t\tvar dataOffset = header[ off_size ] + 4;\n\n\t\t// Extract mipmaps buffers\n\n\t\tvar faces = dds.isCubemap ? 6 : 1;\n\n\t\tfor ( var face = 0; face < faces; face ++ ) {\n\n\t\t\tvar width = dds.width;\n\t\t\tvar height = dds.height;\n\n\t\t\tfor ( var i = 0; i < dds.mipmapCount; i ++ ) {\n\n\t\t\t\tif ( isRGBAUncompressed ) {\n\n\t\t\t\t\tvar byteArray = loadARGBMip( buffer, dataOffset, width, height );\n\t\t\t\t\tvar dataLength = byteArray.length;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvar dataLength = Math.max( 4, width ) / 4 * Math.max( 4, height ) / 4 * blockBytes;\n\t\t\t\t\tvar byteArray = new Uint8Array( buffer, dataOffset, dataLength );\n\n\t\t\t\t}\n\n\t\t\t\tvar mipmap = { \"data\": byteArray, \"width\": width, \"height\": height };\n\t\t\t\tdds.mipmaps.push( mipmap );\n\n\t\t\t\tdataOffset += dataLength;\n\n\t\t\t\twidth = Math.max( width >> 1, 1 );\n\t\t\t\theight = Math.max( height >> 1, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn dds;\n\n\t}\n\n} );\n\n\n\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/src/loaders/LoadingManager.js\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager_LoadingManager( onLoad, onProgress, onError ) {\n\n\tconst scope = this;\n\n\tlet isLoading = false;\n\tlet itemsLoaded = 0;\n\tlet itemsTotal = 0;\n\tlet urlModifier = undefined;\n\tconst handlers = [];\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\n\t\treturn this;\n\n\t};\n\n\tthis.addHandler = function ( regex, loader ) {\n\n\t\thandlers.push( regex, loader );\n\n\t\treturn this;\n\n\t};\n\n\tthis.removeHandler = function ( regex ) {\n\n\t\tconst index = handlers.indexOf( regex );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\thandlers.splice( index, 2 );\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.getHandler = function ( file ) {\n\n\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tconst regex = handlers[ i ];\n\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t};\n\n}\n\nconst LoadingManager_DefaultLoadingManager = new LoadingManager_LoadingManager();\n\n\n\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__(\"a133\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.array-buffer.slice.js\nvar es_array_buffer_slice = __webpack_require__(\"3e54\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(\"e18c\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.float32-array.js\nvar es_typed_array_float32_array = __webpack_require__(\"b6bc\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.uint32-array.js\nvar es_typed_array_uint32_array = __webpack_require__(\"d838\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.copy-within.js\nvar es_typed_array_copy_within = __webpack_require__(\"ab6e\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.every.js\nvar es_typed_array_every = __webpack_require__(\"927c\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.fill.js\nvar es_typed_array_fill = __webpack_require__(\"3c51\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.filter.js\nvar es_typed_array_filter = __webpack_require__(\"db0a\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.find.js\nvar es_typed_array_find = __webpack_require__(\"1cc1\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.find-index.js\nvar es_typed_array_find_index = __webpack_require__(\"ab0f\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.for-each.js\nvar es_typed_array_for_each = __webpack_require__(\"fc6e\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.includes.js\nvar es_typed_array_includes = __webpack_require__(\"f30b\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.index-of.js\nvar es_typed_array_index_of = __webpack_require__(\"cfd1\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.iterator.js\nvar es_typed_array_iterator = __webpack_require__(\"d104\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.join.js\nvar es_typed_array_join = __webpack_require__(\"f74a\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.last-index-of.js\nvar es_typed_array_last_index_of = __webpack_require__(\"3598\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.map.js\nvar es_typed_array_map = __webpack_require__(\"b497\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.reduce.js\nvar es_typed_array_reduce = __webpack_require__(\"2909\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.reduce-right.js\nvar es_typed_array_reduce_right = __webpack_require__(\"a7ef\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.reverse.js\nvar es_typed_array_reverse = __webpack_require__(\"b523\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.set.js\nvar es_typed_array_set = __webpack_require__(\"e671\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.slice.js\nvar es_typed_array_slice = __webpack_require__(\"4140\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.some.js\nvar es_typed_array_some = __webpack_require__(\"83db\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.sort.js\nvar es_typed_array_sort = __webpack_require__(\"829d\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.subarray.js\nvar es_typed_array_subarray = __webpack_require__(\"939f\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.to-locale-string.js\nvar es_typed_array_to_locale_string = __webpack_require__(\"1bb1\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.typed-array.to-string.js\nvar es_typed_array_to_string = __webpack_require__(\"c3ba\");\n\n// CONCATENATED MODULE: ./src/util.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* eslint-disable */\n\nvar util_box = new Box3();\n\nfunction getSize(object) {\n  util_box.setFromObject(object);\n  return util_box.getSize(new Vector3());\n}\n\nfunction getCenter(object) {\n  util_box.setFromObject(object);\n  return util_box.getCenter(new Vector3());\n} // function lightsDiff(lights, oldLights) {\n// }\n\n\nfunction toIndexed(bufferGeometry) {\n  var rawPositions = bufferGeometry.getAttribute('position').array;\n  var rawUvs;\n  var hasUV = bufferGeometry.getAttribute('uv') !== undefined;\n  if (hasUV) rawUvs = bufferGeometry.getAttribute('uv').array;\n  var rawNormals;\n  var hasNormal = bufferGeometry.getAttribute('normal') !== undefined;\n  if (hasNormal) rawNormals = bufferGeometry.getAttribute('normal').array;\n  var indices = [];\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n  var face;\n  var faceNormalss;\n  var faceUvs;\n  var tmpIndices;\n  var v0 = new Vector3();\n  var v1 = new Vector3();\n  var v2 = new Vector3();\n  var n0 = new Vector3();\n  var n1 = new Vector3();\n  var n2 = new Vector3();\n  var uv0 = new Vector2();\n  var uv1 = new Vector2();\n  var uv2 = new Vector2();\n\n  for (var i = 0; i < rawPositions.length; i += 9) {\n    v0.x = rawPositions[i];\n    v0.y = rawPositions[i + 1];\n    v0.z = rawPositions[i + 2];\n    v1.x = rawPositions[i + 3];\n    v1.y = rawPositions[i + 4];\n    v1.z = rawPositions[i + 5];\n    v2.x = rawPositions[i + 6];\n    v2.y = rawPositions[i + 7];\n    v2.z = rawPositions[i + 8];\n    face = [v0, v1, v2];\n\n    if (hasNormal) {\n      n0.x = rawNormals[i];\n      n0.y = rawNormals[i + 1];\n      n0.z = rawNormals[i + 2];\n      n1.x = rawNormals[i + 3];\n      n1.y = rawNormals[i + 4];\n      n1.z = rawNormals[i + 5];\n      n2.x = rawNormals[i + 6];\n      n2.y = rawNormals[i + 7];\n      n2.z = rawNormals[i + 8];\n      faceNormalss = [n0, n1, n2];\n    }\n\n    if (hasUV) {\n      uv0.x = rawUvs[i];\n      uv0.y = rawUvs[i + 1];\n      uv1.x = rawUvs[i + 2];\n      uv1.y = rawUvs[i + 3];\n      uv2.x = rawUvs[i + 4];\n      uv2.y = rawUvs[i + 5];\n      faceUvs = [uv0, uv1, uv2];\n    }\n\n    tmpIndices = [];\n    face.forEach(function (v, i) {\n      var id = exists(v, vertices);\n\n      if (id === -1) {\n        id = vertices.length;\n        vertices.push(v.clone());\n        if (hasNormal) normals.push(faceNormalss[i].clone());\n        if (hasUV) uvs.push(faceUvs[i].clone());\n      }\n\n      tmpIndices.push(id);\n    });\n    indices.push(tmpIndices[0], tmpIndices[1], tmpIndices[2]);\n  }\n\n  var positionBuffer = new Float32Array(vertices.length * 3);\n  var normalBuffer;\n  var uvBuffer;\n  if (hasNormal) normalBuffer = new Float32Array(vertices.length * 3);\n  if (hasUV) uvBuffer = new Float32Array(vertices.length * 2);\n  var i2 = 0;\n  var i3 = 0;\n\n  for (var _i = 0; _i < vertices.length; _i++) {\n    i3 = _i * 3;\n    positionBuffer[i3] = vertices[_i].x;\n    positionBuffer[i3 + 1] = vertices[_i].y;\n    positionBuffer[i3 + 2] = vertices[_i].z;\n\n    if (hasNormal) {\n      normalBuffer[i3] = normals[_i].x;\n      normalBuffer[i3 + 1] = normals[_i].y;\n      normalBuffer[i3 + 2] = normals[_i].z;\n    }\n\n    if (hasUV) {\n      i2 = _i * 2;\n      uvBuffer[i2] = uvs[_i].x;\n      uvBuffer[i2 + 1] = uvs[_i].y;\n    }\n  }\n\n  bufferGeometry.addAttribute('position', new BufferAttribute(positionBuffer, 3));\n  if (hasNormal) bufferGeometry.addAttribute('normal', new BufferAttribute(normalBuffer, 3));\n  if (hasUV) bufferGeometry.addAttribute('uv', new BufferAttribute(uvBuffer, 2));\n  bufferGeometry.setIndex(new BufferAttribute(new Uint32Array(indices), 1));\n  return bufferGeometry;\n\n  function exists(v, vertices) {\n    for (var _i2 = 0; _i2 < vertices.length; _i2++) {\n      if (v.equals(vertices[_i2])) return _i2;\n    }\n\n    return -1;\n  }\n}\n\n\n// CONCATENATED MODULE: ./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"788fb7fa-vue-loader-template\"}!./node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./src/model-mixin.vue?vue&type=template&id=4fcd6d94&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"margin\":\"0\",\"border\":\"0\",\"padding\":\"0\"}},[(_vm.suportWebGL)?_c('canvas',{ref:\"canvas\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}}):_c('div',[_vm._t(\"default\",[_vm._v(\" Your browser does not seem to support \"),_c('a',{staticStyle:{\"color\":\"#000\"},attrs:{\"href\":\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\"}},[_vm._v(\"WebGL\")]),_vm._v(\".\"),_c('br'),_vm._v(\"' \")])],2)])}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/model-mixin.vue?vue&type=template&id=4fcd6d94&\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.number.constructor.js\nvar es_number_constructor = __webpack_require__(\"513c\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.object.assign.js\nvar es_object_assign = __webpack_require__(\"f09c\");\n\n// CONCATENATED MODULE: ./node_modules/_@babel_runtime@7.10.3@@babel/runtime/helpers/esm/arrayLikeToArray.js\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n// CONCATENATED MODULE: ./node_modules/_@babel_runtime@7.10.3@@babel/runtime/helpers/esm/arrayWithoutHoles.js\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(\"f3dd\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.symbol.description.js\nvar es_symbol_description = __webpack_require__(\"0a51\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.symbol.iterator.js\nvar es_symbol_iterator = __webpack_require__(\"9b11\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.array.from.js\nvar es_array_from = __webpack_require__(\"98e0\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__(\"96db\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(\"af86\");\n\n// CONCATENATED MODULE: ./node_modules/_@babel_runtime@7.10.3@@babel/runtime/helpers/esm/iterableToArray.js\n\n\n\n\n\n\n\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__(\"77ad\");\n\n// EXTERNAL MODULE: ./node_modules/_core-js@3.6.5@core-js/modules/es.regexp.to-string.js\nvar es_regexp_to_string = __webpack_require__(\"1c2e8\");\n\n// CONCATENATED MODULE: ./node_modules/_@babel_runtime@7.10.3@@babel/runtime/helpers/esm/unsupportedIterableToArray.js\n\n\n\n\n\n\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n// CONCATENATED MODULE: ./node_modules/_@babel_runtime@7.10.3@@babel/runtime/helpers/esm/nonIterableSpread.js\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n// CONCATENATED MODULE: ./node_modules/_@babel_runtime@7.10.3@@babel/runtime/helpers/esm/toConsumableArray.js\n\n\n\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/controls/OrbitControls.js\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n * @author ScieCode / http://github.com/sciecode\n */\n\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function ( object, domElement ) {\n\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\tthis.object = object;\n\tthis.domElement = domElement;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.05;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t// Touch fingers\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new Vector3();\n\t\tvar lastQuaternion = new Quaternion();\n\n\t\tvar twoPI = 2 * Math.PI;\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t} else {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t}\n\n\t\t\t// restrict theta to be between desired limits\n\n\t\t\tvar min = scope.minAzimuthAngle;\n\t\t\tvar max = scope.maxAzimuthAngle;\n\n\t\t\tif ( isFinite ( min ) && isFinite( max ) ) {\n\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\tif ( min < max ) {\n\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t}\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\tscope.domElement.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = {\n\t\tNONE: - 1,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2,\n\t\tTOUCH_ROTATE: 3,\n\t\tTOUCH_PAN: 4,\n\t\tTOUCH_DOLLY_PAN: 5,\n\t\tTOUCH_DOLLY_ROTATE: 6\n\t};\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new Spherical();\n\tvar sphericalDelta = new Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new Vector2();\n\tvar rotateEnd = new Vector2();\n\tvar rotateDelta = new Vector2();\n\n\tvar panStart = new Vector2();\n\tvar panEnd = new Vector2();\n\tvar panDelta = new Vector2();\n\n\tvar dollyStart = new Vector2();\n\tvar dollyEnd = new Vector2();\n\tvar dollyDelta = new Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t}\n\n\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateEnd.set( x, y );\n\n\t\t}\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t}\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\tdollyOut( dollyDelta.y );\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t}\n\n\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t}\n\n\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\t// Prevent the browser from scrolling.\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tvar mouseAction;\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase 0:\n\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tmouseAction = - 1;\n\n\t\t}\n\n\t\tswitch ( mouseAction ) {\n\n\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.PAN:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\t\tevent.stopPropagation();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\tscope.domElement.addEventListener( 'keydown', onKeyDown, false );\n\n\t// make sure element can receive keys.\n\n\tif ( scope.domElement.tabIndex === - 1 ) {\n\n\t\tscope.domElement.tabIndex = 0;\n\n\t}\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function ( object, domElement ) {\n\n\tOrbitControls.call( this, object, domElement );\n\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\tthis.touches.ONE = TOUCH.PAN;\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n};\n\nMapControls.prototype = Object.create( EventDispatcher.prototype );\nMapControls.prototype.constructor = MapControls;\n\n\n\n// CONCATENATED MODULE: ./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!./node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!./node_modules/_babel-loader@8.1.0@babel-loader/lib!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./src/model-mixin.vue?vue&type=script&lang=js&\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\nvar suportWebGL = function () {\n  try {\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n  } catch (e) {\n    return false;\n  }\n}();\n\nvar DEFAULT_GL_OPTIONS = {\n  antialias: true,\n  alpha: true\n};\n/* harmony default export */ var model_mixinvue_type_script_lang_js_ = ({\n  props: {\n    src: {\n      type: String\n    },\n    width: {\n      type: Number\n    },\n    height: {\n      type: Number\n    },\n    position: {\n      type: Object,\n      default: function _default() {\n        return {\n          x: 0,\n          y: 0,\n          z: 0\n        };\n      }\n    },\n    rotation: {\n      type: Object,\n      default: function _default() {\n        return {\n          x: 0,\n          y: 0,\n          z: 0\n        };\n      }\n    },\n    scale: {\n      type: Object,\n      default: function _default() {\n        return {\n          x: 1,\n          y: 1,\n          z: 1\n        };\n      }\n    },\n    lights: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    cameraPosition: {\n      type: Object,\n      default: function _default() {\n        return {\n          x: 0,\n          y: 0,\n          z: 0\n        };\n      }\n    },\n    cameraRotation: {\n      type: Object,\n      default: function _default() {\n        return {\n          x: 0,\n          y: 0,\n          z: 0\n        };\n      }\n    },\n    cameraUp: {\n      type: Object\n    },\n    cameraLookAt: {\n      type: Object\n    },\n    backgroundColor: {\n      default: 0xffffff\n    },\n    backgroundAlpha: {\n      type: Number,\n      default: 1\n    },\n    controlsOptions: {\n      type: Object\n    },\n    crossOrigin: {\n      default: 'anonymous'\n    },\n    outputEncoding: {\n      type: Number,\n      default: LinearEncoding\n    },\n    glOptions: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      suportWebGL: suportWebGL,\n      size: {\n        width: this.width,\n        height: this.height\n      },\n      object: null,\n      raycaster: new Raycaster(),\n      mouse: new Vector2(),\n      camera: new PerspectiveCamera(45, 1, 0.01, 100000),\n      scene: new Scene(),\n      wrapper: new Object3D(),\n      renderer: null,\n      controls: null,\n      allLights: [],\n      clock: typeof performance === 'undefined' ? Date : performance,\n      reqId: null // requestAnimationFrame id\n\n    };\n  },\n  computed: {\n    hasListener: function hasListener() {\n      // 判断是否有鼠标事件监听，用于减少不必要的拾取判断\n\n      /* eslint-disable no-underscore-dangle */\n      var events = this._events;\n      var result = {};\n      ['on-mousemove', 'on-mouseup', 'on-mousedown', 'on-click'].forEach(function (name) {\n        result[name] = !!events[name] && events[name].length > 0;\n      });\n      return result;\n    }\n  },\n  mounted: function mounted() {\n    if (this.width === undefined || this.height === undefined) {\n      this.size = {\n        width: this.$el.offsetWidth,\n        height: this.$el.offsetHeight\n      };\n    }\n\n    var options = Object.assign({}, DEFAULT_GL_OPTIONS, this.glOptions, {\n      canvas: this.$refs.canvas\n    });\n    this.renderer = new WebGLRenderer(options);\n    this.renderer.shadowMap.enabled = true;\n    this.renderer.outputEncoding = this.outputEncoding;\n    this.controls = new OrbitControls(this.camera, this.$el);\n    this.controls.type = 'orbit';\n    this.scene.add(this.wrapper);\n    this.load();\n    this.update();\n    this.$el.addEventListener('mousedown', this.onMouseDown, false);\n    this.$el.addEventListener('mousemove', this.onMouseMove, false);\n    this.$el.addEventListener('mouseup', this.onMouseUp, false);\n    this.$el.addEventListener('click', this.onClick, false);\n    window.addEventListener('resize', this.onResize, false);\n    this.animate();\n  },\n  beforeDestroy: function beforeDestroy() {\n    cancelAnimationFrame(this.reqId);\n    this.scene.dispose();\n    this.renderer.dispose();\n\n    if (this.controls) {\n      this.controls.dispose();\n    }\n\n    this.$el.removeEventListener('mousedown', this.onMouseDown, false);\n    this.$el.removeEventListener('mousemove', this.onMouseMove, false);\n    this.$el.removeEventListener('mouseup', this.onMouseUp, false);\n    this.$el.removeEventListener('click', this.onClick, false);\n    window.removeEventListener('resize', this.onResize, false);\n  },\n  watch: {\n    src: function src() {\n      this.load();\n    },\n    rotation: {\n      deep: true,\n      handler: function handler(val) {\n        if (!this.object) return;\n        this.object.rotation.set(val.x, val.y, val.z);\n      }\n    },\n    position: {\n      deep: true,\n      handler: function handler(val) {\n        if (!this.object) return;\n        this.object.position.set(val.x, val.y, val.z);\n      }\n    },\n    scale: {\n      deep: true,\n      handler: function handler(val) {\n        if (!this.object) return;\n        this.object.scale.set(val.x, val.y, val.z);\n      }\n    },\n    lights: {\n      deep: true,\n      handler: function handler() {\n        this.updateLights();\n      }\n    },\n    size: {\n      deep: true,\n      handler: function handler() {\n        this.updateCamera();\n        this.updateRenderer();\n      }\n    },\n    controlsOptions: {\n      deep: true,\n      handler: function handler() {\n        this.updateControls();\n      }\n    },\n    backgroundAlpha: function backgroundAlpha() {\n      this.updateRenderer();\n    },\n    backgroundColor: function backgroundColor() {\n      this.updateRenderer();\n    }\n  },\n  methods: {\n    onResize: function onResize() {\n      var _this = this;\n\n      if (this.width === undefined || this.height === undefined) {\n        this.$nextTick(function () {\n          _this.size = {\n            width: _this.$el.offsetWidth,\n            height: _this.$el.offsetHeight\n          };\n        });\n      }\n    },\n    onMouseDown: function onMouseDown(event) {\n      if (!this.hasListener['on-mousedown']) return;\n      var intersected = this.pick(event.clientX, event.clientY);\n      this.$emit('on-mousedown', intersected);\n    },\n    onMouseMove: function onMouseMove(event) {\n      if (!this.hasListener['on-mousemove']) return;\n      var intersected = this.pick(event.clientX, event.clientY);\n      this.$emit('on-mousemove', intersected);\n    },\n    onMouseUp: function onMouseUp(event) {\n      if (!this.hasListener['on-mouseup']) return;\n      var intersected = this.pick(event.clientX, event.clientY);\n      this.$emit('on-mouseup', intersected);\n    },\n    onClick: function onClick(event) {\n      if (!this.hasListener['on-click']) return;\n      var intersected = this.pick(event.clientX, event.clientY);\n      this.$emit('on-click', intersected);\n    },\n    pick: function pick(x, y) {\n      if (!this.object) return null;\n      var rect = this.$el.getBoundingClientRect();\n      x -= rect.left;\n      y -= rect.top;\n      this.mouse.x = x / this.size.width * 2 - 1;\n      this.mouse.y = -(y / this.size.height) * 2 + 1;\n      this.raycaster.setFromCamera(this.mouse, this.camera);\n      var intersects = this.raycaster.intersectObject(this.object, true);\n      return (intersects && intersects.length) > 0 ? intersects[0] : null;\n    },\n    update: function update() {\n      this.updateRenderer();\n      this.updateCamera();\n      this.updateLights();\n      this.updateControls();\n    },\n    updateModel: function updateModel() {\n      var object = this.object;\n      if (!object) return;\n      var position = this.position;\n      var rotation = this.rotation;\n      var scale = this.scale;\n      object.position.set(position.x, position.y, position.z);\n      object.rotation.set(rotation.x, rotation.y, rotation.z);\n      object.scale.set(scale.x, scale.y, scale.z);\n    },\n    updateRenderer: function updateRenderer() {\n      var renderer = this.renderer;\n      renderer.setSize(this.size.width, this.size.height);\n      renderer.setPixelRatio(window.devicePixelRatio || 1);\n      renderer.setClearColor(new Color(this.backgroundColor).getHex());\n      renderer.setClearAlpha(this.backgroundAlpha);\n    },\n    updateCamera: function updateCamera() {\n      var camera = this.camera;\n      var object = this.object;\n      camera.aspect = this.size.width / this.size.height;\n      camera.updateProjectionMatrix();\n\n      if (!this.cameraLookAt && !this.cameraUp) {\n        if (!object) return;\n        var distance = getSize(object).length();\n        camera.position.set(this.cameraPosition.x, this.cameraPosition.y, this.cameraPosition.z);\n        camera.rotation.set(this.cameraRotation.x, this.cameraRotation.y, this.cameraRotation.z);\n\n        if (this.cameraPosition.x === 0 && this.cameraPosition.y === 0 && this.cameraPosition.z === 0) {\n          camera.position.z = distance;\n        }\n\n        camera.lookAt(new Vector3());\n      } else {\n        camera.position.set(this.cameraPosition.x, this.cameraPosition.y, this.cameraPosition.z);\n        camera.rotation.set(this.cameraRotation.x, this.cameraRotation.y, this.cameraRotation.z);\n        camera.up.set(this.cameraUp.x, this.cameraUp.y, this.cameraUp.z);\n        camera.lookAt(new Vector3(this.cameraLookAt.x, this.cameraLookAt.y, this.cameraLookAt.z));\n      }\n    },\n    updateLights: function updateLights() {\n      var _this$scene,\n          _this2 = this;\n\n      (_this$scene = this.scene).remove.apply(_this$scene, _toConsumableArray(this.allLights));\n\n      this.allLights = [];\n      this.lights.forEach(function (item) {\n        if (!item.type) return;\n        var type = item.type.toLowerCase();\n        var light = null;\n\n        if (type === 'ambient' || type === 'ambientlight') {\n          var color = item.color === 0x000000 ? item.color : item.color || 0x404040;\n          var intensity = item.intensity === 0 ? item.intensity : item.intensity || 1;\n          light = new AmbientLight(color, intensity);\n        } else if (type === 'point' || type === 'pointlight') {\n          var _color = item.color === 0x000000 ? item.color : item.color || 0xffffff;\n\n          var _intensity = item.intensity === 0 ? item.intensity : item.intensity || 1;\n\n          var distance = item.distance || 0;\n          var decay = item.decay === 0 ? item.decay : item.decay || 1;\n          light = new PointLight(_color, _intensity, distance, decay);\n\n          if (item.position) {\n            light.position.copy(item.position);\n          }\n        } else if (type === 'directional' || type === 'directionallight') {\n          var _color2 = item.color === 0x000000 ? item.color : item.color || 0xffffff;\n\n          var _intensity2 = item.intensity === 0 ? item.intensity : item.intensity || 1;\n\n          light = new DirectionalLight(_color2, _intensity2);\n\n          if (item.position) {\n            light.position.copy(item.position);\n          }\n\n          if (item.target) {\n            light.target.copy(item.target);\n          }\n        } else if (type === 'hemisphere' || type === 'hemispherelight') {\n          var skyColor = item.skyColor === 0x000000 ? item.skyColor : item.skyColor || 0xffffff;\n          var groundColor = item.groundColor === 0x000000 ? item.groundColor : item.groundColor || 0xffffff;\n\n          var _intensity3 = item.intensity === 0 ? item.intensity : item.intensity || 1;\n\n          light = new HemisphereLight(skyColor, groundColor, _intensity3);\n\n          if (item.position) {\n            light.position.copy(item.position);\n          }\n        }\n\n        _this2.allLights.push(light);\n\n        _this2.scene.add(light);\n      });\n    },\n    updateControls: function updateControls() {\n      if (this.controlsOptions) {\n        Object.assign(this.controls, this.controlsOptions);\n      }\n    },\n    load: function load() {\n      var _this3 = this;\n\n      if (!this.src) return;\n\n      if (this.object) {\n        this.wrapper.remove(this.object);\n      }\n\n      this.loader.load(this.src, function () {\n        var object = _this3.getObject.apply(_this3, arguments);\n\n        if (_this3.process) {\n          _this3.process(object);\n        }\n\n        _this3.addObject(object);\n\n        _this3.$emit('on-load');\n      }, function (xhr) {\n        _this3.$emit('on-progress', xhr);\n      }, function (err) {\n        _this3.$emit('on-error', err);\n      });\n    },\n    getObject: function getObject(object) {\n      return object;\n    },\n    addObject: function addObject(object) {\n      var center = getCenter(object); // correction position\n\n      this.wrapper.position.copy(center.negate());\n      this.object = object;\n      this.wrapper.add(object);\n      this.updateCamera();\n      this.updateModel();\n    },\n    animate: function animate() {\n      this.reqId = requestAnimationFrame(this.animate);\n      this.render();\n    },\n    render: function render() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/model-mixin.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_model_mixinvue_type_script_lang_js_ = (model_mixinvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nfunction normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n\n// CONCATENATED MODULE: ./src/model-mixin.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = normalizeComponent(\n  src_model_mixinvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var model_mixin = (component.exports);\n// CONCATENATED MODULE: ./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!./node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!./node_modules/_babel-loader@8.1.0@babel-loader/lib!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./src/model-obj.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n // TODO: Better way to handle texture formats\n\nvar model_objvue_type_script_lang_js_manager = new LoadingManager_LoadingManager(); // 0.122+ new api\n\nmodel_objvue_type_script_lang_js_manager.addHandler(/\\.dds$/i, new DDSLoader());\n/* harmony default export */ var model_objvue_type_script_lang_js_ = ({\n  name: 'model-obj',\n  mixins: [model_mixin],\n  props: {\n    lights: {\n      type: Array,\n      default: function _default() {\n        return [{\n          type: 'HemisphereLight',\n          position: {\n            x: 0,\n            y: 1,\n            z: 0\n          },\n          skyColor: 0xaaaaff,\n          groundColor: 0x806060,\n          intensity: 0.2\n        }, {\n          type: 'DirectionalLight',\n          position: {\n            x: 1,\n            y: 1,\n            z: 1\n          },\n          color: 0xffffff,\n          intensity: 0.8\n        }];\n      }\n    },\n    smoothing: {\n      type: Boolean,\n      default: false\n    },\n    mtlPath: {\n      type: String\n    },\n    mtl: {\n      type: String\n    }\n  },\n  data: function data() {\n    var objLoader = new OBJLoader_OBJLoader(model_objvue_type_script_lang_js_manager);\n    var mtlLoader = new MTLLoader(model_objvue_type_script_lang_js_manager);\n    mtlLoader.setCrossOrigin(this.crossOrigin);\n    return {\n      loader: objLoader,\n      mtlLoader: mtlLoader\n    };\n  },\n  watch: {\n    mtl: function mtl() {\n      this.load();\n    }\n  },\n  methods: {\n    process: function process(object) {\n      if (this.smoothing) {\n        object.traverse(function (child) {\n          if (child.geometry) {\n            child.geometry = toIndexed(child.geometry);\n            child.geometry.computeVertexNormals();\n          }\n        });\n      }\n    },\n    load: function load() {\n      var _this = this;\n\n      if (!this.src) return;\n\n      if (this.object) {\n        this.wrapper.remove(this.object);\n      }\n\n      var onLoad = function onLoad(object) {\n        if (_this.process) {\n          _this.process(object);\n        }\n\n        _this.addObject(object);\n\n        _this.$emit('on-load');\n      };\n\n      var onProgress = function onProgress(xhr) {\n        _this.$emit('on-progress', xhr);\n      };\n\n      var onError = function onError(err) {\n        _this.$emit('on-error', err);\n      };\n\n      if (this.mtl) {\n        var mtlPath = this.mtlPath;\n        var mtlSrc = this.mtl;\n\n        if (!this.mtlPath) {\n          var result = /^(.*\\/)([^/]*)$/.exec(this.mtl);\n\n          if (result) {\n            mtlPath = result[1];\n            mtlSrc = result[2];\n          }\n        }\n\n        if (mtlPath) {\n          this.mtlLoader.setPath(mtlPath);\n        }\n\n        this.mtlLoader.load(mtlSrc, function (materials) {\n          materials.preload();\n\n          _this.loader.setMaterials(materials).load(_this.src, onLoad, onProgress, onError);\n        }, function () {}, onError);\n      } else {\n        this.loader.load(this.src, onLoad, onProgress, onError);\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/model-obj.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_model_objvue_type_script_lang_js_ = (model_objvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/model-obj.vue\nvar model_obj_render, model_obj_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar model_obj_component = normalizeComponent(\n  src_model_objvue_type_script_lang_js_,\n  model_obj_render,\n  model_obj_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var model_obj = (model_obj_component.exports);\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/libs/inflate.module.min.js\n/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */var mod={}, inflate_module_min_l=void 0,aa=mod;function inflate_module_min_r(c,d){var a=c.split(\".\"),b=aa;!(a[0]in b)&&b.execScript&&b.execScript(\"var \"+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&d!==inflate_module_min_l?b[e]=d:b=b[e]?b[e]:b[e]={}};var inflate_module_min_t=\"undefined\"!==typeof Uint8Array&&\"undefined\"!==typeof Uint16Array&&\"undefined\"!==typeof Uint32Array&&\"undefined\"!==typeof DataView;function inflate_module_min_v(c){var d=c.length,a=0,b=Number.POSITIVE_INFINITY,e,f,g,h,k,m,n,p,s,x;for(p=0;p<d;++p)c[p]>a&&(a=c[p]),c[p]<b&&(b=c[p]);e=1<<a;f=new (inflate_module_min_t?Uint32Array:Array)(e);g=1;h=0;for(k=2;g<=a;){for(p=0;p<d;++p)if(c[p]===g){m=0;n=h;for(s=0;s<g;++s)m=m<<1|n&1,n>>=1;x=g<<16|p;for(s=m;s<e;s+=k)f[s]=x;++h}++g;h<<=1;k<<=1}return[f,a,b]};function inflate_module_min_w(c,d){this.g=[];this.h=32768;this.d=this.f=this.a=this.l=0;this.input=inflate_module_min_t?new Uint8Array(c):c;this.m=!1;this.i=y;this.r=!1;if(d||!(d={}))d.index&&(this.a=d.index),d.bufferSize&&(this.h=d.bufferSize),d.bufferType&&(this.i=d.bufferType),d.resize&&(this.r=d.resize);switch(this.i){case A:this.b=32768;this.c=new (inflate_module_min_t?Uint8Array:Array)(32768+this.h+258);break;case y:this.b=0;this.c=new (inflate_module_min_t?Uint8Array:Array)(this.h);this.e=this.z;this.n=this.v;this.j=this.w;break;default:throw Error(\"invalid inflate mode\");\n}}var A=0,y=1,B={t:A,s:y};\ninflate_module_min_w.prototype.k=function(){for(;!this.m;){var c=inflate_module_min_C(this,3);c&1&&(this.m=!0);c>>>=1;switch(c){case 0:var d=this.input,a=this.a,b=this.c,e=this.b,f=d.length,g=inflate_module_min_l,h=inflate_module_min_l,k=b.length,m=inflate_module_min_l;this.d=this.f=0;if(a+1>=f)throw Error(\"invalid uncompressed block header: LEN\");g=d[a++]|d[a++]<<8;if(a+1>=f)throw Error(\"invalid uncompressed block header: NLEN\");h=d[a++]|d[a++]<<8;if(g===~h)throw Error(\"invalid uncompressed block header: length verify\");if(a+g>d.length)throw Error(\"input buffer is broken\");switch(this.i){case A:for(;e+\ng>b.length;){m=k-e;g-=m;if(inflate_module_min_t)b.set(d.subarray(a,a+m),e),e+=m,a+=m;else for(;m--;)b[e++]=d[a++];this.b=e;b=this.e();e=this.b}break;case y:for(;e+g>b.length;)b=this.e({p:2});break;default:throw Error(\"invalid inflate mode\");}if(inflate_module_min_t)b.set(d.subarray(a,a+g),e),e+=g,a+=g;else for(;g--;)b[e++]=d[a++];this.a=a;this.b=e;this.c=b;break;case 1:this.j(ba,ca);break;case 2:for(var n=inflate_module_min_C(this,5)+257,p=inflate_module_min_C(this,5)+1,s=inflate_module_min_C(this,4)+4,x=new (inflate_module_min_t?Uint8Array:Array)(D.length),S=inflate_module_min_l,T=inflate_module_min_l,U=inflate_module_min_l,u=inflate_module_min_l,M=inflate_module_min_l,F=inflate_module_min_l,z=inflate_module_min_l,q=inflate_module_min_l,V=inflate_module_min_l,q=0;q<s;++q)x[D[q]]=\ninflate_module_min_C(this,3);if(!inflate_module_min_t){q=s;for(s=x.length;q<s;++q)x[D[q]]=0}S=inflate_module_min_v(x);u=new (inflate_module_min_t?Uint8Array:Array)(n+p);q=0;for(V=n+p;q<V;)switch(M=E(this,S),M){case 16:for(z=3+inflate_module_min_C(this,2);z--;)u[q++]=F;break;case 17:for(z=3+inflate_module_min_C(this,3);z--;)u[q++]=0;F=0;break;case 18:for(z=11+inflate_module_min_C(this,7);z--;)u[q++]=0;F=0;break;default:F=u[q++]=M}T=inflate_module_min_t?inflate_module_min_v(u.subarray(0,n)):inflate_module_min_v(u.slice(0,n));U=inflate_module_min_t?inflate_module_min_v(u.subarray(n)):inflate_module_min_v(u.slice(n));this.j(T,U);break;default:throw Error(\"unknown BTYPE: \"+c);}}return this.n()};\nvar G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=inflate_module_min_t?new Uint16Array(G):G,H=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],I=inflate_module_min_t?new Uint16Array(H):H,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],K=inflate_module_min_t?new Uint8Array(J):J,L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],da=inflate_module_min_t?new Uint16Array(L):L,ea=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,\n13,13],inflate_module_min_N=inflate_module_min_t?new Uint8Array(ea):ea,O=new (inflate_module_min_t?Uint8Array:Array)(288),inflate_module_min_P,fa;inflate_module_min_P=0;for(fa=O.length;inflate_module_min_P<fa;++inflate_module_min_P)O[inflate_module_min_P]=143>=inflate_module_min_P?8:255>=inflate_module_min_P?9:279>=inflate_module_min_P?7:8;var ba=inflate_module_min_v(O),Q=new (inflate_module_min_t?Uint8Array:Array)(30),R,ga;R=0;for(ga=Q.length;R<ga;++R)Q[R]=5;var ca=inflate_module_min_v(Q);function inflate_module_min_C(c,d){for(var a=c.f,b=c.d,e=c.input,f=c.a,g=e.length,h;b<d;){if(f>=g)throw Error(\"input buffer is broken\");a|=e[f++]<<b;b+=8}h=a&(1<<d)-1;c.f=a>>>d;c.d=b-d;c.a=f;return h}\nfunction E(c,d){for(var a=c.f,b=c.d,e=c.input,f=c.a,g=e.length,h=d[0],k=d[1],m,n;b<k&&!(f>=g);)a|=e[f++]<<b,b+=8;m=h[a&(1<<k)-1];n=m>>>16;if(n>b)throw Error(\"invalid code length: \"+n);c.f=a>>n;c.d=b-n;c.a=f;return m&65535}\ninflate_module_min_w.prototype.j=function(c,d){var a=this.c,b=this.b;this.o=c;for(var e=a.length-258,f,g,h,k;256!==(f=E(this,c));)if(256>f)b>=e&&(this.b=b,a=this.e(),b=this.b),a[b++]=f;else{g=f-257;k=I[g];0<K[g]&&(k+=inflate_module_min_C(this,K[g]));f=E(this,d);h=da[f];0<inflate_module_min_N[f]&&(h+=inflate_module_min_C(this,inflate_module_min_N[f]));b>=e&&(this.b=b,a=this.e(),b=this.b);for(;k--;)a[b]=a[b++-h]}for(;8<=this.d;)this.d-=8,this.a--;this.b=b};\ninflate_module_min_w.prototype.w=function(c,d){var a=this.c,b=this.b;this.o=c;for(var e=a.length,f,g,h,k;256!==(f=E(this,c));)if(256>f)b>=e&&(a=this.e(),e=a.length),a[b++]=f;else{g=f-257;k=I[g];0<K[g]&&(k+=inflate_module_min_C(this,K[g]));f=E(this,d);h=da[f];0<inflate_module_min_N[f]&&(h+=inflate_module_min_C(this,inflate_module_min_N[f]));b+k>e&&(a=this.e(),e=a.length);for(;k--;)a[b]=a[b++-h]}for(;8<=this.d;)this.d-=8,this.a--;this.b=b};\ninflate_module_min_w.prototype.e=function(){var c=new (inflate_module_min_t?Uint8Array:Array)(this.b-32768),d=this.b-32768,a,b,e=this.c;if(inflate_module_min_t)c.set(e.subarray(32768,c.length));else{a=0;for(b=c.length;a<b;++a)c[a]=e[a+32768]}this.g.push(c);this.l+=c.length;if(inflate_module_min_t)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];this.b=32768;return e};\ninflate_module_min_w.prototype.z=function(c){var d,a=this.input.length/this.a+1|0,b,e,f,g=this.input,h=this.c;c&&(\"number\"===typeof c.p&&(a=c.p),\"number\"===typeof c.u&&(a+=c.u));2>a?(b=(g.length-this.a)/this.o[2],f=258*(b/2)|0,e=f<h.length?h.length+f:h.length<<1):e=h.length*a;inflate_module_min_t?(d=new Uint8Array(e),d.set(h)):d=h;return this.c=d};\ninflate_module_min_w.prototype.n=function(){var c=0,d=this.c,a=this.g,b,e=new (inflate_module_min_t?Uint8Array:Array)(this.l+(this.b-32768)),f,g,h,k;if(0===a.length)return inflate_module_min_t?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);f=0;for(g=a.length;f<g;++f){b=a[f];h=0;for(k=b.length;h<k;++h)e[c++]=b[h]}f=32768;for(g=this.b;f<g;++f)e[c++]=d[f];this.g=[];return this.buffer=e};\ninflate_module_min_w.prototype.v=function(){var c,d=this.b;inflate_module_min_t?this.r?(c=new Uint8Array(d),c.set(this.c.subarray(0,d))):c=this.c.subarray(0,d):(this.c.length>d&&(this.c.length=d),c=this.c);return this.buffer=c};function W(c,d){var a,b;this.input=c;this.a=0;if(d||!(d={}))d.index&&(this.a=d.index),d.verify&&(this.A=d.verify);a=c[this.a++];b=c[this.a++];switch(a&15){case ha:this.method=ha;break;default:throw Error(\"unsupported compression method\");}if(0!==((a<<8)+b)%31)throw Error(\"invalid fcheck flag:\"+((a<<8)+b)%31);if(b&32)throw Error(\"fdict flag is not supported\");this.q=new inflate_module_min_w(c,{index:this.a,bufferSize:d.bufferSize,bufferType:d.bufferType,resize:d.resize})}\nW.prototype.k=function(){var c=this.input,d,a;d=this.q.k();this.a=this.q.a;if(this.A){a=(c[this.a++]<<24|c[this.a++]<<16|c[this.a++]<<8|c[this.a++])>>>0;var b=d;if(\"string\"===typeof b){var e=b.split(\"\"),f,g;f=0;for(g=e.length;f<g;f++)e[f]=(e[f].charCodeAt(0)&255)>>>0;b=e}for(var h=1,k=0,m=b.length,n,p=0;0<m;){n=1024<m?1024:m;m-=n;do h+=b[p++],k+=h;while(--n);h%=65521;k%=65521}if(a!==(k<<16|h)>>>0)throw Error(\"invalid adler-32 checksum\");}return d};var ha=8;inflate_module_min_r(\"Zlib.Inflate\",W);inflate_module_min_r(\"Zlib.Inflate.prototype.decompress\",W.prototype.k);var X={ADAPTIVE:B.s,BLOCK:B.t},Y,Z,$,ia;if(Object.keys)Y=Object.keys(X);else for(Z in Y=[],$=0,X)Y[$++]=Z;$=0;for(ia=Y.length;$<ia;++$)Z=Y[$],inflate_module_min_r(\"Zlib.Inflate.BufferType.\"+Z,X[Z]);\nvar Zlib=mod.Zlib;\n\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/curves/NURBSUtils.js\n/**\n * @author renej\n * NURBS utils\n *\n * See NURBSCurve and NURBSSurface.\n *\n **/\n\n\n\n\n/**************************************************************\n *\tNURBS Utils\n **************************************************************/\n\nvar NURBSUtils = {\n\n\t/*\n\tFinds knot vector span.\n\n\tp : degree\n\tu : parametric value\n\tU : knot vector\n\n\treturns the span\n\t*/\n\tfindSpan: function ( p, u, U ) {\n\n\t\tvar n = U.length - p - 1;\n\n\t\tif ( u >= U[ n ] ) {\n\n\t\t\treturn n - 1;\n\n\t\t}\n\n\t\tif ( u <= U[ p ] ) {\n\n\t\t\treturn p;\n\n\t\t}\n\n\t\tvar low = p;\n\t\tvar high = n;\n\t\tvar mid = Math.floor( ( low + high ) / 2 );\n\n\t\twhile ( u < U[ mid ] || u >= U[ mid + 1 ] ) {\n\n\t\t\tif ( u < U[ mid ] ) {\n\n\t\t\t\thigh = mid;\n\n\t\t\t} else {\n\n\t\t\t\tlow = mid;\n\n\t\t\t}\n\n\t\t\tmid = Math.floor( ( low + high ) / 2 );\n\n\t\t}\n\n\t\treturn mid;\n\n\t},\n\n\n\t/*\n\tCalculate basis functions. See The NURBS Book, page 70, algorithm A2.2\n\n\tspan : span in which u lies\n\tu    : parametric point\n\tp    : degree\n\tU    : knot vector\n\n\treturns array[p+1] with basis functions values.\n\t*/\n\tcalcBasisFunctions: function ( span, u, p, U ) {\n\n\t\tvar N = [];\n\t\tvar left = [];\n\t\tvar right = [];\n\t\tN[ 0 ] = 1.0;\n\n\t\tfor ( var j = 1; j <= p; ++ j ) {\n\n\t\t\tleft[ j ] = u - U[ span + 1 - j ];\n\t\t\tright[ j ] = U[ span + j ] - u;\n\n\t\t\tvar saved = 0.0;\n\n\t\t\tfor ( var r = 0; r < j; ++ r ) {\n\n\t\t\t\tvar rv = right[ r + 1 ];\n\t\t\t\tvar lv = left[ j - r ];\n\t\t\t\tvar temp = N[ r ] / ( rv + lv );\n\t\t\t\tN[ r ] = saved + rv * temp;\n\t\t\t\tsaved = lv * temp;\n\n\t\t\t }\n\n\t\t\t N[ j ] = saved;\n\n\t\t }\n\n\t\t return N;\n\n\t},\n\n\n\t/*\n\tCalculate B-Spline curve points. See The NURBS Book, page 82, algorithm A3.1.\n\n\tp : degree of B-Spline\n\tU : knot vector\n\tP : control points (x, y, z, w)\n\tu : parametric point\n\n\treturns point for given u\n\t*/\n\tcalcBSplinePoint: function ( p, U, P, u ) {\n\n\t\tvar span = this.findSpan( p, u, U );\n\t\tvar N = this.calcBasisFunctions( span, u, p, U );\n\t\tvar C = new Vector4( 0, 0, 0, 0 );\n\n\t\tfor ( var j = 0; j <= p; ++ j ) {\n\n\t\t\tvar point = P[ span - p + j ];\n\t\t\tvar Nj = N[ j ];\n\t\t\tvar wNj = point.w * Nj;\n\t\t\tC.x += point.x * wNj;\n\t\t\tC.y += point.y * wNj;\n\t\t\tC.z += point.z * wNj;\n\t\t\tC.w += point.w * Nj;\n\n\t\t}\n\n\t\treturn C;\n\n\t},\n\n\n\t/*\n\tCalculate basis functions derivatives. See The NURBS Book, page 72, algorithm A2.3.\n\n\tspan : span in which u lies\n\tu    : parametric point\n\tp    : degree\n\tn    : number of derivatives to calculate\n\tU    : knot vector\n\n\treturns array[n+1][p+1] with basis functions derivatives\n\t*/\n\tcalcBasisFunctionDerivatives: function ( span, u, p, n, U ) {\n\n\t\tvar zeroArr = [];\n\t\tfor ( var i = 0; i <= p; ++ i )\n\t\t\tzeroArr[ i ] = 0.0;\n\n\t\tvar ders = [];\n\t\tfor ( var i = 0; i <= n; ++ i )\n\t\t\tders[ i ] = zeroArr.slice( 0 );\n\n\t\tvar ndu = [];\n\t\tfor ( var i = 0; i <= p; ++ i )\n\t\t\tndu[ i ] = zeroArr.slice( 0 );\n\n\t\tndu[ 0 ][ 0 ] = 1.0;\n\n\t\tvar left = zeroArr.slice( 0 );\n\t\tvar right = zeroArr.slice( 0 );\n\n\t\tfor ( var j = 1; j <= p; ++ j ) {\n\n\t\t\tleft[ j ] = u - U[ span + 1 - j ];\n\t\t\tright[ j ] = U[ span + j ] - u;\n\n\t\t\tvar saved = 0.0;\n\n\t\t\tfor ( var r = 0; r < j; ++ r ) {\n\n\t\t\t\tvar rv = right[ r + 1 ];\n\t\t\t\tvar lv = left[ j - r ];\n\t\t\t\tndu[ j ][ r ] = rv + lv;\n\n\t\t\t\tvar temp = ndu[ r ][ j - 1 ] / ndu[ j ][ r ];\n\t\t\t\tndu[ r ][ j ] = saved + rv * temp;\n\t\t\t\tsaved = lv * temp;\n\n\t\t\t}\n\n\t\t\tndu[ j ][ j ] = saved;\n\n\t\t}\n\n\t\tfor ( var j = 0; j <= p; ++ j ) {\n\n\t\t\tders[ 0 ][ j ] = ndu[ j ][ p ];\n\n\t\t}\n\n\t\tfor ( var r = 0; r <= p; ++ r ) {\n\n\t\t\tvar s1 = 0;\n\t\t\tvar s2 = 1;\n\n\t\t\tvar a = [];\n\t\t\tfor ( var i = 0; i <= p; ++ i ) {\n\n\t\t\t\ta[ i ] = zeroArr.slice( 0 );\n\n\t\t\t}\n\n\t\t\ta[ 0 ][ 0 ] = 1.0;\n\n\t\t\tfor ( var k = 1; k <= n; ++ k ) {\n\n\t\t\t\tvar d = 0.0;\n\t\t\t\tvar rk = r - k;\n\t\t\t\tvar pk = p - k;\n\n\t\t\t\tif ( r >= k ) {\n\n\t\t\t\t\ta[ s2 ][ 0 ] = a[ s1 ][ 0 ] / ndu[ pk + 1 ][ rk ];\n\t\t\t\t\td = a[ s2 ][ 0 ] * ndu[ rk ][ pk ];\n\n\t\t\t\t}\n\n\t\t\t\tvar j1 = ( rk >= - 1 ) ? 1 : - rk;\n\t\t\t\tvar j2 = ( r - 1 <= pk ) ? k - 1 : p - r;\n\n\t\t\t\tfor ( var j = j1; j <= j2; ++ j ) {\n\n\t\t\t\t\ta[ s2 ][ j ] = ( a[ s1 ][ j ] - a[ s1 ][ j - 1 ] ) / ndu[ pk + 1 ][ rk + j ];\n\t\t\t\t\td += a[ s2 ][ j ] * ndu[ rk + j ][ pk ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( r <= pk ) {\n\n\t\t\t\t\ta[ s2 ][ k ] = - a[ s1 ][ k - 1 ] / ndu[ pk + 1 ][ r ];\n\t\t\t\t\td += a[ s2 ][ k ] * ndu[ r ][ pk ];\n\n\t\t\t\t}\n\n\t\t\t\tders[ k ][ r ] = d;\n\n\t\t\t\tvar j = s1;\n\t\t\t\ts1 = s2;\n\t\t\t\ts2 = j;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar r = p;\n\n\t\tfor ( var k = 1; k <= n; ++ k ) {\n\n\t\t\tfor ( var j = 0; j <= p; ++ j ) {\n\n\t\t\t\tders[ k ][ j ] *= r;\n\n\t\t\t}\n\n\t\t\tr *= p - k;\n\n\t\t}\n\n\t\treturn ders;\n\n\t},\n\n\n\t/*\n\t\tCalculate derivatives of a B-Spline. See The NURBS Book, page 93, algorithm A3.2.\n\n\t\tp  : degree\n\t\tU  : knot vector\n\t\tP  : control points\n\t\tu  : Parametric points\n\t\tnd : number of derivatives\n\n\t\treturns array[d+1] with derivatives\n\t\t*/\n\tcalcBSplineDerivatives: function ( p, U, P, u, nd ) {\n\n\t\tvar du = nd < p ? nd : p;\n\t\tvar CK = [];\n\t\tvar span = this.findSpan( p, u, U );\n\t\tvar nders = this.calcBasisFunctionDerivatives( span, u, p, du, U );\n\t\tvar Pw = [];\n\n\t\tfor ( var i = 0; i < P.length; ++ i ) {\n\n\t\t\tvar point = P[ i ].clone();\n\t\t\tvar w = point.w;\n\n\t\t\tpoint.x *= w;\n\t\t\tpoint.y *= w;\n\t\t\tpoint.z *= w;\n\n\t\t\tPw[ i ] = point;\n\n\t\t}\n\n\t\tfor ( var k = 0; k <= du; ++ k ) {\n\n\t\t\tvar point = Pw[ span - p ].clone().multiplyScalar( nders[ k ][ 0 ] );\n\n\t\t\tfor ( var j = 1; j <= p; ++ j ) {\n\n\t\t\t\tpoint.add( Pw[ span - p + j ].clone().multiplyScalar( nders[ k ][ j ] ) );\n\n\t\t\t}\n\n\t\t\tCK[ k ] = point;\n\n\t\t}\n\n\t\tfor ( var k = du + 1; k <= nd + 1; ++ k ) {\n\n\t\t\tCK[ k ] = new Vector4( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn CK;\n\n\t},\n\n\n\t/*\n\tCalculate \"K over I\"\n\n\treturns k!/(i!(k-i)!)\n\t*/\n\tcalcKoverI: function ( k, i ) {\n\n\t\tvar nom = 1;\n\n\t\tfor ( var j = 2; j <= k; ++ j ) {\n\n\t\t\tnom *= j;\n\n\t\t}\n\n\t\tvar denom = 1;\n\n\t\tfor ( var j = 2; j <= i; ++ j ) {\n\n\t\t\tdenom *= j;\n\n\t\t}\n\n\t\tfor ( var j = 2; j <= k - i; ++ j ) {\n\n\t\t\tdenom *= j;\n\n\t\t}\n\n\t\treturn nom / denom;\n\n\t},\n\n\n\t/*\n\tCalculate derivatives (0-nd) of rational curve. See The NURBS Book, page 127, algorithm A4.2.\n\n\tPders : result of function calcBSplineDerivatives\n\n\treturns array with derivatives for rational curve.\n\t*/\n\tcalcRationalCurveDerivatives: function ( Pders ) {\n\n\t\tvar nd = Pders.length;\n\t\tvar Aders = [];\n\t\tvar wders = [];\n\n\t\tfor ( var i = 0; i < nd; ++ i ) {\n\n\t\t\tvar point = Pders[ i ];\n\t\t\tAders[ i ] = new Vector3( point.x, point.y, point.z );\n\t\t\twders[ i ] = point.w;\n\n\t\t}\n\n\t\tvar CK = [];\n\n\t\tfor ( var k = 0; k < nd; ++ k ) {\n\n\t\t\tvar v = Aders[ k ].clone();\n\n\t\t\tfor ( var i = 1; i <= k; ++ i ) {\n\n\t\t\t\tv.sub( CK[ k - i ].clone().multiplyScalar( this.calcKoverI( k, i ) * wders[ i ] ) );\n\n\t\t\t}\n\n\t\t\tCK[ k ] = v.divideScalar( wders[ 0 ] );\n\n\t\t}\n\n\t\treturn CK;\n\n\t},\n\n\n\t/*\n\tCalculate NURBS curve derivatives. See The NURBS Book, page 127, algorithm A4.2.\n\n\tp  : degree\n\tU  : knot vector\n\tP  : control points in homogeneous space\n\tu  : parametric points\n\tnd : number of derivatives\n\n\treturns array with derivatives.\n\t*/\n\tcalcNURBSDerivatives: function ( p, U, P, u, nd ) {\n\n\t\tvar Pders = this.calcBSplineDerivatives( p, U, P, u, nd );\n\t\treturn this.calcRationalCurveDerivatives( Pders );\n\n\t},\n\n\n\t/*\n\tCalculate rational B-Spline surface point. See The NURBS Book, page 134, algorithm A4.3.\n\n\tp1, p2 : degrees of B-Spline surface\n\tU1, U2 : knot vectors\n\tP      : control points (x, y, z, w)\n\tu, v   : parametric values\n\n\treturns point for given (u, v)\n\t*/\n\tcalcSurfacePoint: function ( p, q, U, V, P, u, v, target ) {\n\n\t\tvar uspan = this.findSpan( p, u, U );\n\t\tvar vspan = this.findSpan( q, v, V );\n\t\tvar Nu = this.calcBasisFunctions( uspan, u, p, U );\n\t\tvar Nv = this.calcBasisFunctions( vspan, v, q, V );\n\t\tvar temp = [];\n\n\t\tfor ( var l = 0; l <= q; ++ l ) {\n\n\t\t\ttemp[ l ] = new Vector4( 0, 0, 0, 0 );\n\t\t\tfor ( var k = 0; k <= p; ++ k ) {\n\n\t\t\t\tvar point = P[ uspan - p + k ][ vspan - q + l ].clone();\n\t\t\t\tvar w = point.w;\n\t\t\t\tpoint.x *= w;\n\t\t\t\tpoint.y *= w;\n\t\t\t\tpoint.z *= w;\n\t\t\t\ttemp[ l ].add( point.multiplyScalar( Nu[ k ] ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar Sw = new Vector4( 0, 0, 0, 0 );\n\t\tfor ( var l = 0; l <= q; ++ l ) {\n\n\t\t\tSw.add( temp[ l ].multiplyScalar( Nv[ l ] ) );\n\n\t\t}\n\n\t\tSw.divideScalar( Sw.w );\n\t\ttarget.set( Sw.x, Sw.y, Sw.z );\n\n\t}\n\n};\n\n\n\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/curves/NURBSCurve.js\n/**\n * @author renej\n * NURBS curve object\n *\n * Derives from Curve, overriding getPoint and getTangent.\n *\n * Implementation is based on (x, y [, z=0 [, w=1]]) control points with w=weight.\n *\n **/\n\n\n\n\n\n/**************************************************************\n *\tNURBS curve\n **************************************************************/\n\nvar NURBSCurve = function ( degree, knots /* array of reals */, controlPoints /* array of Vector(2|3|4) */, startKnot /* index in knots */, endKnot /* index in knots */ ) {\n\n\tCurve.call( this );\n\n\tthis.degree = degree;\n\tthis.knots = knots;\n\tthis.controlPoints = [];\n\t// Used by periodic NURBS to remove hidden spans\n\tthis.startKnot = startKnot || 0;\n\tthis.endKnot = endKnot || ( this.knots.length - 1 );\n\tfor ( var i = 0; i < controlPoints.length; ++ i ) {\n\n\t\t// ensure Vector4 for control points\n\t\tvar point = controlPoints[ i ];\n\t\tthis.controlPoints[ i ] = new Vector4( point.x, point.y, point.z, point.w );\n\n\t}\n\n};\n\n\nNURBSCurve.prototype = Object.create( Curve.prototype );\nNURBSCurve.prototype.constructor = NURBSCurve;\n\n\nNURBSCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar u = this.knots[ this.startKnot ] + t * ( this.knots[ this.endKnot ] - this.knots[ this.startKnot ] ); // linear mapping t->u\n\n\t// following results in (wx, wy, wz, w) homogeneous point\n\tvar hpoint = NURBSUtils.calcBSplinePoint( this.degree, this.knots, this.controlPoints, u );\n\n\tif ( hpoint.w != 1.0 ) {\n\n\t\t// project to 3D space: (wx, wy, wz, w) -> (x, y, z, 1)\n\t\thpoint.divideScalar( hpoint.w );\n\n\t}\n\n\treturn point.set( hpoint.x, hpoint.y, hpoint.z );\n\n};\n\n\nNURBSCurve.prototype.getTangent = function ( t, optionalTarget ) {\n\n\tvar tangent = optionalTarget || new Vector3();\n\n\tvar u = this.knots[ 0 ] + t * ( this.knots[ this.knots.length - 1 ] - this.knots[ 0 ] );\n\tvar ders = NURBSUtils.calcNURBSDerivatives( this.degree, this.knots, this.controlPoints, u, 1 );\n\ttangent.copy( ders[ 1 ] ).normalize();\n\n\treturn tangent;\n\n};\n\n\n\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/loaders/FBXLoader.js\n/**\n * @author Kyle-Larson https://github.com/Kyle-Larson\n * @author Takahiro https://github.com/takahirox\n * @author Lewy Blue https://github.com/looeee\n *\n * Loader loads FBX file and generates Group representing FBX scene.\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\n * Versions lower than this may load but will probably have errors\n *\n * Needs Support:\n *  Morph normals / blend shape normals\n *\n * FBX format references:\n * \thttps://wiki.blender.org/index.php/User:Mont29/Foundation/FBX_File_Structure\n * \thttp://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\n *\n * \tBinary format specification:\n *\t\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\n */\n\n\n\n\n\n\nvar FBXLoader_FBXLoader = ( function () {\n\n\tvar fbxTree;\n\tvar connections;\n\tvar sceneGraph;\n\n\tfunction FBXLoader( manager ) {\n\n\t\tLoader.call( this, manager );\n\n\t}\n\n\tFBXLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\t\tconstructor: FBXLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar path = ( scope.path === '' ) ? LoaderUtils.extractUrlBase( url ) : scope.path;\n\n\t\t\tvar loader = new FileLoader( this.manager );\n\t\t\tloader.setPath( scope.path );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tonLoad( scope.parse( buffer, path ) );\n\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\tif ( onError ) {\n\n\t\t\t\t\t\tonError( e );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t},\n\n\t\tparse: function ( FBXBuffer, path ) {\n\n\t\t\tif ( isFbxFormatBinary( FBXBuffer ) ) {\n\n\t\t\t\tfbxTree = new BinaryParser().parse( FBXBuffer );\n\n\t\t\t} else {\n\n\t\t\t\tvar FBXText = convertArrayBufferToString( FBXBuffer );\n\n\t\t\t\tif ( ! isFbxFormatASCII( FBXText ) ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.FBXLoader: Unknown format.' );\n\n\t\t\t\t}\n\n\t\t\t\tif ( getFbxVersion( FBXText ) < 7000 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.FBXLoader: FBX version not supported, FileVersion: ' + getFbxVersion( FBXText ) );\n\n\t\t\t\t}\n\n\t\t\t\tfbxTree = new TextParser().parse( FBXText );\n\n\t\t\t}\n\n\t\t\t// console.log( fbxTree );\n\n\t\t\tvar textureLoader = new TextureLoader( this.manager ).setPath( this.resourcePath || path ).setCrossOrigin( this.crossOrigin );\n\n\t\t\treturn new FBXTreeParser( textureLoader, this.manager ).parse( fbxTree );\n\n\t\t}\n\n\t} );\n\n\t// Parse the FBXTree object returned by the BinaryParser or TextParser and return a Group\n\tfunction FBXTreeParser( textureLoader, manager ) {\n\n\t\tthis.textureLoader = textureLoader;\n\t\tthis.manager = manager;\n\n\t}\n\n\tFBXTreeParser.prototype = {\n\n\t\tconstructor: FBXTreeParser,\n\n\t\tparse: function () {\n\n\t\t\tconnections = this.parseConnections();\n\n\t\t\tvar images = this.parseImages();\n\t\t\tvar textures = this.parseTextures( images );\n\t\t\tvar materials = this.parseMaterials( textures );\n\t\t\tvar deformers = this.parseDeformers();\n\t\t\tvar geometryMap = new GeometryParser().parse( deformers );\n\n\t\t\tthis.parseScene( deformers, geometryMap, materials );\n\n\t\t\treturn sceneGraph;\n\n\t\t},\n\n\t\t// Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )\n\t\t// and details the connection type\n\t\tparseConnections: function () {\n\n\t\t\tvar connectionMap = new Map();\n\n\t\t\tif ( 'Connections' in fbxTree ) {\n\n\t\t\t\tvar rawConnections = fbxTree.Connections.connections;\n\n\t\t\t\trawConnections.forEach( function ( rawConnection ) {\n\n\t\t\t\t\tvar fromID = rawConnection[ 0 ];\n\t\t\t\t\tvar toID = rawConnection[ 1 ];\n\t\t\t\t\tvar relationship = rawConnection[ 2 ];\n\n\t\t\t\t\tif ( ! connectionMap.has( fromID ) ) {\n\n\t\t\t\t\t\tconnectionMap.set( fromID, {\n\t\t\t\t\t\t\tparents: [],\n\t\t\t\t\t\t\tchildren: []\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar parentRelationship = { ID: toID, relationship: relationship };\n\t\t\t\t\tconnectionMap.get( fromID ).parents.push( parentRelationship );\n\n\t\t\t\t\tif ( ! connectionMap.has( toID ) ) {\n\n\t\t\t\t\t\tconnectionMap.set( toID, {\n\t\t\t\t\t\t\tparents: [],\n\t\t\t\t\t\t\tchildren: []\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar childRelationship = { ID: fromID, relationship: relationship };\n\t\t\t\t\tconnectionMap.get( toID ).children.push( childRelationship );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn connectionMap;\n\n\t\t},\n\n\t\t// Parse FBXTree.Objects.Video for embedded image data\n\t\t// These images are connected to textures in FBXTree.Objects.Textures\n\t\t// via FBXTree.Connections.\n\t\tparseImages: function () {\n\n\t\t\tvar images = {};\n\t\t\tvar blobs = {};\n\n\t\t\tif ( 'Video' in fbxTree.Objects ) {\n\n\t\t\t\tvar videoNodes = fbxTree.Objects.Video;\n\n\t\t\t\tfor ( var nodeID in videoNodes ) {\n\n\t\t\t\t\tvar videoNode = videoNodes[ nodeID ];\n\n\t\t\t\t\tvar id = parseInt( nodeID );\n\n\t\t\t\t\timages[ id ] = videoNode.RelativeFilename || videoNode.Filename;\n\n\t\t\t\t\t// raw image data is in videoNode.Content\n\t\t\t\t\tif ( 'Content' in videoNode ) {\n\n\t\t\t\t\t\tvar arrayBufferContent = ( videoNode.Content instanceof ArrayBuffer ) && ( videoNode.Content.byteLength > 0 );\n\t\t\t\t\t\tvar base64Content = ( typeof videoNode.Content === 'string' ) && ( videoNode.Content !== '' );\n\n\t\t\t\t\t\tif ( arrayBufferContent || base64Content ) {\n\n\t\t\t\t\t\t\tvar image = this.parseImage( videoNodes[ nodeID ] );\n\n\t\t\t\t\t\t\tblobs[ videoNode.RelativeFilename || videoNode.Filename ] = image;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( var id in images ) {\n\n\t\t\t\tvar filename = images[ id ];\n\n\t\t\t\tif ( blobs[ filename ] !== undefined ) images[ id ] = blobs[ filename ];\n\t\t\t\telse images[ id ] = images[ id ].split( '\\\\' ).pop();\n\n\t\t\t}\n\n\t\t\treturn images;\n\n\t\t},\n\n\t\t// Parse embedded image data in FBXTree.Video.Content\n\t\tparseImage: function ( videoNode ) {\n\n\t\t\tvar content = videoNode.Content;\n\t\t\tvar fileName = videoNode.RelativeFilename || videoNode.Filename;\n\t\t\tvar extension = fileName.slice( fileName.lastIndexOf( '.' ) + 1 ).toLowerCase();\n\n\t\t\tvar type;\n\n\t\t\tswitch ( extension ) {\n\n\t\t\t\tcase 'bmp':\n\n\t\t\t\t\ttype = 'image/bmp';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'jpeg':\n\n\t\t\t\t\ttype = 'image/jpeg';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'png':\n\n\t\t\t\t\ttype = 'image/png';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'tif':\n\n\t\t\t\t\ttype = 'image/tiff';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'tga':\n\n\t\t\t\t\tif ( this.manager.getHandler( '.tga' ) === null ) {\n\n\t\t\t\t\t\tconsole.warn( 'FBXLoader: TGA loader not found, skipping ', fileName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttype = 'image/tga';\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tconsole.warn( 'FBXLoader: Image type \"' + extension + '\" is not supported.' );\n\t\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( typeof content === 'string' ) { // ASCII format\n\n\t\t\t\treturn 'data:' + type + ';base64,' + content;\n\n\t\t\t} else { // Binary Format\n\n\t\t\t\tvar array = new Uint8Array( content );\n\t\t\t\treturn window.URL.createObjectURL( new Blob( [ array ], { type: type } ) );\n\n\t\t\t}\n\n\t\t},\n\n\t\t// Parse nodes in FBXTree.Objects.Texture\n\t\t// These contain details such as UV scaling, cropping, rotation etc and are connected\n\t\t// to images in FBXTree.Objects.Video\n\t\tparseTextures: function ( images ) {\n\n\t\t\tvar textureMap = new Map();\n\n\t\t\tif ( 'Texture' in fbxTree.Objects ) {\n\n\t\t\t\tvar textureNodes = fbxTree.Objects.Texture;\n\t\t\t\tfor ( var nodeID in textureNodes ) {\n\n\t\t\t\t\tvar texture = this.parseTexture( textureNodes[ nodeID ], images );\n\t\t\t\t\ttextureMap.set( parseInt( nodeID ), texture );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn textureMap;\n\n\t\t},\n\n\t\t// Parse individual node in FBXTree.Objects.Texture\n\t\tparseTexture: function ( textureNode, images ) {\n\n\t\t\tvar texture = this.loadTexture( textureNode, images );\n\n\t\t\ttexture.ID = textureNode.id;\n\n\t\t\ttexture.name = textureNode.attrName;\n\n\t\t\tvar wrapModeU = textureNode.WrapModeU;\n\t\t\tvar wrapModeV = textureNode.WrapModeV;\n\n\t\t\tvar valueU = wrapModeU !== undefined ? wrapModeU.value : 0;\n\t\t\tvar valueV = wrapModeV !== undefined ? wrapModeV.value : 0;\n\n\t\t\t// http://download.autodesk.com/us/fbx/SDKdocs/FBX_SDK_Help/files/fbxsdkref/class_k_fbx_texture.html#889640e63e2e681259ea81061b85143a\n\t\t\t// 0: repeat(default), 1: clamp\n\n\t\t\ttexture.wrapS = valueU === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = valueV === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n\n\t\t\tif ( 'Scaling' in textureNode ) {\n\n\t\t\t\tvar values = textureNode.Scaling.value;\n\n\t\t\t\ttexture.repeat.x = values[ 0 ];\n\t\t\t\ttexture.repeat.y = values[ 1 ];\n\n\t\t\t}\n\n\t\t\treturn texture;\n\n\t\t},\n\n\t\t// load a texture specified as a blob or data URI, or via an external URL using TextureLoader\n\t\tloadTexture: function ( textureNode, images ) {\n\n\t\t\tvar fileName;\n\n\t\t\tvar currentPath = this.textureLoader.path;\n\n\t\t\tvar children = connections.get( textureNode.id ).children;\n\n\t\t\tif ( children !== undefined && children.length > 0 && images[ children[ 0 ].ID ] !== undefined ) {\n\n\t\t\t\tfileName = images[ children[ 0 ].ID ];\n\n\t\t\t\tif ( fileName.indexOf( 'blob:' ) === 0 || fileName.indexOf( 'data:' ) === 0 ) {\n\n\t\t\t\t\tthis.textureLoader.setPath( undefined );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar texture;\n\n\t\t\tvar extension = textureNode.FileName.slice( - 3 ).toLowerCase();\n\n\t\t\tif ( extension === 'tga' ) {\n\n\t\t\t\tvar loader = this.manager.getHandler( '.tga' );\n\n\t\t\t\tif ( loader === null ) {\n\n\t\t\t\t\tconsole.warn( 'FBXLoader: TGA loader not found, creating placeholder texture for', textureNode.RelativeFilename );\n\t\t\t\t\ttexture = new Texture();\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = loader.load( fileName );\n\n\t\t\t\t}\n\n\t\t\t} else if ( extension === 'psd' ) {\n\n\t\t\t\tconsole.warn( 'FBXLoader: PSD textures are not supported, creating placeholder texture for', textureNode.RelativeFilename );\n\t\t\t\ttexture = new Texture();\n\n\t\t\t} else {\n\n\t\t\t\ttexture = this.textureLoader.load( fileName );\n\n\t\t\t}\n\n\t\t\tthis.textureLoader.setPath( currentPath );\n\n\t\t\treturn texture;\n\n\t\t},\n\n\t\t// Parse nodes in FBXTree.Objects.Material\n\t\tparseMaterials: function ( textureMap ) {\n\n\t\t\tvar materialMap = new Map();\n\n\t\t\tif ( 'Material' in fbxTree.Objects ) {\n\n\t\t\t\tvar materialNodes = fbxTree.Objects.Material;\n\n\t\t\t\tfor ( var nodeID in materialNodes ) {\n\n\t\t\t\t\tvar material = this.parseMaterial( materialNodes[ nodeID ], textureMap );\n\n\t\t\t\t\tif ( material !== null ) materialMap.set( parseInt( nodeID ), material );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn materialMap;\n\n\t\t},\n\n\t\t// Parse single node in FBXTree.Objects.Material\n\t\t// Materials are connected to texture maps in FBXTree.Objects.Textures\n\t\t// FBX format currently only supports Lambert and Phong shading models\n\t\tparseMaterial: function ( materialNode, textureMap ) {\n\n\t\t\tvar ID = materialNode.id;\n\t\t\tvar name = materialNode.attrName;\n\t\t\tvar type = materialNode.ShadingModel;\n\n\t\t\t// Case where FBX wraps shading model in property object.\n\t\t\tif ( typeof type === 'object' ) {\n\n\t\t\t\ttype = type.value;\n\n\t\t\t}\n\n\t\t\t// Ignore unused materials which don't have any connections.\n\t\t\tif ( ! connections.has( ID ) ) return null;\n\n\t\t\tvar parameters = this.parseParameters( materialNode, textureMap, ID );\n\n\t\t\tvar material;\n\n\t\t\tswitch ( type.toLowerCase() ) {\n\n\t\t\t\tcase 'phong':\n\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'lambert':\n\t\t\t\t\tmaterial = new MeshLambertMaterial();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: unknown material type \"%s\". Defaulting to MeshPhongMaterial.', type );\n\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tmaterial.setValues( parameters );\n\t\t\tmaterial.name = name;\n\n\t\t\treturn material;\n\n\t\t},\n\n\t\t// Parse FBX material and return parameters suitable for a three.js material\n\t\t// Also parse the texture map and return any textures associated with the material\n\t\tparseParameters: function ( materialNode, textureMap, ID ) {\n\n\t\t\tvar parameters = {};\n\n\t\t\tif ( materialNode.BumpFactor ) {\n\n\t\t\t\tparameters.bumpScale = materialNode.BumpFactor.value;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Diffuse ) {\n\n\t\t\t\tparameters.color = new Color().fromArray( materialNode.Diffuse.value );\n\n\t\t\t} else if ( materialNode.DiffuseColor && materialNode.DiffuseColor.type === 'Color' ) {\n\n\t\t\t\t// The blender exporter exports diffuse here instead of in materialNode.Diffuse\n\t\t\t\tparameters.color = new Color().fromArray( materialNode.DiffuseColor.value );\n\n\t\t\t}\n\n\t\t\tif ( materialNode.DisplacementFactor ) {\n\n\t\t\t\tparameters.displacementScale = materialNode.DisplacementFactor.value;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Emissive ) {\n\n\t\t\t\tparameters.emissive = new Color().fromArray( materialNode.Emissive.value );\n\n\t\t\t} else if ( materialNode.EmissiveColor && materialNode.EmissiveColor.type === 'Color' ) {\n\n\t\t\t\t// The blender exporter exports emissive color here instead of in materialNode.Emissive\n\t\t\t\tparameters.emissive = new Color().fromArray( materialNode.EmissiveColor.value );\n\n\t\t\t}\n\n\t\t\tif ( materialNode.EmissiveFactor ) {\n\n\t\t\t\tparameters.emissiveIntensity = parseFloat( materialNode.EmissiveFactor.value );\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Opacity ) {\n\n\t\t\t\tparameters.opacity = parseFloat( materialNode.Opacity.value );\n\n\t\t\t}\n\n\t\t\tif ( parameters.opacity < 1.0 ) {\n\n\t\t\t\tparameters.transparent = true;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.ReflectionFactor ) {\n\n\t\t\t\tparameters.reflectivity = materialNode.ReflectionFactor.value;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Shininess ) {\n\n\t\t\t\tparameters.shininess = materialNode.Shininess.value;\n\n\t\t\t}\n\n\t\t\tif ( materialNode.Specular ) {\n\n\t\t\t\tparameters.specular = new Color().fromArray( materialNode.Specular.value );\n\n\t\t\t} else if ( materialNode.SpecularColor && materialNode.SpecularColor.type === 'Color' ) {\n\n\t\t\t\t// The blender exporter exports specular color here instead of in materialNode.Specular\n\t\t\t\tparameters.specular = new Color().fromArray( materialNode.SpecularColor.value );\n\n\t\t\t}\n\n\t\t\tvar scope = this;\n\t\t\tconnections.get( ID ).children.forEach( function ( child ) {\n\n\t\t\t\tvar type = child.relationship;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 'Bump':\n\t\t\t\t\t\tparameters.bumpMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Maya|TEX_ao_map':\n\t\t\t\t\t\tparameters.aoMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DiffuseColor':\n\t\t\t\t\tcase 'Maya|TEX_color_map':\n\t\t\t\t\t\tparameters.map = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tparameters.map.encoding = sRGBEncoding;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DisplacementColor':\n\t\t\t\t\t\tparameters.displacementMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'EmissiveColor':\n\t\t\t\t\t\tparameters.emissiveMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tparameters.emissiveMap.encoding = sRGBEncoding;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'NormalMap':\n\t\t\t\t\tcase 'Maya|TEX_normal_map':\n\t\t\t\t\t\tparameters.normalMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ReflectionColor':\n\t\t\t\t\t\tparameters.envMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tparameters.envMap.mapping = EquirectangularReflectionMapping;\n\t\t\t\t\t\tparameters.envMap.encoding = sRGBEncoding;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SpecularColor':\n\t\t\t\t\t\tparameters.specularMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tparameters.specularMap.encoding = sRGBEncoding;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TransparentColor':\n\t\t\t\t\tcase 'TransparencyFactor':\n\t\t\t\t\t\tparameters.alphaMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\t\tparameters.transparent = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'AmbientColor':\n\t\t\t\t\tcase 'ShininessExponent': // AKA glossiness map\n\t\t\t\t\tcase 'SpecularFactor': // AKA specularLevel\n\t\t\t\t\tcase 'VectorDisplacementColor': // NOTE: Seems to be a copy of DisplacementColor\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: %s map is not supported in three.js, skipping texture.', type );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn parameters;\n\n\t\t},\n\n\t\t// get a texture from the textureMap for use by a material.\n\t\tgetTexture: function ( textureMap, id ) {\n\n\t\t\t// if the texture is a layered texture, just use the first layer and issue a warning\n\t\t\tif ( 'LayeredTexture' in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture ) {\n\n\t\t\t\tconsole.warn( 'THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.' );\n\t\t\t\tid = connections.get( id ).children[ 0 ].ID;\n\n\t\t\t}\n\n\t\t\treturn textureMap.get( id );\n\n\t\t},\n\n\t\t// Parse nodes in FBXTree.Objects.Deformer\n\t\t// Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here\n\t\t// Generates map of Skeleton-like objects for use later when generating and binding skeletons.\n\t\tparseDeformers: function () {\n\n\t\t\tvar skeletons = {};\n\t\t\tvar morphTargets = {};\n\n\t\t\tif ( 'Deformer' in fbxTree.Objects ) {\n\n\t\t\t\tvar DeformerNodes = fbxTree.Objects.Deformer;\n\n\t\t\t\tfor ( var nodeID in DeformerNodes ) {\n\n\t\t\t\t\tvar deformerNode = DeformerNodes[ nodeID ];\n\n\t\t\t\t\tvar relationships = connections.get( parseInt( nodeID ) );\n\n\t\t\t\t\tif ( deformerNode.attrType === 'Skin' ) {\n\n\t\t\t\t\t\tvar skeleton = this.parseSkeleton( relationships, DeformerNodes );\n\t\t\t\t\t\tskeleton.ID = nodeID;\n\n\t\t\t\t\t\tif ( relationships.parents.length > 1 ) console.warn( 'THREE.FBXLoader: skeleton attached to more than one geometry is not supported.' );\n\t\t\t\t\t\tskeleton.geometryID = relationships.parents[ 0 ].ID;\n\n\t\t\t\t\t\tskeletons[ nodeID ] = skeleton;\n\n\t\t\t\t\t} else if ( deformerNode.attrType === 'BlendShape' ) {\n\n\t\t\t\t\t\tvar morphTarget = {\n\t\t\t\t\t\t\tid: nodeID,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tmorphTarget.rawTargets = this.parseMorphTargets( relationships, DeformerNodes );\n\t\t\t\t\t\tmorphTarget.id = nodeID;\n\n\t\t\t\t\t\tif ( relationships.parents.length > 1 ) console.warn( 'THREE.FBXLoader: morph target attached to more than one geometry is not supported.' );\n\n\t\t\t\t\t\tmorphTargets[ nodeID ] = morphTarget;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {\n\n\t\t\t\tskeletons: skeletons,\n\t\t\t\tmorphTargets: morphTargets,\n\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse single nodes in FBXTree.Objects.Deformer\n\t\t// The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'\n\t\t// Each skin node represents a skeleton and each cluster node represents a bone\n\t\tparseSkeleton: function ( relationships, deformerNodes ) {\n\n\t\t\tvar rawBones = [];\n\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tvar boneNode = deformerNodes[ child.ID ];\n\n\t\t\t\tif ( boneNode.attrType !== 'Cluster' ) return;\n\n\t\t\t\tvar rawBone = {\n\n\t\t\t\t\tID: child.ID,\n\t\t\t\t\tindices: [],\n\t\t\t\t\tweights: [],\n\t\t\t\t\ttransformLink: new Matrix4().fromArray( boneNode.TransformLink.a ),\n\t\t\t\t\t// transform: new Matrix4().fromArray( boneNode.Transform.a ),\n\t\t\t\t\t// linkMode: boneNode.Mode,\n\n\t\t\t\t};\n\n\t\t\t\tif ( 'Indexes' in boneNode ) {\n\n\t\t\t\t\trawBone.indices = boneNode.Indexes.a;\n\t\t\t\t\trawBone.weights = boneNode.Weights.a;\n\n\t\t\t\t}\n\n\t\t\t\trawBones.push( rawBone );\n\n\t\t\t} );\n\n\t\t\treturn {\n\n\t\t\t\trawBones: rawBones,\n\t\t\t\tbones: []\n\n\t\t\t};\n\n\t\t},\n\n\t\t// The top level morph deformer node has type \"BlendShape\" and sub nodes have type \"BlendShapeChannel\"\n\t\tparseMorphTargets: function ( relationships, deformerNodes ) {\n\n\t\t\tvar rawMorphTargets = [];\n\n\t\t\tfor ( var i = 0; i < relationships.children.length; i ++ ) {\n\n\t\t\t\tvar child = relationships.children[ i ];\n\n\t\t\t\tvar morphTargetNode = deformerNodes[ child.ID ];\n\n\t\t\t\tvar rawMorphTarget = {\n\n\t\t\t\t\tname: morphTargetNode.attrName,\n\t\t\t\t\tinitialWeight: morphTargetNode.DeformPercent,\n\t\t\t\t\tid: morphTargetNode.id,\n\t\t\t\t\tfullWeights: morphTargetNode.FullWeights.a\n\n\t\t\t\t};\n\n\t\t\t\tif ( morphTargetNode.attrType !== 'BlendShapeChannel' ) return;\n\n\t\t\t\trawMorphTarget.geoID = connections.get( parseInt( child.ID ) ).children.filter( function ( child ) {\n\n\t\t\t\t\treturn child.relationship === undefined;\n\n\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\trawMorphTargets.push( rawMorphTarget );\n\n\t\t\t}\n\n\t\t\treturn rawMorphTargets;\n\n\t\t},\n\n\t\t// create the main Group() to be returned by the loader\n\t\tparseScene: function ( deformers, geometryMap, materialMap ) {\n\n\t\t\tsceneGraph = new Group();\n\n\t\t\tvar modelMap = this.parseModels( deformers.skeletons, geometryMap, materialMap );\n\n\t\t\tvar modelNodes = fbxTree.Objects.Model;\n\n\t\t\tvar scope = this;\n\t\t\tmodelMap.forEach( function ( model ) {\n\n\t\t\t\tvar modelNode = modelNodes[ model.ID ];\n\t\t\t\tscope.setLookAtProperties( model, modelNode );\n\n\t\t\t\tvar parentConnections = connections.get( model.ID ).parents;\n\n\t\t\t\tparentConnections.forEach( function ( connection ) {\n\n\t\t\t\t\tvar parent = modelMap.get( connection.ID );\n\t\t\t\t\tif ( parent !== undefined ) parent.add( model );\n\n\t\t\t\t} );\n\n\t\t\t\tif ( model.parent === null ) {\n\n\t\t\t\t\tsceneGraph.add( model );\n\n\t\t\t\t}\n\n\n\t\t\t} );\n\n\t\t\tthis.bindSkeleton( deformers.skeletons, geometryMap, modelMap );\n\n\t\t\tthis.createAmbientLight();\n\n\t\t\tthis.setupMorphMaterials();\n\n\t\t\tsceneGraph.traverse( function ( node ) {\n\n\t\t\t\tif ( node.userData.transformData ) {\n\n\t\t\t\t\tif ( node.parent ) node.userData.transformData.parentMatrixWorld = node.parent.matrix;\n\n\t\t\t\t\tvar transform = generateTransform( node.userData.transformData );\n\n\t\t\t\t\tnode.applyMatrix4( transform );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tvar animations = new AnimationParser().parse();\n\n\t\t\t// if all the models where already combined in a single group, just return that\n\t\t\tif ( sceneGraph.children.length === 1 && sceneGraph.children[ 0 ].isGroup ) {\n\n\t\t\t\tsceneGraph.children[ 0 ].animations = animations;\n\t\t\t\tsceneGraph = sceneGraph.children[ 0 ];\n\n\t\t\t}\n\n\t\t\tsceneGraph.animations = animations;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.Model\n\t\tparseModels: function ( skeletons, geometryMap, materialMap ) {\n\n\t\t\tvar modelMap = new Map();\n\t\t\tvar modelNodes = fbxTree.Objects.Model;\n\n\t\t\tfor ( var nodeID in modelNodes ) {\n\n\t\t\t\tvar id = parseInt( nodeID );\n\t\t\t\tvar node = modelNodes[ nodeID ];\n\t\t\t\tvar relationships = connections.get( id );\n\n\t\t\t\tvar model = this.buildSkeleton( relationships, skeletons, id, node.attrName );\n\n\t\t\t\tif ( ! model ) {\n\n\t\t\t\t\tswitch ( node.attrType ) {\n\n\t\t\t\t\t\tcase 'Camera':\n\t\t\t\t\t\t\tmodel = this.createCamera( relationships );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Light':\n\t\t\t\t\t\t\tmodel = this.createLight( relationships );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Mesh':\n\t\t\t\t\t\t\tmodel = this.createMesh( relationships, geometryMap, materialMap );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'NurbsCurve':\n\t\t\t\t\t\t\tmodel = this.createCurve( relationships, geometryMap );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'LimbNode':\n\t\t\t\t\t\tcase 'Root':\n\t\t\t\t\t\t\tmodel = new Bone();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Null':\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmodel = new Group();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmodel.name = node.attrName ? PropertyBinding.sanitizeNodeName( node.attrName ) : '';\n\n\t\t\t\t\tmodel.ID = id;\n\n\t\t\t\t}\n\n\t\t\t\tthis.getTransformData( model, node );\n\t\t\t\tmodelMap.set( id, model );\n\n\t\t\t}\n\n\t\t\treturn modelMap;\n\n\t\t},\n\n\t\tbuildSkeleton: function ( relationships, skeletons, id, name ) {\n\n\t\t\tvar bone = null;\n\n\t\t\trelationships.parents.forEach( function ( parent ) {\n\n\t\t\t\tfor ( var ID in skeletons ) {\n\n\t\t\t\t\tvar skeleton = skeletons[ ID ];\n\n\t\t\t\t\tskeleton.rawBones.forEach( function ( rawBone, i ) {\n\n\t\t\t\t\t\tif ( rawBone.ID === parent.ID ) {\n\n\t\t\t\t\t\t\tvar subBone = bone;\n\t\t\t\t\t\t\tbone = new Bone();\n\n\t\t\t\t\t\t\tbone.matrixWorld.copy( rawBone.transformLink );\n\n\t\t\t\t\t\t\t// set name and id here - otherwise in cases where \"subBone\" is created it will not have a name / id\n\n\t\t\t\t\t\t\tbone.name = name ? PropertyBinding.sanitizeNodeName( name ) : '';\n\t\t\t\t\t\t\tbone.ID = id;\n\n\t\t\t\t\t\t\tskeleton.bones[ i ] = bone;\n\n\t\t\t\t\t\t\t// In cases where a bone is shared between multiple meshes\n\t\t\t\t\t\t\t// duplicate the bone here and and it as a child of the first bone\n\t\t\t\t\t\t\tif ( subBone !== null ) {\n\n\t\t\t\t\t\t\t\tbone.add( subBone );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn bone;\n\n\t\t},\n\n\t\t// create a PerspectiveCamera or OrthographicCamera\n\t\tcreateCamera: function ( relationships ) {\n\n\t\t\tvar model;\n\t\t\tvar cameraAttribute;\n\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tvar attr = fbxTree.Objects.NodeAttribute[ child.ID ];\n\n\t\t\t\tif ( attr !== undefined ) {\n\n\t\t\t\t\tcameraAttribute = attr;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( cameraAttribute === undefined ) {\n\n\t\t\t\tmodel = new Object3D();\n\n\t\t\t} else {\n\n\t\t\t\tvar type = 0;\n\t\t\t\tif ( cameraAttribute.CameraProjectionType !== undefined && cameraAttribute.CameraProjectionType.value === 1 ) {\n\n\t\t\t\t\ttype = 1;\n\n\t\t\t\t}\n\n\t\t\t\tvar nearClippingPlane = 1;\n\t\t\t\tif ( cameraAttribute.NearPlane !== undefined ) {\n\n\t\t\t\t\tnearClippingPlane = cameraAttribute.NearPlane.value / 1000;\n\n\t\t\t\t}\n\n\t\t\t\tvar farClippingPlane = 1000;\n\t\t\t\tif ( cameraAttribute.FarPlane !== undefined ) {\n\n\t\t\t\t\tfarClippingPlane = cameraAttribute.FarPlane.value / 1000;\n\n\t\t\t\t}\n\n\n\t\t\t\tvar width = window.innerWidth;\n\t\t\t\tvar height = window.innerHeight;\n\n\t\t\t\tif ( cameraAttribute.AspectWidth !== undefined && cameraAttribute.AspectHeight !== undefined ) {\n\n\t\t\t\t\twidth = cameraAttribute.AspectWidth.value;\n\t\t\t\t\theight = cameraAttribute.AspectHeight.value;\n\n\t\t\t\t}\n\n\t\t\t\tvar aspect = width / height;\n\n\t\t\t\tvar fov = 45;\n\t\t\t\tif ( cameraAttribute.FieldOfView !== undefined ) {\n\n\t\t\t\t\tfov = cameraAttribute.FieldOfView.value;\n\n\t\t\t\t}\n\n\t\t\t\tvar focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 0: // Perspective\n\t\t\t\t\t\tmodel = new PerspectiveCamera( fov, aspect, nearClippingPlane, farClippingPlane );\n\t\t\t\t\t\tif ( focalLength !== null ) model.setFocalLength( focalLength );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 1: // Orthographic\n\t\t\t\t\t\tmodel = new OrthographicCamera( - width / 2, width / 2, height / 2, - height / 2, nearClippingPlane, farClippingPlane );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Unknown camera type ' + type + '.' );\n\t\t\t\t\t\tmodel = new Object3D();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn model;\n\n\t\t},\n\n\t\t// Create a DirectionalLight, PointLight or SpotLight\n\t\tcreateLight: function ( relationships ) {\n\n\t\t\tvar model;\n\t\t\tvar lightAttribute;\n\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tvar attr = fbxTree.Objects.NodeAttribute[ child.ID ];\n\n\t\t\t\tif ( attr !== undefined ) {\n\n\t\t\t\t\tlightAttribute = attr;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( lightAttribute === undefined ) {\n\n\t\t\t\tmodel = new Object3D();\n\n\t\t\t} else {\n\n\t\t\t\tvar type;\n\n\t\t\t\t// LightType can be undefined for Point lights\n\t\t\t\tif ( lightAttribute.LightType === undefined ) {\n\n\t\t\t\t\ttype = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttype = lightAttribute.LightType.value;\n\n\t\t\t\t}\n\n\t\t\t\tvar color = 0xffffff;\n\n\t\t\t\tif ( lightAttribute.Color !== undefined ) {\n\n\t\t\t\t\tcolor = new Color().fromArray( lightAttribute.Color.value );\n\n\t\t\t\t}\n\n\t\t\t\tvar intensity = ( lightAttribute.Intensity === undefined ) ? 1 : lightAttribute.Intensity.value / 100;\n\n\t\t\t\t// light disabled\n\t\t\t\tif ( lightAttribute.CastLightOnObject !== undefined && lightAttribute.CastLightOnObject.value === 0 ) {\n\n\t\t\t\t\tintensity = 0;\n\n\t\t\t\t}\n\n\t\t\t\tvar distance = 0;\n\t\t\t\tif ( lightAttribute.FarAttenuationEnd !== undefined ) {\n\n\t\t\t\t\tif ( lightAttribute.EnableFarAttenuation !== undefined && lightAttribute.EnableFarAttenuation.value === 0 ) {\n\n\t\t\t\t\t\tdistance = 0;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdistance = lightAttribute.FarAttenuationEnd.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// TODO: could this be calculated linearly from FarAttenuationStart to FarAttenuationEnd?\n\t\t\t\tvar decay = 1;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 0: // Point\n\t\t\t\t\t\tmodel = new PointLight( color, intensity, distance, decay );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 1: // Directional\n\t\t\t\t\t\tmodel = new DirectionalLight( color, intensity );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 2: // Spot\n\t\t\t\t\t\tvar angle = Math.PI / 3;\n\n\t\t\t\t\t\tif ( lightAttribute.InnerAngle !== undefined ) {\n\n\t\t\t\t\t\t\tangle = MathUtils.degToRad( lightAttribute.InnerAngle.value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar penumbra = 0;\n\t\t\t\t\t\tif ( lightAttribute.OuterAngle !== undefined ) {\n\n\t\t\t\t\t\t\t// TODO: this is not correct - FBX calculates outer and inner angle in degrees\n\t\t\t\t\t\t\t// with OuterAngle > InnerAngle && OuterAngle <= Math.PI\n\t\t\t\t\t\t\t// while three.js uses a penumbra between (0, 1) to attenuate the inner angle\n\t\t\t\t\t\t\tpenumbra = MathUtils.degToRad( lightAttribute.OuterAngle.value );\n\t\t\t\t\t\t\tpenumbra = Math.max( penumbra, 1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmodel = new SpotLight( color, intensity, distance, angle, penumbra, decay );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Unknown light type ' + lightAttribute.LightType.value + ', defaulting to a PointLight.' );\n\t\t\t\t\t\tmodel = new PointLight( color, intensity );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tif ( lightAttribute.CastShadows !== undefined && lightAttribute.CastShadows.value === 1 ) {\n\n\t\t\t\t\tmodel.castShadow = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn model;\n\n\t\t},\n\n\t\tcreateMesh: function ( relationships, geometryMap, materialMap ) {\n\n\t\t\tvar model;\n\t\t\tvar geometry = null;\n\t\t\tvar material = null;\n\t\t\tvar materials = [];\n\n\t\t\t// get geometry and materials(s) from connections\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tif ( geometryMap.has( child.ID ) ) {\n\n\t\t\t\t\tgeometry = geometryMap.get( child.ID );\n\n\t\t\t\t}\n\n\t\t\t\tif ( materialMap.has( child.ID ) ) {\n\n\t\t\t\t\tmaterials.push( materialMap.get( child.ID ) );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( materials.length > 1 ) {\n\n\t\t\t\tmaterial = materials;\n\n\t\t\t} else if ( materials.length > 0 ) {\n\n\t\t\t\tmaterial = materials[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new MeshPhongMaterial( { color: 0xcccccc } );\n\t\t\t\tmaterials.push( material );\n\n\t\t\t}\n\n\t\t\tif ( 'color' in geometry.attributes ) {\n\n\t\t\t\tmaterials.forEach( function ( material ) {\n\n\t\t\t\t\tmaterial.vertexColors = true;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tif ( geometry.FBX_Deformer ) {\n\n\t\t\t\tmaterials.forEach( function ( material ) {\n\n\t\t\t\t\tmaterial.skinning = true;\n\n\t\t\t\t} );\n\n\t\t\t\tmodel = new SkinnedMesh( geometry, material );\n\t\t\t\tmodel.normalizeSkinWeights();\n\n\t\t\t} else {\n\n\t\t\t\tmodel = new Mesh( geometry, material );\n\n\t\t\t}\n\n\t\t\treturn model;\n\n\t\t},\n\n\t\tcreateCurve: function ( relationships, geometryMap ) {\n\n\t\t\tvar geometry = relationships.children.reduce( function ( geo, child ) {\n\n\t\t\t\tif ( geometryMap.has( child.ID ) ) geo = geometryMap.get( child.ID );\n\n\t\t\t\treturn geo;\n\n\t\t\t}, null );\n\n\t\t\t// FBX does not list materials for Nurbs lines, so we'll just put our own in here.\n\t\t\tvar material = new LineBasicMaterial( { color: 0x3300ff, linewidth: 1 } );\n\t\t\treturn new Line( geometry, material );\n\n\t\t},\n\n\t\t// parse the model node for transform data\n\t\tgetTransformData: function ( model, modelNode ) {\n\n\t\t\tvar transformData = {};\n\n\t\t\tif ( 'InheritType' in modelNode ) transformData.inheritType = parseInt( modelNode.InheritType.value );\n\n\t\t\tif ( 'RotationOrder' in modelNode ) transformData.eulerOrder = getEulerOrder( modelNode.RotationOrder.value );\n\t\t\telse transformData.eulerOrder = 'ZYX';\n\n\t\t\tif ( 'Lcl_Translation' in modelNode ) transformData.translation = modelNode.Lcl_Translation.value;\n\n\t\t\tif ( 'PreRotation' in modelNode ) transformData.preRotation = modelNode.PreRotation.value;\n\t\t\tif ( 'Lcl_Rotation' in modelNode ) transformData.rotation = modelNode.Lcl_Rotation.value;\n\t\t\tif ( 'PostRotation' in modelNode ) transformData.postRotation = modelNode.PostRotation.value;\n\n\t\t\tif ( 'Lcl_Scaling' in modelNode ) transformData.scale = modelNode.Lcl_Scaling.value;\n\n\t\t\tif ( 'ScalingOffset' in modelNode ) transformData.scalingOffset = modelNode.ScalingOffset.value;\n\t\t\tif ( 'ScalingPivot' in modelNode ) transformData.scalingPivot = modelNode.ScalingPivot.value;\n\n\t\t\tif ( 'RotationOffset' in modelNode ) transformData.rotationOffset = modelNode.RotationOffset.value;\n\t\t\tif ( 'RotationPivot' in modelNode ) transformData.rotationPivot = modelNode.RotationPivot.value;\n\n\t\t\tmodel.userData.transformData = transformData;\n\n\t\t},\n\n\t\tsetLookAtProperties: function ( model, modelNode ) {\n\n\t\t\tif ( 'LookAtProperty' in modelNode ) {\n\n\t\t\t\tvar children = connections.get( model.ID ).children;\n\n\t\t\t\tchildren.forEach( function ( child ) {\n\n\t\t\t\t\tif ( child.relationship === 'LookAtProperty' ) {\n\n\t\t\t\t\t\tvar lookAtTarget = fbxTree.Objects.Model[ child.ID ];\n\n\t\t\t\t\t\tif ( 'Lcl_Translation' in lookAtTarget ) {\n\n\t\t\t\t\t\t\tvar pos = lookAtTarget.Lcl_Translation.value;\n\n\t\t\t\t\t\t\t// DirectionalLight, SpotLight\n\t\t\t\t\t\t\tif ( model.target !== undefined ) {\n\n\t\t\t\t\t\t\t\tmodel.target.position.fromArray( pos );\n\t\t\t\t\t\t\t\tsceneGraph.add( model.target );\n\n\t\t\t\t\t\t\t} else { // Cameras and other Object3Ds\n\n\t\t\t\t\t\t\t\tmodel.lookAt( new Vector3().fromArray( pos ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t},\n\n\t\tbindSkeleton: function ( skeletons, geometryMap, modelMap ) {\n\n\t\t\tvar bindMatrices = this.parsePoseNodes();\n\n\t\t\tfor ( var ID in skeletons ) {\n\n\t\t\t\tvar skeleton = skeletons[ ID ];\n\n\t\t\t\tvar parents = connections.get( parseInt( skeleton.ID ) ).parents;\n\n\t\t\t\tparents.forEach( function ( parent ) {\n\n\t\t\t\t\tif ( geometryMap.has( parent.ID ) ) {\n\n\t\t\t\t\t\tvar geoID = parent.ID;\n\t\t\t\t\t\tvar geoRelationships = connections.get( geoID );\n\n\t\t\t\t\t\tgeoRelationships.parents.forEach( function ( geoConnParent ) {\n\n\t\t\t\t\t\t\tif ( modelMap.has( geoConnParent.ID ) ) {\n\n\t\t\t\t\t\t\t\tvar model = modelMap.get( geoConnParent.ID );\n\n\t\t\t\t\t\t\t\tmodel.bind( new Skeleton( skeleton.bones ), bindMatrices[ geoConnParent.ID ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparsePoseNodes: function () {\n\n\t\t\tvar bindMatrices = {};\n\n\t\t\tif ( 'Pose' in fbxTree.Objects ) {\n\n\t\t\t\tvar BindPoseNode = fbxTree.Objects.Pose;\n\n\t\t\t\tfor ( var nodeID in BindPoseNode ) {\n\n\t\t\t\t\tif ( BindPoseNode[ nodeID ].attrType === 'BindPose' ) {\n\n\t\t\t\t\t\tvar poseNodes = BindPoseNode[ nodeID ].PoseNode;\n\n\t\t\t\t\t\tif ( Array.isArray( poseNodes ) ) {\n\n\t\t\t\t\t\t\tposeNodes.forEach( function ( poseNode ) {\n\n\t\t\t\t\t\t\t\tbindMatrices[ poseNode.Node ] = new Matrix4().fromArray( poseNode.Matrix.a );\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tbindMatrices[ poseNodes.Node ] = new Matrix4().fromArray( poseNodes.Matrix.a );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bindMatrices;\n\n\t\t},\n\n\t\t// Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light\n\t\tcreateAmbientLight: function () {\n\n\t\t\tif ( 'GlobalSettings' in fbxTree && 'AmbientColor' in fbxTree.GlobalSettings ) {\n\n\t\t\t\tvar ambientColor = fbxTree.GlobalSettings.AmbientColor.value;\n\t\t\t\tvar r = ambientColor[ 0 ];\n\t\t\t\tvar g = ambientColor[ 1 ];\n\t\t\t\tvar b = ambientColor[ 2 ];\n\n\t\t\t\tif ( r !== 0 || g !== 0 || b !== 0 ) {\n\n\t\t\t\t\tvar color = new Color( r, g, b );\n\t\t\t\t\tsceneGraph.add( new AmbientLight( color, 1 ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tsetupMorphMaterials: function () {\n\n\t\t\tvar scope = this;\n\t\t\tsceneGraph.traverse( function ( child ) {\n\n\t\t\t\tif ( child.isMesh ) {\n\n\t\t\t\t\tif ( child.geometry.morphAttributes.position && child.geometry.morphAttributes.position.length ) {\n\n\t\t\t\t\t\tif ( Array.isArray( child.material ) ) {\n\n\t\t\t\t\t\t\tchild.material.forEach( function ( material, i ) {\n\n\t\t\t\t\t\t\t\tscope.setupMorphMaterial( child, material, i );\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tscope.setupMorphMaterial( child, child.material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t},\n\n\t\tsetupMorphMaterial: function ( child, material, index ) {\n\n\t\t\tvar uuid = child.uuid;\n\t\t\tvar matUuid = material.uuid;\n\n\t\t\t// if a geometry has morph targets, it cannot share the material with other geometries\n\t\t\tvar sharedMat = false;\n\n\t\t\tsceneGraph.traverse( function ( node ) {\n\n\t\t\t\tif ( node.isMesh ) {\n\n\t\t\t\t\tif ( Array.isArray( node.material ) ) {\n\n\t\t\t\t\t\tnode.material.forEach( function ( mat ) {\n\n\t\t\t\t\t\t\tif ( mat.uuid === matUuid && node.uuid !== uuid ) sharedMat = true;\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} else if ( node.material.uuid === matUuid && node.uuid !== uuid ) sharedMat = true;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( sharedMat === true ) {\n\n\t\t\t\tvar clonedMat = material.clone();\n\t\t\t\tclonedMat.morphTargets = true;\n\n\t\t\t\tif ( index === undefined ) child.material = clonedMat;\n\t\t\t\telse child.material[ index ] = clonedMat;\n\n\t\t\t} else material.morphTargets = true;\n\n\t\t}\n\n\t};\n\n\t// parse Geometry data from FBXTree and return map of BufferGeometries\n\tfunction GeometryParser() {}\n\n\tGeometryParser.prototype = {\n\n\t\tconstructor: GeometryParser,\n\n\t\t// Parse nodes in FBXTree.Objects.Geometry\n\t\tparse: function ( deformers ) {\n\n\t\t\tvar geometryMap = new Map();\n\n\t\t\tif ( 'Geometry' in fbxTree.Objects ) {\n\n\t\t\t\tvar geoNodes = fbxTree.Objects.Geometry;\n\n\t\t\t\tfor ( var nodeID in geoNodes ) {\n\n\t\t\t\t\tvar relationships = connections.get( parseInt( nodeID ) );\n\t\t\t\t\tvar geo = this.parseGeometry( relationships, geoNodes[ nodeID ], deformers );\n\n\t\t\t\t\tgeometryMap.set( parseInt( nodeID ), geo );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn geometryMap;\n\n\t\t},\n\n\t\t// Parse single node in FBXTree.Objects.Geometry\n\t\tparseGeometry: function ( relationships, geoNode, deformers ) {\n\n\t\t\tswitch ( geoNode.attrType ) {\n\n\t\t\t\tcase 'Mesh':\n\t\t\t\t\treturn this.parseMeshGeometry( relationships, geoNode, deformers );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'NurbsCurve':\n\t\t\t\t\treturn this.parseNurbsGeometry( geoNode );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t},\n\n\n\t\t// Parse single node mesh geometry in FBXTree.Objects.Geometry\n\t\tparseMeshGeometry: function ( relationships, geoNode, deformers ) {\n\n\t\t\tvar skeletons = deformers.skeletons;\n\t\t\tvar morphTargets = [];\n\n\t\t\tvar modelNodes = relationships.parents.map( function ( parent ) {\n\n\t\t\t\treturn fbxTree.Objects.Model[ parent.ID ];\n\n\t\t\t} );\n\n\t\t\t// don't create geometry if it is not associated with any models\n\t\t\tif ( modelNodes.length === 0 ) return;\n\n\t\t\tvar skeleton = relationships.children.reduce( function ( skeleton, child ) {\n\n\t\t\t\tif ( skeletons[ child.ID ] !== undefined ) skeleton = skeletons[ child.ID ];\n\n\t\t\t\treturn skeleton;\n\n\t\t\t}, null );\n\n\t\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\t\tif ( deformers.morphTargets[ child.ID ] !== undefined ) {\n\n\t\t\t\t\tmorphTargets.push( deformers.morphTargets[ child.ID ] );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t// Assume one model and get the preRotation from that\n\t\t\t// if there is more than one model associated with the geometry this may cause problems\n\t\t\tvar modelNode = modelNodes[ 0 ];\n\n\t\t\tvar transformData = {};\n\n\t\t\tif ( 'RotationOrder' in modelNode ) transformData.eulerOrder = getEulerOrder( modelNode.RotationOrder.value );\n\t\t\tif ( 'InheritType' in modelNode ) transformData.inheritType = parseInt( modelNode.InheritType.value );\n\n\t\t\tif ( 'GeometricTranslation' in modelNode ) transformData.translation = modelNode.GeometricTranslation.value;\n\t\t\tif ( 'GeometricRotation' in modelNode ) transformData.rotation = modelNode.GeometricRotation.value;\n\t\t\tif ( 'GeometricScaling' in modelNode ) transformData.scale = modelNode.GeometricScaling.value;\n\n\t\t\tvar transform = generateTransform( transformData );\n\n\t\t\treturn this.genGeometry( geoNode, skeleton, morphTargets, transform );\n\n\t\t},\n\n\t\t// Generate a BufferGeometry from a node in FBXTree.Objects.Geometry\n\t\tgenGeometry: function ( geoNode, skeleton, morphTargets, preTransform ) {\n\n\t\t\tvar geo = new BufferGeometry();\n\t\t\tif ( geoNode.attrName ) geo.name = geoNode.attrName;\n\n\t\t\tvar geoInfo = this.parseGeoNode( geoNode, skeleton );\n\t\t\tvar buffers = this.genBuffers( geoInfo );\n\n\t\t\tvar positionAttribute = new Float32BufferAttribute( buffers.vertex, 3 );\n\n\t\t\tpositionAttribute.applyMatrix4( preTransform );\n\n\t\t\tgeo.setAttribute( 'position', positionAttribute );\n\n\t\t\tif ( buffers.colors.length > 0 ) {\n\n\t\t\t\tgeo.setAttribute( 'color', new Float32BufferAttribute( buffers.colors, 3 ) );\n\n\t\t\t}\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tgeo.setAttribute( 'skinIndex', new Uint16BufferAttribute( buffers.weightsIndices, 4 ) );\n\n\t\t\t\tgeo.setAttribute( 'skinWeight', new Float32BufferAttribute( buffers.vertexWeights, 4 ) );\n\n\t\t\t\t// used later to bind the skeleton to the model\n\t\t\t\tgeo.FBX_Deformer = skeleton;\n\n\t\t\t}\n\n\t\t\tif ( buffers.normal.length > 0 ) {\n\n\t\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( preTransform );\n\n\t\t\t\tvar normalAttribute = new Float32BufferAttribute( buffers.normal, 3 );\n\t\t\t\tnormalAttribute.applyNormalMatrix( normalMatrix );\n\n\t\t\t\tgeo.setAttribute( 'normal', normalAttribute );\n\n\t\t\t}\n\n\t\t\tbuffers.uvs.forEach( function ( uvBuffer, i ) {\n\n\t\t\t\t// subsequent uv buffers are called 'uv1', 'uv2', ...\n\t\t\t\tvar name = 'uv' + ( i + 1 ).toString();\n\n\t\t\t\t// the first uv buffer is just called 'uv'\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tname = 'uv';\n\n\t\t\t\t}\n\n\t\t\t\tgeo.setAttribute( name, new Float32BufferAttribute( buffers.uvs[ i ], 2 ) );\n\n\t\t\t} );\n\n\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\t// Convert the material indices of each vertex into rendering groups on the geometry.\n\t\t\t\tvar prevMaterialIndex = buffers.materialIndex[ 0 ];\n\t\t\t\tvar startIndex = 0;\n\n\t\t\t\tbuffers.materialIndex.forEach( function ( currentIndex, i ) {\n\n\t\t\t\t\tif ( currentIndex !== prevMaterialIndex ) {\n\n\t\t\t\t\t\tgeo.addGroup( startIndex, i - startIndex, prevMaterialIndex );\n\n\t\t\t\t\t\tprevMaterialIndex = currentIndex;\n\t\t\t\t\t\tstartIndex = i;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t// the loop above doesn't add the last group, do that here.\n\t\t\t\tif ( geo.groups.length > 0 ) {\n\n\t\t\t\t\tvar lastGroup = geo.groups[ geo.groups.length - 1 ];\n\t\t\t\t\tvar lastIndex = lastGroup.start + lastGroup.count;\n\n\t\t\t\t\tif ( lastIndex !== buffers.materialIndex.length ) {\n\n\t\t\t\t\t\tgeo.addGroup( lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// case where there are multiple materials but the whole geometry is only\n\t\t\t\t// using one of them\n\t\t\t\tif ( geo.groups.length === 0 ) {\n\n\t\t\t\t\tgeo.addGroup( 0, buffers.materialIndex.length, buffers.materialIndex[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.addMorphTargets( geo, geoNode, morphTargets, preTransform );\n\n\t\t\treturn geo;\n\n\t\t},\n\n\t\tparseGeoNode: function ( geoNode, skeleton ) {\n\n\t\t\tvar geoInfo = {};\n\n\t\t\tgeoInfo.vertexPositions = ( geoNode.Vertices !== undefined ) ? geoNode.Vertices.a : [];\n\t\t\tgeoInfo.vertexIndices = ( geoNode.PolygonVertexIndex !== undefined ) ? geoNode.PolygonVertexIndex.a : [];\n\n\t\t\tif ( geoNode.LayerElementColor ) {\n\n\t\t\t\tgeoInfo.color = this.parseVertexColors( geoNode.LayerElementColor[ 0 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoNode.LayerElementMaterial ) {\n\n\t\t\t\tgeoInfo.material = this.parseMaterialIndices( geoNode.LayerElementMaterial[ 0 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoNode.LayerElementNormal ) {\n\n\t\t\t\tgeoInfo.normal = this.parseNormals( geoNode.LayerElementNormal[ 0 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoNode.LayerElementUV ) {\n\n\t\t\t\tgeoInfo.uv = [];\n\n\t\t\t\tvar i = 0;\n\t\t\t\twhile ( geoNode.LayerElementUV[ i ] ) {\n\n\t\t\t\t\tgeoInfo.uv.push( this.parseUVs( geoNode.LayerElementUV[ i ] ) );\n\t\t\t\t\ti ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeoInfo.weightTable = {};\n\n\t\t\tif ( skeleton !== null ) {\n\n\t\t\t\tgeoInfo.skeleton = skeleton;\n\n\t\t\t\tskeleton.rawBones.forEach( function ( rawBone, i ) {\n\n\t\t\t\t\t// loop over the bone's vertex indices and weights\n\t\t\t\t\trawBone.indices.forEach( function ( index, j ) {\n\n\t\t\t\t\t\tif ( geoInfo.weightTable[ index ] === undefined ) geoInfo.weightTable[ index ] = [];\n\n\t\t\t\t\t\tgeoInfo.weightTable[ index ].push( {\n\n\t\t\t\t\t\t\tid: i,\n\t\t\t\t\t\t\tweight: rawBone.weights[ j ],\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn geoInfo;\n\n\t\t},\n\n\t\tgenBuffers: function ( geoInfo ) {\n\n\t\t\tvar buffers = {\n\t\t\t\tvertex: [],\n\t\t\t\tnormal: [],\n\t\t\t\tcolors: [],\n\t\t\t\tuvs: [],\n\t\t\t\tmaterialIndex: [],\n\t\t\t\tvertexWeights: [],\n\t\t\t\tweightsIndices: [],\n\t\t\t};\n\n\t\t\tvar polygonIndex = 0;\n\t\t\tvar faceLength = 0;\n\t\t\tvar displayedWeightsWarning = false;\n\n\t\t\t// these will hold data for a single face\n\t\t\tvar facePositionIndexes = [];\n\t\t\tvar faceNormals = [];\n\t\t\tvar faceColors = [];\n\t\t\tvar faceUVs = [];\n\t\t\tvar faceWeights = [];\n\t\t\tvar faceWeightIndices = [];\n\n\t\t\tvar scope = this;\n\t\t\tgeoInfo.vertexIndices.forEach( function ( vertexIndex, polygonVertexIndex ) {\n\n\t\t\t\tvar endOfFace = false;\n\n\t\t\t\t// Face index and vertex index arrays are combined in a single array\n\t\t\t\t// A cube with quad faces looks like this:\n\t\t\t\t// PolygonVertexIndex: *24 {\n\t\t\t\t//  a: 0, 1, 3, -3, 2, 3, 5, -5, 4, 5, 7, -7, 6, 7, 1, -1, 1, 7, 5, -4, 6, 0, 2, -5\n\t\t\t\t//  }\n\t\t\t\t// Negative numbers mark the end of a face - first face here is 0, 1, 3, -3\n\t\t\t\t// to find index of last vertex bit shift the index: ^ - 1\n\t\t\t\tif ( vertexIndex < 0 ) {\n\n\t\t\t\t\tvertexIndex = vertexIndex ^ - 1; // equivalent to ( x * -1 ) - 1\n\t\t\t\t\tendOfFace = true;\n\n\t\t\t\t}\n\n\t\t\t\tvar weightIndices = [];\n\t\t\t\tvar weights = [];\n\n\t\t\t\tfacePositionIndexes.push( vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2 );\n\n\t\t\t\tif ( geoInfo.color ) {\n\n\t\t\t\t\tvar data = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color );\n\n\t\t\t\t\tfaceColors.push( data[ 0 ], data[ 1 ], data[ 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.skeleton ) {\n\n\t\t\t\t\tif ( geoInfo.weightTable[ vertexIndex ] !== undefined ) {\n\n\t\t\t\t\t\tgeoInfo.weightTable[ vertexIndex ].forEach( function ( wt ) {\n\n\t\t\t\t\t\t\tweights.push( wt.weight );\n\t\t\t\t\t\t\tweightIndices.push( wt.id );\n\n\t\t\t\t\t\t} );\n\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( weights.length > 4 ) {\n\n\t\t\t\t\t\tif ( ! displayedWeightsWarning ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.' );\n\t\t\t\t\t\t\tdisplayedWeightsWarning = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar wIndex = [ 0, 0, 0, 0 ];\n\t\t\t\t\t\tvar Weight = [ 0, 0, 0, 0 ];\n\n\t\t\t\t\t\tweights.forEach( function ( weight, weightIndex ) {\n\n\t\t\t\t\t\t\tvar currentWeight = weight;\n\t\t\t\t\t\t\tvar currentIndex = weightIndices[ weightIndex ];\n\n\t\t\t\t\t\t\tWeight.forEach( function ( comparedWeight, comparedWeightIndex, comparedWeightArray ) {\n\n\t\t\t\t\t\t\t\tif ( currentWeight > comparedWeight ) {\n\n\t\t\t\t\t\t\t\t\tcomparedWeightArray[ comparedWeightIndex ] = currentWeight;\n\t\t\t\t\t\t\t\t\tcurrentWeight = comparedWeight;\n\n\t\t\t\t\t\t\t\t\tvar tmp = wIndex[ comparedWeightIndex ];\n\t\t\t\t\t\t\t\t\twIndex[ comparedWeightIndex ] = currentIndex;\n\t\t\t\t\t\t\t\t\tcurrentIndex = tmp;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tweightIndices = wIndex;\n\t\t\t\t\t\tweights = Weight;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// if the weight array is shorter than 4 pad with 0s\n\t\t\t\t\twhile ( weights.length < 4 ) {\n\n\t\t\t\t\t\tweights.push( 0 );\n\t\t\t\t\t\tweightIndices.push( 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < 4; ++ i ) {\n\n\t\t\t\t\t\tfaceWeights.push( weights[ i ] );\n\t\t\t\t\t\tfaceWeightIndices.push( weightIndices[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.normal ) {\n\n\t\t\t\t\tvar data = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal );\n\n\t\t\t\t\tfaceNormals.push( data[ 0 ], data[ 1 ], data[ 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\t\tvar materialIndex = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material )[ 0 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.uv ) {\n\n\t\t\t\t\tgeoInfo.uv.forEach( function ( uv, i ) {\n\n\t\t\t\t\t\tvar data = getData( polygonVertexIndex, polygonIndex, vertexIndex, uv );\n\n\t\t\t\t\t\tif ( faceUVs[ i ] === undefined ) {\n\n\t\t\t\t\t\t\tfaceUVs[ i ] = [];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfaceUVs[ i ].push( data[ 0 ] );\n\t\t\t\t\t\tfaceUVs[ i ].push( data[ 1 ] );\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t\tfaceLength ++;\n\n\t\t\t\tif ( endOfFace ) {\n\n\t\t\t\t\tscope.genFace( buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength );\n\n\t\t\t\t\tpolygonIndex ++;\n\t\t\t\t\tfaceLength = 0;\n\n\t\t\t\t\t// reset arrays for the next face\n\t\t\t\t\tfacePositionIndexes = [];\n\t\t\t\t\tfaceNormals = [];\n\t\t\t\t\tfaceColors = [];\n\t\t\t\t\tfaceUVs = [];\n\t\t\t\t\tfaceWeights = [];\n\t\t\t\t\tfaceWeightIndices = [];\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn buffers;\n\n\t\t},\n\n\t\t// Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris\n\t\tgenFace: function ( buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength ) {\n\n\t\t\tfor ( var i = 2; i < faceLength; i ++ ) {\n\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 0 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 1 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 2 ] ] );\n\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 + 1 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 + 2 ] ] );\n\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 + 1 ] ] );\n\t\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 + 2 ] ] );\n\n\t\t\t\tif ( geoInfo.skeleton ) {\n\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 0 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 1 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 2 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 3 ] );\n\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 1 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 2 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 3 ] );\n\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 1 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 2 ] );\n\t\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 3 ] );\n\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 0 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 1 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 2 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 3 ] );\n\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 1 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 2 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 3 ] );\n\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 1 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 2 ] );\n\t\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 3 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.color ) {\n\n\t\t\t\t\tbuffers.colors.push( faceColors[ 0 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ 1 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ 2 ] );\n\n\t\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 + 1 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 + 2 ] );\n\n\t\t\t\t\tbuffers.colors.push( faceColors[ i * 3 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ i * 3 + 1 ] );\n\t\t\t\t\tbuffers.colors.push( faceColors[ i * 3 + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\t\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\t\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.normal ) {\n\n\t\t\t\t\tbuffers.normal.push( faceNormals[ 0 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ 1 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ 2 ] );\n\n\t\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 + 1 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 + 2 ] );\n\n\t\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 + 1 ] );\n\t\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geoInfo.uv ) {\n\n\t\t\t\t\tgeoInfo.uv.forEach( function ( uv, j ) {\n\n\t\t\t\t\t\tif ( buffers.uvs[ j ] === undefined ) buffers.uvs[ j ] = [];\n\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ 0 ] );\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ 1 ] );\n\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ ( i - 1 ) * 2 ] );\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ ( i - 1 ) * 2 + 1 ] );\n\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ i * 2 ] );\n\t\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ i * 2 + 1 ] );\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\taddMorphTargets: function ( parentGeo, parentGeoNode, morphTargets, preTransform ) {\n\n\t\t\tif ( morphTargets.length === 0 ) return;\n\n\t\t\tparentGeo.morphTargetsRelative = true;\n\n\t\t\tparentGeo.morphAttributes.position = [];\n\t\t\t// parentGeo.morphAttributes.normal = []; // not implemented\n\n\t\t\tvar scope = this;\n\t\t\tmorphTargets.forEach( function ( morphTarget ) {\n\n\t\t\t\tmorphTarget.rawTargets.forEach( function ( rawTarget ) {\n\n\t\t\t\t\tvar morphGeoNode = fbxTree.Objects.Geometry[ rawTarget.geoID ];\n\n\t\t\t\t\tif ( morphGeoNode !== undefined ) {\n\n\t\t\t\t\t\tscope.genMorphGeometry( parentGeo, parentGeoNode, morphGeoNode, preTransform, rawTarget.name );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t},\n\n\t\t// a morph geometry node is similar to a standard  node, and the node is also contained\n\t\t// in FBXTree.Objects.Geometry, however it can only have attributes for position, normal\n\t\t// and a special attribute Index defining which vertices of the original geometry are affected\n\t\t// Normal and position attributes only have data for the vertices that are affected by the morph\n\t\tgenMorphGeometry: function ( parentGeo, parentGeoNode, morphGeoNode, preTransform, name ) {\n\n\t\t\tvar vertexIndices = ( parentGeoNode.PolygonVertexIndex !== undefined ) ? parentGeoNode.PolygonVertexIndex.a : [];\n\n\t\t\tvar morphPositionsSparse = ( morphGeoNode.Vertices !== undefined ) ? morphGeoNode.Vertices.a : [];\n\t\t\tvar indices = ( morphGeoNode.Indexes !== undefined ) ? morphGeoNode.Indexes.a : [];\n\n\t\t\tvar length = parentGeo.attributes.position.count * 3;\n\t\t\tvar morphPositions = new Float32Array( length );\n\n\t\t\tfor ( var i = 0; i < indices.length; i ++ ) {\n\n\t\t\t\tvar morphIndex = indices[ i ] * 3;\n\n\t\t\t\tmorphPositions[ morphIndex ] = morphPositionsSparse[ i * 3 ];\n\t\t\t\tmorphPositions[ morphIndex + 1 ] = morphPositionsSparse[ i * 3 + 1 ];\n\t\t\t\tmorphPositions[ morphIndex + 2 ] = morphPositionsSparse[ i * 3 + 2 ];\n\n\t\t\t}\n\n\t\t\t// TODO: add morph normal support\n\t\t\tvar morphGeoInfo = {\n\t\t\t\tvertexIndices: vertexIndices,\n\t\t\t\tvertexPositions: morphPositions,\n\n\t\t\t};\n\n\t\t\tvar morphBuffers = this.genBuffers( morphGeoInfo );\n\n\t\t\tvar positionAttribute = new Float32BufferAttribute( morphBuffers.vertex, 3 );\n\t\t\tpositionAttribute.name = name || morphGeoNode.attrName;\n\n\t\t\tpositionAttribute.applyMatrix4( preTransform );\n\n\t\t\tparentGeo.morphAttributes.position.push( positionAttribute );\n\n\t\t},\n\n\t\t// Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists\n\t\tparseNormals: function ( NormalNode ) {\n\n\t\t\tvar mappingType = NormalNode.MappingInformationType;\n\t\t\tvar referenceType = NormalNode.ReferenceInformationType;\n\t\t\tvar buffer = NormalNode.Normals.a;\n\t\t\tvar indexBuffer = [];\n\t\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\t\tif ( 'NormalIndex' in NormalNode ) {\n\n\t\t\t\t\tindexBuffer = NormalNode.NormalIndex.a;\n\n\t\t\t\t} else if ( 'NormalsIndex' in NormalNode ) {\n\n\t\t\t\t\tindexBuffer = NormalNode.NormalsIndex.a;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 3,\n\t\t\t\tbuffer: buffer,\n\t\t\t\tindices: indexBuffer,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists\n\t\tparseUVs: function ( UVNode ) {\n\n\t\t\tvar mappingType = UVNode.MappingInformationType;\n\t\t\tvar referenceType = UVNode.ReferenceInformationType;\n\t\t\tvar buffer = UVNode.UV.a;\n\t\t\tvar indexBuffer = [];\n\t\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\t\tindexBuffer = UVNode.UVIndex.a;\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 2,\n\t\t\t\tbuffer: buffer,\n\t\t\t\tindices: indexBuffer,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists\n\t\tparseVertexColors: function ( ColorNode ) {\n\n\t\t\tvar mappingType = ColorNode.MappingInformationType;\n\t\t\tvar referenceType = ColorNode.ReferenceInformationType;\n\t\t\tvar buffer = ColorNode.Colors.a;\n\t\t\tvar indexBuffer = [];\n\t\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\t\tindexBuffer = ColorNode.ColorIndex.a;\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 4,\n\t\t\t\tbuffer: buffer,\n\t\t\t\tindices: indexBuffer,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists\n\t\tparseMaterialIndices: function ( MaterialNode ) {\n\n\t\t\tvar mappingType = MaterialNode.MappingInformationType;\n\t\t\tvar referenceType = MaterialNode.ReferenceInformationType;\n\n\t\t\tif ( mappingType === 'NoMappingInformation' ) {\n\n\t\t\t\treturn {\n\t\t\t\t\tdataSize: 1,\n\t\t\t\t\tbuffer: [ 0 ],\n\t\t\t\t\tindices: [ 0 ],\n\t\t\t\t\tmappingType: 'AllSame',\n\t\t\t\t\treferenceType: referenceType\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tvar materialIndexBuffer = MaterialNode.Materials.a;\n\n\t\t\t// Since materials are stored as indices, there's a bit of a mismatch between FBX and what\n\t\t\t// we expect.So we create an intermediate buffer that points to the index in the buffer,\n\t\t\t// for conforming with the other functions we've written for other data.\n\t\t\tvar materialIndices = [];\n\n\t\t\tfor ( var i = 0; i < materialIndexBuffer.length; ++ i ) {\n\n\t\t\t\tmaterialIndices.push( i );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdataSize: 1,\n\t\t\t\tbuffer: materialIndexBuffer,\n\t\t\t\tindices: materialIndices,\n\t\t\t\tmappingType: mappingType,\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t},\n\n\t\t// Generate a NurbGeometry from a node in FBXTree.Objects.Geometry\n\t\tparseNurbsGeometry: function ( geoNode ) {\n\n\t\t\tif ( NURBSCurve === undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.' );\n\t\t\t\treturn new BufferGeometry();\n\n\t\t\t}\n\n\t\t\tvar order = parseInt( geoNode.Order );\n\n\t\t\tif ( isNaN( order ) ) {\n\n\t\t\t\tconsole.error( 'THREE.FBXLoader: Invalid Order %s given for geometry ID: %s', geoNode.Order, geoNode.id );\n\t\t\t\treturn new BufferGeometry();\n\n\t\t\t}\n\n\t\t\tvar degree = order - 1;\n\n\t\t\tvar knots = geoNode.KnotVector.a;\n\t\t\tvar controlPoints = [];\n\t\t\tvar pointsValues = geoNode.Points.a;\n\n\t\t\tfor ( var i = 0, l = pointsValues.length; i < l; i += 4 ) {\n\n\t\t\t\tcontrolPoints.push( new Vector4().fromArray( pointsValues, i ) );\n\n\t\t\t}\n\n\t\t\tvar startKnot, endKnot;\n\n\t\t\tif ( geoNode.Form === 'Closed' ) {\n\n\t\t\t\tcontrolPoints.push( controlPoints[ 0 ] );\n\n\t\t\t} else if ( geoNode.Form === 'Periodic' ) {\n\n\t\t\t\tstartKnot = degree;\n\t\t\t\tendKnot = knots.length - 1 - startKnot;\n\n\t\t\t\tfor ( var i = 0; i < degree; ++ i ) {\n\n\t\t\t\t\tcontrolPoints.push( controlPoints[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar curve = new NURBSCurve( degree, knots, controlPoints, startKnot, endKnot );\n\t\t\tvar vertices = curve.getPoints( controlPoints.length * 7 );\n\n\t\t\tvar positions = new Float32Array( vertices.length * 3 );\n\n\t\t\tvertices.forEach( function ( vertex, i ) {\n\n\t\t\t\tvertex.toArray( positions, i * 3 );\n\n\t\t\t} );\n\n\t\t\tvar geometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t},\n\n\t};\n\n\t// parse animation data from FBXTree\n\tfunction AnimationParser() {}\n\n\tAnimationParser.prototype = {\n\n\t\tconstructor: AnimationParser,\n\n\t\t// take raw animation clips and turn them into three.js animation clips\n\t\tparse: function () {\n\n\t\t\tvar animationClips = [];\n\n\t\t\tvar rawClips = this.parseClips();\n\n\t\t\tif ( rawClips !== undefined ) {\n\n\t\t\t\tfor ( var key in rawClips ) {\n\n\t\t\t\t\tvar rawClip = rawClips[ key ];\n\n\t\t\t\t\tvar clip = this.addClip( rawClip );\n\n\t\t\t\t\tanimationClips.push( clip );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn animationClips;\n\n\t\t},\n\n\t\tparseClips: function () {\n\n\t\t\t// since the actual transformation data is stored in FBXTree.Objects.AnimationCurve,\n\t\t\t// if this is undefined we can safely assume there are no animations\n\t\t\tif ( fbxTree.Objects.AnimationCurve === undefined ) return undefined;\n\n\t\t\tvar curveNodesMap = this.parseAnimationCurveNodes();\n\n\t\t\tthis.parseAnimationCurves( curveNodesMap );\n\n\t\t\tvar layersMap = this.parseAnimationLayers( curveNodesMap );\n\t\t\tvar rawClips = this.parseAnimStacks( layersMap );\n\n\t\t\treturn rawClips;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationCurveNode\n\t\t// each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )\n\t\t// and is referenced by an AnimationLayer\n\t\tparseAnimationCurveNodes: function () {\n\n\t\t\tvar rawCurveNodes = fbxTree.Objects.AnimationCurveNode;\n\n\t\t\tvar curveNodesMap = new Map();\n\n\t\t\tfor ( var nodeID in rawCurveNodes ) {\n\n\t\t\t\tvar rawCurveNode = rawCurveNodes[ nodeID ];\n\n\t\t\t\tif ( rawCurveNode.attrName.match( /S|R|T|DeformPercent/ ) !== null ) {\n\n\t\t\t\t\tvar curveNode = {\n\n\t\t\t\t\t\tid: rawCurveNode.id,\n\t\t\t\t\t\tattr: rawCurveNode.attrName,\n\t\t\t\t\t\tcurves: {},\n\n\t\t\t\t\t};\n\n\t\t\t\t\tcurveNodesMap.set( curveNode.id, curveNode );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn curveNodesMap;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationCurve and connect them up to\n\t\t// previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated\n\t\t// axis ( e.g. times and values of x rotation)\n\t\tparseAnimationCurves: function ( curveNodesMap ) {\n\n\t\t\tvar rawCurves = fbxTree.Objects.AnimationCurve;\n\n\t\t\t// TODO: Many values are identical up to roundoff error, but won't be optimised\n\t\t\t// e.g. position times: [0, 0.4, 0. 8]\n\t\t\t// position values: [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.235384487103147e-7, 93.67520904541016, -0.9982695579528809]\n\t\t\t// clearly, this should be optimised to\n\t\t\t// times: [0], positions [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809]\n\t\t\t// this shows up in nearly every FBX file, and generally time array is length > 100\n\n\t\t\tfor ( var nodeID in rawCurves ) {\n\n\t\t\t\tvar animationCurve = {\n\n\t\t\t\t\tid: rawCurves[ nodeID ].id,\n\t\t\t\t\ttimes: rawCurves[ nodeID ].KeyTime.a.map( convertFBXTimeToSeconds ),\n\t\t\t\t\tvalues: rawCurves[ nodeID ].KeyValueFloat.a,\n\n\t\t\t\t};\n\n\t\t\t\tvar relationships = connections.get( animationCurve.id );\n\n\t\t\t\tif ( relationships !== undefined ) {\n\n\t\t\t\t\tvar animationCurveID = relationships.parents[ 0 ].ID;\n\t\t\t\t\tvar animationCurveRelationship = relationships.parents[ 0 ].relationship;\n\n\t\t\t\t\tif ( animationCurveRelationship.match( /X/ ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'x' ] = animationCurve;\n\n\t\t\t\t\t} else if ( animationCurveRelationship.match( /Y/ ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'y' ] = animationCurve;\n\n\t\t\t\t\t} else if ( animationCurveRelationship.match( /Z/ ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'z' ] = animationCurve;\n\n\t\t\t\t\t} else if ( animationCurveRelationship.match( /d|DeformPercent/ ) && curveNodesMap.has( animationCurveID ) ) {\n\n\t\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'morph' ] = animationCurve;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references\n\t\t// to various AnimationCurveNodes and is referenced by an AnimationStack node\n\t\t// note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack\n\t\tparseAnimationLayers: function ( curveNodesMap ) {\n\n\t\t\tvar rawLayers = fbxTree.Objects.AnimationLayer;\n\n\t\t\tvar layersMap = new Map();\n\n\t\t\tfor ( var nodeID in rawLayers ) {\n\n\t\t\t\tvar layerCurveNodes = [];\n\n\t\t\t\tvar connection = connections.get( parseInt( nodeID ) );\n\n\t\t\t\tif ( connection !== undefined ) {\n\n\t\t\t\t\t// all the animationCurveNodes used in the layer\n\t\t\t\t\tvar children = connection.children;\n\n\t\t\t\t\tchildren.forEach( function ( child, i ) {\n\n\t\t\t\t\t\tif ( curveNodesMap.has( child.ID ) ) {\n\n\t\t\t\t\t\t\tvar curveNode = curveNodesMap.get( child.ID );\n\n\t\t\t\t\t\t\t// check that the curves are defined for at least one axis, otherwise ignore the curveNode\n\t\t\t\t\t\t\tif ( curveNode.curves.x !== undefined || curveNode.curves.y !== undefined || curveNode.curves.z !== undefined ) {\n\n\t\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] === undefined ) {\n\n\t\t\t\t\t\t\t\t\tvar modelID = connections.get( child.ID ).parents.filter( function ( parent ) {\n\n\t\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\n\n\t\t\t\t\t\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\tif ( modelID !== undefined ) {\n\n\t\t\t\t\t\t\t\t\t\tvar rawModel = fbxTree.Objects.Model[ modelID.toString() ];\n\n\t\t\t\t\t\t\t\t\t\tif ( rawModel === undefined ) {\n\n\t\t\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Encountered a unused curve.', child );\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tvar node = {\n\n\t\t\t\t\t\t\t\t\t\t\tmodelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName( rawModel.attrName ) : '',\n\t\t\t\t\t\t\t\t\t\t\tID: rawModel.id,\n\t\t\t\t\t\t\t\t\t\t\tinitialPosition: [ 0, 0, 0 ],\n\t\t\t\t\t\t\t\t\t\t\tinitialRotation: [ 0, 0, 0 ],\n\t\t\t\t\t\t\t\t\t\t\tinitialScale: [ 1, 1, 1 ],\n\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\tsceneGraph.traverse( function ( child ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( child.ID === rawModel.id ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tnode.transform = child.matrix;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ( child.userData.transformData ) node.eulerOrder = child.userData.transformData.eulerOrder;\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t\t\tif ( ! node.transform ) node.transform = new Matrix4();\n\n\t\t\t\t\t\t\t\t\t\t// if the animated model is pre rotated, we'll have to apply the pre rotations to every\n\t\t\t\t\t\t\t\t\t\t// animation value as well\n\t\t\t\t\t\t\t\t\t\tif ( 'PreRotation' in rawModel ) node.preRotation = rawModel.PreRotation.value;\n\t\t\t\t\t\t\t\t\t\tif ( 'PostRotation' in rawModel ) node.postRotation = rawModel.PostRotation.value;\n\n\t\t\t\t\t\t\t\t\t\tlayerCurveNodes[ i ] = node;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] ) layerCurveNodes[ i ][ curveNode.attr ] = curveNode;\n\n\t\t\t\t\t\t\t} else if ( curveNode.curves.morph !== undefined ) {\n\n\t\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] === undefined ) {\n\n\t\t\t\t\t\t\t\t\tvar deformerID = connections.get( child.ID ).parents.filter( function ( parent ) {\n\n\t\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\n\n\t\t\t\t\t\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\tvar morpherID = connections.get( deformerID ).parents[ 0 ].ID;\n\t\t\t\t\t\t\t\t\tvar geoID = connections.get( morpherID ).parents[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\t// assuming geometry is not used in more than one model\n\t\t\t\t\t\t\t\t\tvar modelID = connections.get( geoID ).parents[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t\tvar rawModel = fbxTree.Objects.Model[ modelID ];\n\n\t\t\t\t\t\t\t\t\tvar node = {\n\n\t\t\t\t\t\t\t\t\t\tmodelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName( rawModel.attrName ) : '',\n\t\t\t\t\t\t\t\t\t\tmorphName: fbxTree.Objects.Deformer[ deformerID ].attrName,\n\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tlayerCurveNodes[ i ] = node;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlayerCurveNodes[ i ][ curveNode.attr ] = curveNode;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tlayersMap.set( parseInt( nodeID ), layerCurveNodes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn layersMap;\n\n\t\t},\n\n\t\t// parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation\n\t\t// hierarchy. Each Stack node will be used to create a AnimationClip\n\t\tparseAnimStacks: function ( layersMap ) {\n\n\t\t\tvar rawStacks = fbxTree.Objects.AnimationStack;\n\n\t\t\t// connect the stacks (clips) up to the layers\n\t\t\tvar rawClips = {};\n\n\t\t\tfor ( var nodeID in rawStacks ) {\n\n\t\t\t\tvar children = connections.get( parseInt( nodeID ) ).children;\n\n\t\t\t\tif ( children.length > 1 ) {\n\n\t\t\t\t\t// it seems like stacks will always be associated with a single layer. But just in case there are files\n\t\t\t\t\t// where there are multiple layers per stack, we'll display a warning\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.' );\n\n\t\t\t\t}\n\n\t\t\t\tvar layer = layersMap.get( children[ 0 ].ID );\n\n\t\t\t\trawClips[ nodeID ] = {\n\n\t\t\t\t\tname: rawStacks[ nodeID ].attrName,\n\t\t\t\t\tlayer: layer,\n\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\treturn rawClips;\n\n\t\t},\n\n\t\taddClip: function ( rawClip ) {\n\n\t\t\tvar tracks = [];\n\n\t\t\tvar scope = this;\n\t\t\trawClip.layer.forEach( function ( rawTracks ) {\n\n\t\t\t\ttracks = tracks.concat( scope.generateTracks( rawTracks ) );\n\n\t\t\t} );\n\n\t\t\treturn new AnimationClip( rawClip.name, - 1, tracks );\n\n\t\t},\n\n\t\tgenerateTracks: function ( rawTracks ) {\n\n\t\t\tvar tracks = [];\n\n\t\t\tvar initialPosition = new Vector3();\n\t\t\tvar initialRotation = new Quaternion();\n\t\t\tvar initialScale = new Vector3();\n\n\t\t\tif ( rawTracks.transform ) rawTracks.transform.decompose( initialPosition, initialRotation, initialScale );\n\n\t\t\tinitialPosition = initialPosition.toArray();\n\t\t\tinitialRotation = new Euler().setFromQuaternion( initialRotation, rawTracks.eulerOrder ).toArray();\n\t\t\tinitialScale = initialScale.toArray();\n\n\t\t\tif ( rawTracks.T !== undefined && Object.keys( rawTracks.T.curves ).length > 0 ) {\n\n\t\t\t\tvar positionTrack = this.generateVectorTrack( rawTracks.modelName, rawTracks.T.curves, initialPosition, 'position' );\n\t\t\t\tif ( positionTrack !== undefined ) tracks.push( positionTrack );\n\n\t\t\t}\n\n\t\t\tif ( rawTracks.R !== undefined && Object.keys( rawTracks.R.curves ).length > 0 ) {\n\n\t\t\t\tvar rotationTrack = this.generateRotationTrack( rawTracks.modelName, rawTracks.R.curves, initialRotation, rawTracks.preRotation, rawTracks.postRotation, rawTracks.eulerOrder );\n\t\t\t\tif ( rotationTrack !== undefined ) tracks.push( rotationTrack );\n\n\t\t\t}\n\n\t\t\tif ( rawTracks.S !== undefined && Object.keys( rawTracks.S.curves ).length > 0 ) {\n\n\t\t\t\tvar scaleTrack = this.generateVectorTrack( rawTracks.modelName, rawTracks.S.curves, initialScale, 'scale' );\n\t\t\t\tif ( scaleTrack !== undefined ) tracks.push( scaleTrack );\n\n\t\t\t}\n\n\t\t\tif ( rawTracks.DeformPercent !== undefined ) {\n\n\t\t\t\tvar morphTrack = this.generateMorphTrack( rawTracks );\n\t\t\t\tif ( morphTrack !== undefined ) tracks.push( morphTrack );\n\n\t\t\t}\n\n\t\t\treturn tracks;\n\n\t\t},\n\n\t\tgenerateVectorTrack: function ( modelName, curves, initialValue, type ) {\n\n\t\t\tvar times = this.getTimesForAllAxes( curves );\n\t\t\tvar values = this.getKeyframeTrackValues( times, curves, initialValue );\n\n\t\t\treturn new VectorKeyframeTrack( modelName + '.' + type, times, values );\n\n\t\t},\n\n\t\tgenerateRotationTrack: function ( modelName, curves, initialValue, preRotation, postRotation, eulerOrder ) {\n\n\t\t\tif ( curves.x !== undefined ) {\n\n\t\t\t\tthis.interpolateRotations( curves.x );\n\t\t\t\tcurves.x.values = curves.x.values.map( MathUtils.degToRad );\n\n\t\t\t}\n\n\t\t\tif ( curves.y !== undefined ) {\n\n\t\t\t\tthis.interpolateRotations( curves.y );\n\t\t\t\tcurves.y.values = curves.y.values.map( MathUtils.degToRad );\n\n\t\t\t}\n\n\t\t\tif ( curves.z !== undefined ) {\n\n\t\t\t\tthis.interpolateRotations( curves.z );\n\t\t\t\tcurves.z.values = curves.z.values.map( MathUtils.degToRad );\n\n\t\t\t}\n\n\t\t\tvar times = this.getTimesForAllAxes( curves );\n\t\t\tvar values = this.getKeyframeTrackValues( times, curves, initialValue );\n\n\t\t\tif ( preRotation !== undefined ) {\n\n\t\t\t\tpreRotation = preRotation.map( MathUtils.degToRad );\n\t\t\t\tpreRotation.push( eulerOrder );\n\n\t\t\t\tpreRotation = new Euler().fromArray( preRotation );\n\t\t\t\tpreRotation = new Quaternion().setFromEuler( preRotation );\n\n\t\t\t}\n\n\t\t\tif ( postRotation !== undefined ) {\n\n\t\t\t\tpostRotation = postRotation.map( MathUtils.degToRad );\n\t\t\t\tpostRotation.push( eulerOrder );\n\n\t\t\t\tpostRotation = new Euler().fromArray( postRotation );\n\t\t\t\tpostRotation = new Quaternion().setFromEuler( postRotation ).inverse();\n\n\t\t\t}\n\n\t\t\tvar quaternion = new Quaternion();\n\t\t\tvar euler = new Euler();\n\n\t\t\tvar quaternionValues = [];\n\n\t\t\tfor ( var i = 0; i < values.length; i += 3 ) {\n\n\t\t\t\teuler.set( values[ i ], values[ i + 1 ], values[ i + 2 ], eulerOrder );\n\n\t\t\t\tquaternion.setFromEuler( euler );\n\n\t\t\t\tif ( preRotation !== undefined ) quaternion.premultiply( preRotation );\n\t\t\t\tif ( postRotation !== undefined ) quaternion.multiply( postRotation );\n\n\t\t\t\tquaternion.toArray( quaternionValues, ( i / 3 ) * 4 );\n\n\t\t\t}\n\n\t\t\treturn new QuaternionKeyframeTrack( modelName + '.quaternion', times, quaternionValues );\n\n\t\t},\n\n\t\tgenerateMorphTrack: function ( rawTracks ) {\n\n\t\t\tvar curves = rawTracks.DeformPercent.curves.morph;\n\t\t\tvar values = curves.values.map( function ( val ) {\n\n\t\t\t\treturn val / 100;\n\n\t\t\t} );\n\n\t\t\tvar morphNum = sceneGraph.getObjectByName( rawTracks.modelName ).morphTargetDictionary[ rawTracks.morphName ];\n\n\t\t\treturn new NumberKeyframeTrack( rawTracks.modelName + '.morphTargetInfluences[' + morphNum + ']', curves.times, values );\n\n\t\t},\n\n\t\t// For all animated objects, times are defined separately for each axis\n\t\t// Here we'll combine the times into one sorted array without duplicates\n\t\tgetTimesForAllAxes: function ( curves ) {\n\n\t\t\tvar times = [];\n\n\t\t\t// first join together the times for each axis, if defined\n\t\t\tif ( curves.x !== undefined ) times = times.concat( curves.x.times );\n\t\t\tif ( curves.y !== undefined ) times = times.concat( curves.y.times );\n\t\t\tif ( curves.z !== undefined ) times = times.concat( curves.z.times );\n\n\t\t\t// then sort them and remove duplicates\n\t\t\ttimes = times.sort( function ( a, b ) {\n\n\t\t\t\treturn a - b;\n\n\t\t\t} ).filter( function ( elem, index, array ) {\n\n\t\t\t\treturn array.indexOf( elem ) == index;\n\n\t\t\t} );\n\n\t\t\treturn times;\n\n\t\t},\n\n\t\tgetKeyframeTrackValues: function ( times, curves, initialValue ) {\n\n\t\t\tvar prevValue = initialValue;\n\n\t\t\tvar values = [];\n\n\t\t\tvar xIndex = - 1;\n\t\t\tvar yIndex = - 1;\n\t\t\tvar zIndex = - 1;\n\n\t\t\ttimes.forEach( function ( time ) {\n\n\t\t\t\tif ( curves.x ) xIndex = curves.x.times.indexOf( time );\n\t\t\t\tif ( curves.y ) yIndex = curves.y.times.indexOf( time );\n\t\t\t\tif ( curves.z ) zIndex = curves.z.times.indexOf( time );\n\n\t\t\t\t// if there is an x value defined for this frame, use that\n\t\t\t\tif ( xIndex !== - 1 ) {\n\n\t\t\t\t\tvar xValue = curves.x.values[ xIndex ];\n\t\t\t\t\tvalues.push( xValue );\n\t\t\t\t\tprevValue[ 0 ] = xValue;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// otherwise use the x value from the previous frame\n\t\t\t\t\tvalues.push( prevValue[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( yIndex !== - 1 ) {\n\n\t\t\t\t\tvar yValue = curves.y.values[ yIndex ];\n\t\t\t\t\tvalues.push( yValue );\n\t\t\t\t\tprevValue[ 1 ] = yValue;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvalues.push( prevValue[ 1 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( zIndex !== - 1 ) {\n\n\t\t\t\t\tvar zValue = curves.z.values[ zIndex ];\n\t\t\t\t\tvalues.push( zValue );\n\t\t\t\t\tprevValue[ 2 ] = zValue;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvalues.push( prevValue[ 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn values;\n\n\t\t},\n\n\t\t// Rotations are defined as Euler angles which can have values  of any size\n\t\t// These will be converted to quaternions which don't support values greater than\n\t\t// PI, so we'll interpolate large rotations\n\t\tinterpolateRotations: function ( curve ) {\n\n\t\t\tfor ( var i = 1; i < curve.values.length; i ++ ) {\n\n\t\t\t\tvar initialValue = curve.values[ i - 1 ];\n\t\t\t\tvar valuesSpan = curve.values[ i ] - initialValue;\n\n\t\t\t\tvar absoluteSpan = Math.abs( valuesSpan );\n\n\t\t\t\tif ( absoluteSpan >= 180 ) {\n\n\t\t\t\t\tvar numSubIntervals = absoluteSpan / 180;\n\n\t\t\t\t\tvar step = valuesSpan / numSubIntervals;\n\t\t\t\t\tvar nextValue = initialValue + step;\n\n\t\t\t\t\tvar initialTime = curve.times[ i - 1 ];\n\t\t\t\t\tvar timeSpan = curve.times[ i ] - initialTime;\n\t\t\t\t\tvar interval = timeSpan / numSubIntervals;\n\t\t\t\t\tvar nextTime = initialTime + interval;\n\n\t\t\t\t\tvar interpolatedTimes = [];\n\t\t\t\t\tvar interpolatedValues = [];\n\n\t\t\t\t\twhile ( nextTime < curve.times[ i ] ) {\n\n\t\t\t\t\t\tinterpolatedTimes.push( nextTime );\n\t\t\t\t\t\tnextTime += interval;\n\n\t\t\t\t\t\tinterpolatedValues.push( nextValue );\n\t\t\t\t\t\tnextValue += step;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurve.times = inject( curve.times, i, interpolatedTimes );\n\t\t\t\t\tcurve.values = inject( curve.values, i, interpolatedValues );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t};\n\n\t// parse an FBX file in ASCII format\n\tfunction TextParser() {}\n\n\tTextParser.prototype = {\n\n\t\tconstructor: TextParser,\n\n\t\tgetPrevNode: function () {\n\n\t\t\treturn this.nodeStack[ this.currentIndent - 2 ];\n\n\t\t},\n\n\t\tgetCurrentNode: function () {\n\n\t\t\treturn this.nodeStack[ this.currentIndent - 1 ];\n\n\t\t},\n\n\t\tgetCurrentProp: function () {\n\n\t\t\treturn this.currentProp;\n\n\t\t},\n\n\t\tpushStack: function ( node ) {\n\n\t\t\tthis.nodeStack.push( node );\n\t\t\tthis.currentIndent += 1;\n\n\t\t},\n\n\t\tpopStack: function () {\n\n\t\t\tthis.nodeStack.pop();\n\t\t\tthis.currentIndent -= 1;\n\n\t\t},\n\n\t\tsetCurrentProp: function ( val, name ) {\n\n\t\t\tthis.currentProp = val;\n\t\t\tthis.currentPropName = name;\n\n\t\t},\n\n\t\tparse: function ( text ) {\n\n\t\t\tthis.currentIndent = 0;\n\n\t\t\tthis.allNodes = new FBXTree();\n\t\t\tthis.nodeStack = [];\n\t\t\tthis.currentProp = [];\n\t\t\tthis.currentPropName = '';\n\n\t\t\tvar scope = this;\n\n\t\t\tvar split = text.split( /[\\r\\n]+/ );\n\n\t\t\tsplit.forEach( function ( line, i ) {\n\n\t\t\t\tvar matchComment = line.match( /^[\\s\\t]*;/ );\n\t\t\t\tvar matchEmpty = line.match( /^[\\s\\t]*$/ );\n\n\t\t\t\tif ( matchComment || matchEmpty ) return;\n\n\t\t\t\tvar matchBeginning = line.match( '^\\\\t{' + scope.currentIndent + '}(\\\\w+):(.*){', '' );\n\t\t\t\tvar matchProperty = line.match( '^\\\\t{' + ( scope.currentIndent ) + '}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)' );\n\t\t\t\tvar matchEnd = line.match( '^\\\\t{' + ( scope.currentIndent - 1 ) + '}}' );\n\n\t\t\t\tif ( matchBeginning ) {\n\n\t\t\t\t\tscope.parseNodeBegin( line, matchBeginning );\n\n\t\t\t\t} else if ( matchProperty ) {\n\n\t\t\t\t\tscope.parseNodeProperty( line, matchProperty, split[ ++ i ] );\n\n\t\t\t\t} else if ( matchEnd ) {\n\n\t\t\t\t\tscope.popStack();\n\n\t\t\t\t} else if ( line.match( /^[^\\s\\t}]/ ) ) {\n\n\t\t\t\t\t// large arrays are split over multiple lines terminated with a ',' character\n\t\t\t\t\t// if this is encountered the line needs to be joined to the previous line\n\t\t\t\t\tscope.parseNodePropertyContinued( line );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn this.allNodes;\n\n\t\t},\n\n\t\tparseNodeBegin: function ( line, property ) {\n\n\t\t\tvar nodeName = property[ 1 ].trim().replace( /^\"/, '' ).replace( /\"$/, '' );\n\n\t\t\tvar nodeAttrs = property[ 2 ].split( ',' ).map( function ( attr ) {\n\n\t\t\t\treturn attr.trim().replace( /^\"/, '' ).replace( /\"$/, '' );\n\n\t\t\t} );\n\n\t\t\tvar node = { name: nodeName };\n\t\t\tvar attrs = this.parseNodeAttr( nodeAttrs );\n\n\t\t\tvar currentNode = this.getCurrentNode();\n\n\t\t\t// a top node\n\t\t\tif ( this.currentIndent === 0 ) {\n\n\t\t\t\tthis.allNodes.add( nodeName, node );\n\n\t\t\t} else { // a subnode\n\n\t\t\t\t// if the subnode already exists, append it\n\t\t\t\tif ( nodeName in currentNode ) {\n\n\t\t\t\t\t// special case Pose needs PoseNodes as an array\n\t\t\t\t\tif ( nodeName === 'PoseNode' ) {\n\n\t\t\t\t\t\tcurrentNode.PoseNode.push( node );\n\n\t\t\t\t\t} else if ( currentNode[ nodeName ].id !== undefined ) {\n\n\t\t\t\t\t\tcurrentNode[ nodeName ] = {};\n\t\t\t\t\t\tcurrentNode[ nodeName ][ currentNode[ nodeName ].id ] = currentNode[ nodeName ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attrs.id !== '' ) currentNode[ nodeName ][ attrs.id ] = node;\n\n\t\t\t\t} else if ( typeof attrs.id === 'number' ) {\n\n\t\t\t\t\tcurrentNode[ nodeName ] = {};\n\t\t\t\t\tcurrentNode[ nodeName ][ attrs.id ] = node;\n\n\t\t\t\t} else if ( nodeName !== 'Properties70' ) {\n\n\t\t\t\t\tif ( nodeName === 'PoseNode' )\tcurrentNode[ nodeName ] = [ node ];\n\t\t\t\t\telse currentNode[ nodeName ] = node;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( typeof attrs.id === 'number' ) node.id = attrs.id;\n\t\t\tif ( attrs.name !== '' ) node.attrName = attrs.name;\n\t\t\tif ( attrs.type !== '' ) node.attrType = attrs.type;\n\n\t\t\tthis.pushStack( node );\n\n\t\t},\n\n\t\tparseNodeAttr: function ( attrs ) {\n\n\t\t\tvar id = attrs[ 0 ];\n\n\t\t\tif ( attrs[ 0 ] !== '' ) {\n\n\t\t\t\tid = parseInt( attrs[ 0 ] );\n\n\t\t\t\tif ( isNaN( id ) ) {\n\n\t\t\t\t\tid = attrs[ 0 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar name = '', type = '';\n\n\t\t\tif ( attrs.length > 1 ) {\n\n\t\t\t\tname = attrs[ 1 ].replace( /^(\\w+)::/, '' );\n\t\t\t\ttype = attrs[ 2 ];\n\n\t\t\t}\n\n\t\t\treturn { id: id, name: name, type: type };\n\n\t\t},\n\n\t\tparseNodeProperty: function ( line, property, contentLine ) {\n\n\t\t\tvar propName = property[ 1 ].replace( /^\"/, '' ).replace( /\"$/, '' ).trim();\n\t\t\tvar propValue = property[ 2 ].replace( /^\"/, '' ).replace( /\"$/, '' ).trim();\n\n\t\t\t// for special case: base64 image data follows \"Content: ,\" line\n\t\t\t//\tContent: ,\n\t\t\t//\t \"/9j/4RDaRXhpZgAATU0A...\"\n\t\t\tif ( propName === 'Content' && propValue === ',' ) {\n\n\t\t\t\tpropValue = contentLine.replace( /\"/g, '' ).replace( /,$/, '' ).trim();\n\n\t\t\t}\n\n\t\t\tvar currentNode = this.getCurrentNode();\n\t\t\tvar parentName = currentNode.name;\n\n\t\t\tif ( parentName === 'Properties70' ) {\n\n\t\t\t\tthis.parseNodeSpecialProperty( line, propName, propValue );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\t// Connections\n\t\t\tif ( propName === 'C' ) {\n\n\t\t\t\tvar connProps = propValue.split( ',' ).slice( 1 );\n\t\t\t\tvar from = parseInt( connProps[ 0 ] );\n\t\t\t\tvar to = parseInt( connProps[ 1 ] );\n\n\t\t\t\tvar rest = propValue.split( ',' ).slice( 3 );\n\n\t\t\t\trest = rest.map( function ( elem ) {\n\n\t\t\t\t\treturn elem.trim().replace( /^\"/, '' );\n\n\t\t\t\t} );\n\n\t\t\t\tpropName = 'connections';\n\t\t\t\tpropValue = [ from, to ];\n\t\t\t\tappend( propValue, rest );\n\n\t\t\t\tif ( currentNode[ propName ] === undefined ) {\n\n\t\t\t\t\tcurrentNode[ propName ] = [];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Node\n\t\t\tif ( propName === 'Node' ) currentNode.id = propValue;\n\n\t\t\t// connections\n\t\t\tif ( propName in currentNode && Array.isArray( currentNode[ propName ] ) ) {\n\n\t\t\t\tcurrentNode[ propName ].push( propValue );\n\n\t\t\t} else {\n\n\t\t\t\tif ( propName !== 'a' ) currentNode[ propName ] = propValue;\n\t\t\t\telse currentNode.a = propValue;\n\n\t\t\t}\n\n\t\t\tthis.setCurrentProp( currentNode, propName );\n\n\t\t\t// convert string to array, unless it ends in ',' in which case more will be added to it\n\t\t\tif ( propName === 'a' && propValue.slice( - 1 ) !== ',' ) {\n\n\t\t\t\tcurrentNode.a = parseNumberArray( propValue );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseNodePropertyContinued: function ( line ) {\n\n\t\t\tvar currentNode = this.getCurrentNode();\n\n\t\t\tcurrentNode.a += line;\n\n\t\t\t// if the line doesn't end in ',' we have reached the end of the property value\n\t\t\t// so convert the string to an array\n\t\t\tif ( line.slice( - 1 ) !== ',' ) {\n\n\t\t\t\tcurrentNode.a = parseNumberArray( currentNode.a );\n\n\t\t\t}\n\n\t\t},\n\n\t\t// parse \"Property70\"\n\t\tparseNodeSpecialProperty: function ( line, propName, propValue ) {\n\n\t\t\t// split this\n\t\t\t// P: \"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\",1,1,1\n\t\t\t// into array like below\n\t\t\t// [\"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\", \"1,1,1\" ]\n\t\t\tvar props = propValue.split( '\",' ).map( function ( prop ) {\n\n\t\t\t\treturn prop.trim().replace( /^\\\"/, '' ).replace( /\\s/, '_' );\n\n\t\t\t} );\n\n\t\t\tvar innerPropName = props[ 0 ];\n\t\t\tvar innerPropType1 = props[ 1 ];\n\t\t\tvar innerPropType2 = props[ 2 ];\n\t\t\tvar innerPropFlag = props[ 3 ];\n\t\t\tvar innerPropValue = props[ 4 ];\n\n\t\t\t// cast values where needed, otherwise leave as strings\n\t\t\tswitch ( innerPropType1 ) {\n\n\t\t\t\tcase 'int':\n\t\t\t\tcase 'enum':\n\t\t\t\tcase 'bool':\n\t\t\t\tcase 'ULongLong':\n\t\t\t\tcase 'double':\n\t\t\t\tcase 'Number':\n\t\t\t\tcase 'FieldOfView':\n\t\t\t\t\tinnerPropValue = parseFloat( innerPropValue );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Color':\n\t\t\t\tcase 'ColorRGB':\n\t\t\t\tcase 'Vector3D':\n\t\t\t\tcase 'Lcl_Translation':\n\t\t\t\tcase 'Lcl_Rotation':\n\t\t\t\tcase 'Lcl_Scaling':\n\t\t\t\t\tinnerPropValue = parseNumberArray( innerPropValue );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\t// CAUTION: these props must append to parent's parent\n\t\t\tthis.getPrevNode()[ innerPropName ] = {\n\n\t\t\t\t'type': innerPropType1,\n\t\t\t\t'type2': innerPropType2,\n\t\t\t\t'flag': innerPropFlag,\n\t\t\t\t'value': innerPropValue\n\n\t\t\t};\n\n\t\t\tthis.setCurrentProp( this.getPrevNode(), innerPropName );\n\n\t\t},\n\n\t};\n\n\t// Parse an FBX file in Binary format\n\tfunction BinaryParser() {}\n\n\tBinaryParser.prototype = {\n\n\t\tconstructor: BinaryParser,\n\n\t\tparse: function ( buffer ) {\n\n\t\t\tvar reader = new BinaryReader( buffer );\n\t\t\treader.skip( 23 ); // skip magic 23 bytes\n\n\t\t\tvar version = reader.getUint32();\n\n\t\t\tconsole.log( 'THREE.FBXLoader: FBX binary version: ' + version );\n\n\t\t\tvar allNodes = new FBXTree();\n\n\t\t\twhile ( ! this.endOfContent( reader ) ) {\n\n\t\t\t\tvar node = this.parseNode( reader, version );\n\t\t\t\tif ( node !== null ) allNodes.add( node.name, node );\n\n\t\t\t}\n\n\t\t\treturn allNodes;\n\n\t\t},\n\n\t\t// Check if reader has reached the end of content.\n\t\tendOfContent: function ( reader ) {\n\n\t\t\t// footer size: 160bytes + 16-byte alignment padding\n\t\t\t// - 16bytes: magic\n\t\t\t// - padding til 16-byte alignment (at least 1byte?)\n\t\t\t//\t(seems like some exporters embed fixed 15 or 16bytes?)\n\t\t\t// - 4bytes: magic\n\t\t\t// - 4bytes: version\n\t\t\t// - 120bytes: zero\n\t\t\t// - 16bytes: magic\n\t\t\tif ( reader.size() % 16 === 0 ) {\n\n\t\t\t\treturn ( ( reader.getOffset() + 160 + 16 ) & ~ 0xf ) >= reader.size();\n\n\t\t\t} else {\n\n\t\t\t\treturn reader.getOffset() + 160 + 16 >= reader.size();\n\n\t\t\t}\n\n\t\t},\n\n\t\t// recursively parse nodes until the end of the file is reached\n\t\tparseNode: function ( reader, version ) {\n\n\t\t\tvar node = {};\n\n\t\t\t// The first three data sizes depends on version.\n\t\t\tvar endOffset = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\t\t\tvar numProperties = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\n\t\t\t( version >= 7500 ) ? reader.getUint64() : reader.getUint32(); // the returned propertyListLen is not used\n\n\t\t\tvar nameLen = reader.getUint8();\n\t\t\tvar name = reader.getString( nameLen );\n\n\t\t\t// Regards this node as NULL-record if endOffset is zero\n\t\t\tif ( endOffset === 0 ) return null;\n\n\t\t\tvar propertyList = [];\n\n\t\t\tfor ( var i = 0; i < numProperties; i ++ ) {\n\n\t\t\t\tpropertyList.push( this.parseProperty( reader ) );\n\n\t\t\t}\n\n\t\t\t// Regards the first three elements in propertyList as id, attrName, and attrType\n\t\t\tvar id = propertyList.length > 0 ? propertyList[ 0 ] : '';\n\t\t\tvar attrName = propertyList.length > 1 ? propertyList[ 1 ] : '';\n\t\t\tvar attrType = propertyList.length > 2 ? propertyList[ 2 ] : '';\n\n\t\t\t// check if this node represents just a single property\n\t\t\t// like (name, 0) set or (name2, [0, 1, 2]) set of {name: 0, name2: [0, 1, 2]}\n\t\t\tnode.singleProperty = ( numProperties === 1 && reader.getOffset() === endOffset ) ? true : false;\n\n\t\t\twhile ( endOffset > reader.getOffset() ) {\n\n\t\t\t\tvar subNode = this.parseNode( reader, version );\n\n\t\t\t\tif ( subNode !== null ) this.parseSubNode( name, node, subNode );\n\n\t\t\t}\n\n\t\t\tnode.propertyList = propertyList; // raw property list used by parent\n\n\t\t\tif ( typeof id === 'number' ) node.id = id;\n\t\t\tif ( attrName !== '' ) node.attrName = attrName;\n\t\t\tif ( attrType !== '' ) node.attrType = attrType;\n\t\t\tif ( name !== '' ) node.name = name;\n\n\t\t\treturn node;\n\n\t\t},\n\n\t\tparseSubNode: function ( name, node, subNode ) {\n\n\t\t\t// special case: child node is single property\n\t\t\tif ( subNode.singleProperty === true ) {\n\n\t\t\t\tvar value = subNode.propertyList[ 0 ];\n\n\t\t\t\tif ( Array.isArray( value ) ) {\n\n\t\t\t\t\tnode[ subNode.name ] = subNode;\n\n\t\t\t\t\tsubNode.a = value;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnode[ subNode.name ] = value;\n\n\t\t\t\t}\n\n\t\t\t} else if ( name === 'Connections' && subNode.name === 'C' ) {\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tsubNode.propertyList.forEach( function ( property, i ) {\n\n\t\t\t\t\t// first Connection is FBX type (OO, OP, etc.). We'll discard these\n\t\t\t\t\tif ( i !== 0 ) array.push( property );\n\n\t\t\t\t} );\n\n\t\t\t\tif ( node.connections === undefined ) {\n\n\t\t\t\t\tnode.connections = [];\n\n\t\t\t\t}\n\n\t\t\t\tnode.connections.push( array );\n\n\t\t\t} else if ( subNode.name === 'Properties70' ) {\n\n\t\t\t\tvar keys = Object.keys( subNode );\n\n\t\t\t\tkeys.forEach( function ( key ) {\n\n\t\t\t\t\tnode[ key ] = subNode[ key ];\n\n\t\t\t\t} );\n\n\t\t\t} else if ( name === 'Properties70' && subNode.name === 'P' ) {\n\n\t\t\t\tvar innerPropName = subNode.propertyList[ 0 ];\n\t\t\t\tvar innerPropType1 = subNode.propertyList[ 1 ];\n\t\t\t\tvar innerPropType2 = subNode.propertyList[ 2 ];\n\t\t\t\tvar innerPropFlag = subNode.propertyList[ 3 ];\n\t\t\t\tvar innerPropValue;\n\n\t\t\t\tif ( innerPropName.indexOf( 'Lcl ' ) === 0 ) innerPropName = innerPropName.replace( 'Lcl ', 'Lcl_' );\n\t\t\t\tif ( innerPropType1.indexOf( 'Lcl ' ) === 0 ) innerPropType1 = innerPropType1.replace( 'Lcl ', 'Lcl_' );\n\n\t\t\t\tif ( innerPropType1 === 'Color' || innerPropType1 === 'ColorRGB' || innerPropType1 === 'Vector' || innerPropType1 === 'Vector3D' || innerPropType1.indexOf( 'Lcl_' ) === 0 ) {\n\n\t\t\t\t\tinnerPropValue = [\n\t\t\t\t\t\tsubNode.propertyList[ 4 ],\n\t\t\t\t\t\tsubNode.propertyList[ 5 ],\n\t\t\t\t\t\tsubNode.propertyList[ 6 ]\n\t\t\t\t\t];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinnerPropValue = subNode.propertyList[ 4 ];\n\n\t\t\t\t}\n\n\t\t\t\t// this will be copied to parent, see above\n\t\t\t\tnode[ innerPropName ] = {\n\n\t\t\t\t\t'type': innerPropType1,\n\t\t\t\t\t'type2': innerPropType2,\n\t\t\t\t\t'flag': innerPropFlag,\n\t\t\t\t\t'value': innerPropValue\n\n\t\t\t\t};\n\n\t\t\t} else if ( node[ subNode.name ] === undefined ) {\n\n\t\t\t\tif ( typeof subNode.id === 'number' ) {\n\n\t\t\t\t\tnode[ subNode.name ] = {};\n\t\t\t\t\tnode[ subNode.name ][ subNode.id ] = subNode;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnode[ subNode.name ] = subNode;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( subNode.name === 'PoseNode' ) {\n\n\t\t\t\t\tif ( ! Array.isArray( node[ subNode.name ] ) ) {\n\n\t\t\t\t\t\tnode[ subNode.name ] = [ node[ subNode.name ] ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tnode[ subNode.name ].push( subNode );\n\n\t\t\t\t} else if ( node[ subNode.name ][ subNode.id ] === undefined ) {\n\n\t\t\t\t\tnode[ subNode.name ][ subNode.id ] = subNode;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseProperty: function ( reader ) {\n\n\t\t\tvar type = reader.getString( 1 );\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'C':\n\t\t\t\t\treturn reader.getBoolean();\n\n\t\t\t\tcase 'D':\n\t\t\t\t\treturn reader.getFloat64();\n\n\t\t\t\tcase 'F':\n\t\t\t\t\treturn reader.getFloat32();\n\n\t\t\t\tcase 'I':\n\t\t\t\t\treturn reader.getInt32();\n\n\t\t\t\tcase 'L':\n\t\t\t\t\treturn reader.getInt64();\n\n\t\t\t\tcase 'R':\n\t\t\t\t\tvar length = reader.getUint32();\n\t\t\t\t\treturn reader.getArrayBuffer( length );\n\n\t\t\t\tcase 'S':\n\t\t\t\t\tvar length = reader.getUint32();\n\t\t\t\t\treturn reader.getString( length );\n\n\t\t\t\tcase 'Y':\n\t\t\t\t\treturn reader.getInt16();\n\n\t\t\t\tcase 'b':\n\t\t\t\tcase 'c':\n\t\t\t\tcase 'd':\n\t\t\t\tcase 'f':\n\t\t\t\tcase 'i':\n\t\t\t\tcase 'l':\n\n\t\t\t\t\tvar arrayLength = reader.getUint32();\n\t\t\t\t\tvar encoding = reader.getUint32(); // 0: non-compressed, 1: compressed\n\t\t\t\t\tvar compressedLength = reader.getUint32();\n\n\t\t\t\t\tif ( encoding === 0 ) {\n\n\t\t\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\t\treturn reader.getBooleanArray( arrayLength );\n\n\t\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\t\treturn reader.getFloat64Array( arrayLength );\n\n\t\t\t\t\t\t\tcase 'f':\n\t\t\t\t\t\t\t\treturn reader.getFloat32Array( arrayLength );\n\n\t\t\t\t\t\t\tcase 'i':\n\t\t\t\t\t\t\t\treturn reader.getInt32Array( arrayLength );\n\n\t\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\t\treturn reader.getInt64Array( arrayLength );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( typeof Zlib === 'undefined' ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar inflate = new Zlib.Inflate( new Uint8Array( reader.getArrayBuffer( compressedLength ) ) ); // eslint-disable-line no-undef\n\t\t\t\t\tvar reader2 = new BinaryReader( inflate.decompress().buffer );\n\n\t\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\treturn reader2.getBooleanArray( arrayLength );\n\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\treturn reader2.getFloat64Array( arrayLength );\n\n\t\t\t\t\t\tcase 'f':\n\t\t\t\t\t\t\treturn reader2.getFloat32Array( arrayLength );\n\n\t\t\t\t\t\tcase 'i':\n\t\t\t\t\t\t\treturn reader2.getInt32Array( arrayLength );\n\n\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\treturn reader2.getInt64Array( arrayLength );\n\n\t\t\t\t\t}\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'THREE.FBXLoader: Unknown property type ' + type );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tfunction BinaryReader( buffer, littleEndian ) {\n\n\t\tthis.dv = new DataView( buffer );\n\t\tthis.offset = 0;\n\t\tthis.littleEndian = ( littleEndian !== undefined ) ? littleEndian : true;\n\n\t}\n\n\tBinaryReader.prototype = {\n\n\t\tconstructor: BinaryReader,\n\n\t\tgetOffset: function () {\n\n\t\t\treturn this.offset;\n\n\t\t},\n\n\t\tsize: function () {\n\n\t\t\treturn this.dv.buffer.byteLength;\n\n\t\t},\n\n\t\tskip: function ( length ) {\n\n\t\t\tthis.offset += length;\n\n\t\t},\n\n\t\t// seems like true/false representation depends on exporter.\n\t\t// true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)\n\t\t// then sees LSB.\n\t\tgetBoolean: function () {\n\n\t\t\treturn ( this.getUint8() & 1 ) === 1;\n\n\t\t},\n\n\t\tgetBooleanArray: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getBoolean() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetUint8: function () {\n\n\t\t\tvar value = this.dv.getUint8( this.offset );\n\t\t\tthis.offset += 1;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetInt16: function () {\n\n\t\t\tvar value = this.dv.getInt16( this.offset, this.littleEndian );\n\t\t\tthis.offset += 2;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetInt32: function () {\n\n\t\t\tvar value = this.dv.getInt32( this.offset, this.littleEndian );\n\t\t\tthis.offset += 4;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetInt32Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getInt32() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetUint32: function () {\n\n\t\t\tvar value = this.dv.getUint32( this.offset, this.littleEndian );\n\t\t\tthis.offset += 4;\n\t\t\treturn value;\n\n\t\t},\n\n\t\t// JavaScript doesn't support 64-bit integer so calculate this here\n\t\t// 1 << 32 will return 1 so using multiply operation instead here.\n\t\t// There's a possibility that this method returns wrong value if the value\n\t\t// is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.\n\t\t// TODO: safely handle 64-bit integer\n\t\tgetInt64: function () {\n\n\t\t\tvar low, high;\n\n\t\t\tif ( this.littleEndian ) {\n\n\t\t\t\tlow = this.getUint32();\n\t\t\t\thigh = this.getUint32();\n\n\t\t\t} else {\n\n\t\t\t\thigh = this.getUint32();\n\t\t\t\tlow = this.getUint32();\n\n\t\t\t}\n\n\t\t\t// calculate negative value\n\t\t\tif ( high & 0x80000000 ) {\n\n\t\t\t\thigh = ~ high & 0xFFFFFFFF;\n\t\t\t\tlow = ~ low & 0xFFFFFFFF;\n\n\t\t\t\tif ( low === 0xFFFFFFFF ) high = ( high + 1 ) & 0xFFFFFFFF;\n\n\t\t\t\tlow = ( low + 1 ) & 0xFFFFFFFF;\n\n\t\t\t\treturn - ( high * 0x100000000 + low );\n\n\t\t\t}\n\n\t\t\treturn high * 0x100000000 + low;\n\n\t\t},\n\n\t\tgetInt64Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getInt64() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\t// Note: see getInt64() comment\n\t\tgetUint64: function () {\n\n\t\t\tvar low, high;\n\n\t\t\tif ( this.littleEndian ) {\n\n\t\t\t\tlow = this.getUint32();\n\t\t\t\thigh = this.getUint32();\n\n\t\t\t} else {\n\n\t\t\t\thigh = this.getUint32();\n\t\t\t\tlow = this.getUint32();\n\n\t\t\t}\n\n\t\t\treturn high * 0x100000000 + low;\n\n\t\t},\n\n\t\tgetFloat32: function () {\n\n\t\t\tvar value = this.dv.getFloat32( this.offset, this.littleEndian );\n\t\t\tthis.offset += 4;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetFloat32Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getFloat32() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetFloat64: function () {\n\n\t\t\tvar value = this.dv.getFloat64( this.offset, this.littleEndian );\n\t\t\tthis.offset += 8;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetFloat64Array: function ( size ) {\n\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta.push( this.getFloat64() );\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t},\n\n\t\tgetArrayBuffer: function ( size ) {\n\n\t\t\tvar value = this.dv.buffer.slice( this.offset, this.offset + size );\n\t\t\tthis.offset += size;\n\t\t\treturn value;\n\n\t\t},\n\n\t\tgetString: function ( size ) {\n\n\t\t\t// note: safari 9 doesn't support Uint8Array.indexOf; create intermediate array instead\n\t\t\tvar a = [];\n\n\t\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\t\ta[ i ] = this.getUint8();\n\n\t\t\t}\n\n\t\t\tvar nullByte = a.indexOf( 0 );\n\t\t\tif ( nullByte >= 0 ) a = a.slice( 0, nullByte );\n\n\t\t\treturn LoaderUtils.decodeText( new Uint8Array( a ) );\n\n\t\t}\n\n\t};\n\n\t// FBXTree holds a representation of the FBX data, returned by the TextParser ( FBX ASCII format)\n\t// and BinaryParser( FBX Binary format)\n\tfunction FBXTree() {}\n\n\tFBXTree.prototype = {\n\n\t\tconstructor: FBXTree,\n\n\t\tadd: function ( key, val ) {\n\n\t\t\tthis[ key ] = val;\n\n\t\t},\n\n\t};\n\n\t// ************** UTILITY FUNCTIONS **************\n\n\tfunction isFbxFormatBinary( buffer ) {\n\n\t\tvar CORRECT = 'Kaydara FBX Binary  \\0';\n\n\t\treturn buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString( buffer, 0, CORRECT.length );\n\n\t}\n\n\tfunction isFbxFormatASCII( text ) {\n\n\t\tvar CORRECT = [ 'K', 'a', 'y', 'd', 'a', 'r', 'a', '\\\\', 'F', 'B', 'X', '\\\\', 'B', 'i', 'n', 'a', 'r', 'y', '\\\\', '\\\\' ];\n\n\t\tvar cursor = 0;\n\n\t\tfunction read( offset ) {\n\n\t\t\tvar result = text[ offset - 1 ];\n\t\t\ttext = text.slice( cursor + offset );\n\t\t\tcursor ++;\n\t\t\treturn result;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < CORRECT.length; ++ i ) {\n\n\t\t\tvar num = read( 1 );\n\t\t\tif ( num === CORRECT[ i ] ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfunction getFbxVersion( text ) {\n\n\t\tvar versionRegExp = /FBXVersion: (\\d+)/;\n\t\tvar match = text.match( versionRegExp );\n\n\t\tif ( match ) {\n\n\t\t\tvar version = parseInt( match[ 1 ] );\n\t\t\treturn version;\n\n\t\t}\n\n\t\tthrow new Error( 'THREE.FBXLoader: Cannot find the version number for the file given.' );\n\n\t}\n\n\t// Converts FBX ticks into real time seconds.\n\tfunction convertFBXTimeToSeconds( time ) {\n\n\t\treturn time / 46186158000;\n\n\t}\n\n\tvar dataArray = [];\n\n\t// extracts the data from the correct position in the FBX array based on indexing type\n\tfunction getData( polygonVertexIndex, polygonIndex, vertexIndex, infoObject ) {\n\n\t\tvar index;\n\n\t\tswitch ( infoObject.mappingType ) {\n\n\t\t\tcase 'ByPolygonVertex' :\n\t\t\t\tindex = polygonVertexIndex;\n\t\t\t\tbreak;\n\t\t\tcase 'ByPolygon' :\n\t\t\t\tindex = polygonIndex;\n\t\t\t\tbreak;\n\t\t\tcase 'ByVertice' :\n\t\t\t\tindex = vertexIndex;\n\t\t\t\tbreak;\n\t\t\tcase 'AllSame' :\n\t\t\t\tindex = infoObject.indices[ 0 ];\n\t\t\t\tbreak;\n\t\t\tdefault :\n\t\t\t\tconsole.warn( 'THREE.FBXLoader: unknown attribute mapping type ' + infoObject.mappingType );\n\n\t\t}\n\n\t\tif ( infoObject.referenceType === 'IndexToDirect' ) index = infoObject.indices[ index ];\n\n\t\tvar from = index * infoObject.dataSize;\n\t\tvar to = from + infoObject.dataSize;\n\n\t\treturn slice( dataArray, infoObject.buffer, from, to );\n\n\t}\n\n\tvar tempEuler = new Euler();\n\tvar tempVec = new Vector3();\n\n\t// generate transformation from FBX transform data\n\t// ref: https://help.autodesk.com/view/FBX/2017/ENU/?guid=__files_GUID_10CDD63C_79C1_4F2D_BB28_AD2BE65A02ED_htm\n\t// ref: http://docs.autodesk.com/FBX/2014/ENU/FBX-SDK-Documentation/index.html?url=cpp_ref/_transformations_2main_8cxx-example.html,topicNumber=cpp_ref__transformations_2main_8cxx_example_htmlfc10a1e1-b18d-4e72-9dc0-70d0f1959f5e\n\tfunction generateTransform( transformData ) {\n\n\t\tvar lTranslationM = new Matrix4();\n\t\tvar lPreRotationM = new Matrix4();\n\t\tvar lRotationM = new Matrix4();\n\t\tvar lPostRotationM = new Matrix4();\n\n\t\tvar lScalingM = new Matrix4();\n\t\tvar lScalingPivotM = new Matrix4();\n\t\tvar lScalingOffsetM = new Matrix4();\n\t\tvar lRotationOffsetM = new Matrix4();\n\t\tvar lRotationPivotM = new Matrix4();\n\n\t\tvar lParentGX = new Matrix4();\n\t\tvar lGlobalT = new Matrix4();\n\n\t\tvar inheritType = ( transformData.inheritType ) ? transformData.inheritType : 0;\n\n\t\tif ( transformData.translation ) lTranslationM.setPosition( tempVec.fromArray( transformData.translation ) );\n\n\t\tif ( transformData.preRotation ) {\n\n\t\t\tvar array = transformData.preRotation.map( MathUtils.degToRad );\n\t\t\tarray.push( transformData.eulerOrder );\n\t\t\tlPreRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t\t}\n\n\t\tif ( transformData.rotation ) {\n\n\t\t\tvar array = transformData.rotation.map( MathUtils.degToRad );\n\t\t\tarray.push( transformData.eulerOrder );\n\t\t\tlRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t\t}\n\n\t\tif ( transformData.postRotation ) {\n\n\t\t\tvar array = transformData.postRotation.map( MathUtils.degToRad );\n\t\t\tarray.push( transformData.eulerOrder );\n\t\t\tlPostRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t\t}\n\n\t\tif ( transformData.scale ) lScalingM.scale( tempVec.fromArray( transformData.scale ) );\n\n\t\t// Pivots and offsets\n\t\tif ( transformData.scalingOffset ) lScalingOffsetM.setPosition( tempVec.fromArray( transformData.scalingOffset ) );\n\t\tif ( transformData.scalingPivot ) lScalingPivotM.setPosition( tempVec.fromArray( transformData.scalingPivot ) );\n\t\tif ( transformData.rotationOffset ) lRotationOffsetM.setPosition( tempVec.fromArray( transformData.rotationOffset ) );\n\t\tif ( transformData.rotationPivot ) lRotationPivotM.setPosition( tempVec.fromArray( transformData.rotationPivot ) );\n\n\t\t// parent transform\n\t\tif ( transformData.parentMatrixWorld ) lParentGX = transformData.parentMatrixWorld;\n\n\t\t// Global Rotation\n\t\tvar lLRM = lPreRotationM.multiply( lRotationM ).multiply( lPostRotationM );\n\t\tvar lParentGRM = new Matrix4();\n\t\tlParentGX.extractRotation( lParentGRM );\n\n\t\t// Global Shear*Scaling\n\t\tvar lParentTM = new Matrix4();\n\t\tlParentTM.copyPosition( lParentGX );\n\n\t\tvar lParentGSM = new Matrix4();\n\t\tlParentGSM.getInverse( lParentGRM ).multiply( lParentGX );\n\n\t\tvar lGlobalRS = new Matrix4();\n\n\t\tif ( inheritType === 0 ) {\n\n\t\t\tlGlobalRS.copy( lParentGRM ).multiply( lLRM ).multiply( lParentGSM ).multiply( lScalingM );\n\n\t\t} else if ( inheritType === 1 ) {\n\n\t\t\tlGlobalRS.copy( lParentGRM ).multiply( lParentGSM ).multiply( lLRM ).multiply( lScalingM );\n\n\t\t} else {\n\n\t\t\tvar lParentLSM_inv = new Matrix4().getInverse( lScalingM );\n\t\t\tvar lParentGSM_noLocal = new Matrix4().multiply( lParentGSM ).multiply( lParentLSM_inv );\n\n\t\t\tlGlobalRS.copy( lParentGRM ).multiply( lLRM ).multiply( lParentGSM_noLocal ).multiply( lScalingM );\n\n\t\t}\n\n\t\tvar lRotationPivotM_inv = new Matrix4().getInverse( lRotationPivotM );\n\t\tvar lScalingPivotM_inv = new Matrix4().getInverse( lScalingPivotM );\n\t\t// Calculate the local transform matrix\n\t\tvar lTransform = new Matrix4();\n\t\tlTransform.copy( lTranslationM ).multiply( lRotationOffsetM ).multiply( lRotationPivotM ).multiply( lPreRotationM ).multiply( lRotationM ).multiply( lPostRotationM ).multiply( lRotationPivotM_inv ).multiply( lScalingOffsetM ).multiply( lScalingPivotM ).multiply( lScalingM ).multiply( lScalingPivotM_inv );\n\n\t\tvar lLocalTWithAllPivotAndOffsetInfo = new Matrix4().copyPosition( lTransform );\n\n\t\tvar lGlobalTranslation = new Matrix4().copy( lParentGX ).multiply( lLocalTWithAllPivotAndOffsetInfo );\n\t\tlGlobalT.copyPosition( lGlobalTranslation );\n\n\t\tlTransform = new Matrix4().multiply( lGlobalT ).multiply( lGlobalRS );\n\n\t\treturn lTransform;\n\n\t}\n\n\t// Returns the three.js intrinsic Euler order corresponding to FBX extrinsic Euler order\n\t// ref: http://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_class_fbx_euler_html\n\tfunction getEulerOrder( order ) {\n\n\t\torder = order || 0;\n\n\t\tvar enums = [\n\t\t\t'ZYX', // -> XYZ extrinsic\n\t\t\t'YZX', // -> XZY extrinsic\n\t\t\t'XZY', // -> YZX extrinsic\n\t\t\t'ZXY', // -> YXZ extrinsic\n\t\t\t'YXZ', // -> ZXY extrinsic\n\t\t\t'XYZ', // -> ZYX extrinsic\n\t\t\t//'SphericXYZ', // not possible to support\n\t\t];\n\n\t\tif ( order === 6 ) {\n\n\t\t\tconsole.warn( 'THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.' );\n\t\t\treturn enums[ 0 ];\n\n\t\t}\n\n\t\treturn enums[ order ];\n\n\t}\n\n\t// Parses comma separated list of numbers and returns them an array.\n\t// Used internally by the TextParser\n\tfunction parseNumberArray( value ) {\n\n\t\tvar array = value.split( ',' ).map( function ( val ) {\n\n\t\t\treturn parseFloat( val );\n\n\t\t} );\n\n\t\treturn array;\n\n\t}\n\n\tfunction convertArrayBufferToString( buffer, from, to ) {\n\n\t\tif ( from === undefined ) from = 0;\n\t\tif ( to === undefined ) to = buffer.byteLength;\n\n\t\treturn LoaderUtils.decodeText( new Uint8Array( buffer, from, to ) );\n\n\t}\n\n\tfunction append( a, b ) {\n\n\t\tfor ( var i = 0, j = a.length, l = b.length; i < l; i ++, j ++ ) {\n\n\t\t\ta[ j ] = b[ i ];\n\n\t\t}\n\n\t}\n\n\tfunction slice( a, b, from, to ) {\n\n\t\tfor ( var i = from, j = 0; i < to; i ++, j ++ ) {\n\n\t\t\ta[ j ] = b[ i ];\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\t// inject array a2 into array a1 at index\n\tfunction inject( a1, index, a2 ) {\n\n\t\treturn a1.slice( 0, index ).concat( a2 ).concat( a1.slice( index ) );\n\n\t}\n\n\treturn FBXLoader;\n\n} )();\n\n\n\n// CONCATENATED MODULE: ./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!./node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!./node_modules/_babel-loader@8.1.0@babel-loader/lib!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./src/model-fbx.vue?vue&type=script&lang=js&\n\n\n/* harmony default export */ var model_fbxvue_type_script_lang_js_ = ({\n  name: 'model-fbx',\n  mixins: [model_mixin],\n  props: {\n    lights: {\n      type: Array,\n      default: function _default() {\n        return [{\n          type: 'HemisphereLight',\n          position: {\n            x: 0,\n            y: 1,\n            z: 0\n          },\n          skyColor: 0xffffff,\n          groundColor: 0xffffff,\n          intensity: 0.8\n        }, {\n          type: 'DirectionalLight',\n          position: {\n            x: 1,\n            y: 1,\n            z: 1\n          },\n          color: 0xffffff,\n          intensity: 0.8\n        }];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      loader: new FBXLoader_FBXLoader()\n    };\n  },\n  methods: {\n    getObject: function getObject(geometry) {\n      this.animations = geometry.animations;\n      return geometry;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/model-fbx.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_model_fbxvue_type_script_lang_js_ = (model_fbxvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/model-fbx.vue\nvar model_fbx_render, model_fbx_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar model_fbx_component = normalizeComponent(\n  src_model_fbxvue_type_script_lang_js_,\n  model_fbx_render,\n  model_fbx_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var model_fbx = (model_fbx_component.exports);\n// CONCATENATED MODULE: ./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!./node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!./node_modules/_babel-loader@8.1.0@babel-loader/lib!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./src/model-three.vue?vue&type=script&lang=js&\n\n\n/* harmony default export */ var model_threevue_type_script_lang_js_ = ({\n  name: 'model-three',\n  mixins: [model_mixin],\n  data: function data() {\n    var loader = new ObjectLoader();\n    loader.setCrossOrigin(this.crossOrigin);\n    return {\n      loader: loader\n    };\n  }\n});\n// CONCATENATED MODULE: ./src/model-three.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_model_threevue_type_script_lang_js_ = (model_threevue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/model-three.vue\nvar model_three_render, model_three_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar model_three_component = normalizeComponent(\n  src_model_threevue_type_script_lang_js_,\n  model_three_render,\n  model_three_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var model_three = (model_three_component.exports);\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/loaders/STLLoader.js\n/**\n * @author aleeper / http://adamleeper.com/\n * @author mrdoob / http://mrdoob.com/\n * @author gero3 / https://github.com/gero3\n * @author Mugen87 / https://github.com/Mugen87\n * @author neverhood311 / https://github.com/neverhood311\n *\n * Description: A THREE loader for STL ASCII files, as created by Solidworks and other CAD programs.\n *\n * Supports both binary and ASCII encoded files, with automatic detection of type.\n *\n * The loader returns a non-indexed buffer geometry.\n *\n * Limitations:\n *  Binary decoding supports \"Magics\" color format (http://en.wikipedia.org/wiki/STL_(file_format)#Color_in_binary_STL).\n *  There is perhaps some question as to how valid it is to always assume little-endian-ness.\n *  ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *  var loader = new STLLoader();\n *  loader.load( './models/stl/slotted_disk.stl', function ( geometry ) {\n *    scene.add( new THREE.Mesh( geometry ) );\n *  });\n *\n * For binary STLs geometry might contain colors for vertices. To use it:\n *  // use the same code to load STL as above\n *  if (geometry.hasColors) {\n *    material = new THREE.MeshPhongMaterial({ opacity: geometry.alpha, vertexColors: true });\n *  } else { .... }\n *  var mesh = new THREE.Mesh( geometry, material );\n *\n * For ASCII STLs containing multiple solids, each solid is assigned to a different group.\n * Groups can be used to assign a different color by defining an array of materials with the same length of\n * geometry.groups and passing it to the Mesh constructor:\n *\n * var mesh = new THREE.Mesh( geometry, material );\n *\n * For example:\n *\n *  var materials = [];\n *  var nGeometryGroups = geometry.groups.length;\n *\n *  var colorMap = ...; // Some logic to index colors.\n *\n *  for (var i = 0; i < nGeometryGroups; i++) {\n *\n *\t\tvar material = new THREE.MeshPhongMaterial({\n *\t\t\tcolor: colorMap[i],\n *\t\t\twireframe: false\n *\t\t});\n *\n *  }\n *\n *  materials.push(material);\n *  var mesh = new THREE.Mesh(geometry, materials);\n */\n\n\n\n\nvar STLLoader = function ( manager ) {\n\n\tLoader.call( this, manager );\n\n};\n\nSTLLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: STLLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( data ) {\n\n\t\tfunction isBinary( data ) {\n\n\t\t\tvar expect, face_size, n_faces, reader;\n\t\t\treader = new DataView( data );\n\t\t\tface_size = ( 32 / 8 * 3 ) + ( ( 32 / 8 * 3 ) * 3 ) + ( 16 / 8 );\n\t\t\tn_faces = reader.getUint32( 80, true );\n\t\t\texpect = 80 + ( 32 / 8 ) + ( n_faces * face_size );\n\n\t\t\tif ( expect === reader.byteLength ) {\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\t// An ASCII STL data must begin with 'solid ' as the first six bytes.\n\t\t\t// However, ASCII STLs lacking the SPACE after the 'd' are known to be\n\t\t\t// plentiful.  So, check the first 5 bytes for 'solid'.\n\n\t\t\t// Several encodings, such as UTF-8, precede the text with up to 5 bytes:\n\t\t\t// https://en.wikipedia.org/wiki/Byte_order_mark#Byte_order_marks_by_encoding\n\t\t\t// Search for \"solid\" to start anywhere after those prefixes.\n\n\t\t\t// US-ASCII ordinal values for 's', 'o', 'l', 'i', 'd'\n\n\t\t\tvar solid = [ 115, 111, 108, 105, 100 ];\n\n\t\t\tfor ( var off = 0; off < 5; off ++ ) {\n\n\t\t\t\t// If \"solid\" text is matched to the current offset, declare it to be an ASCII STL.\n\n\t\t\t\tif ( matchDataViewAt( solid, reader, off ) ) return false;\n\n\t\t\t}\n\n\t\t\t// Couldn't find \"solid\" text at the beginning; it is binary STL.\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tfunction matchDataViewAt( query, reader, offset ) {\n\n\t\t\t// Check if each byte in query matches the corresponding byte from the current offset\n\n\t\t\tfor ( var i = 0, il = query.length; i < il; i ++ ) {\n\n\t\t\t\tif ( query[ i ] !== reader.getUint8( offset + i, false ) ) return false;\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tfunction parseBinary( data ) {\n\n\t\t\tvar reader = new DataView( data );\n\t\t\tvar faces = reader.getUint32( 80, true );\n\n\t\t\tvar r, g, b, hasColors = false, colors;\n\t\t\tvar defaultR, defaultG, defaultB, alpha;\n\n\t\t\t// process STL header\n\t\t\t// check for default color in header (\"COLOR=rgba\" sequence).\n\n\t\t\tfor ( var index = 0; index < 80 - 10; index ++ ) {\n\n\t\t\t\tif ( ( reader.getUint32( index, false ) == 0x434F4C4F /*COLO*/ ) &&\n\t\t\t\t\t( reader.getUint8( index + 4 ) == 0x52 /*'R'*/ ) &&\n\t\t\t\t\t( reader.getUint8( index + 5 ) == 0x3D /*'='*/ ) ) {\n\n\t\t\t\t\thasColors = true;\n\t\t\t\t\tcolors = new Float32Array( faces * 3 * 3 );\n\n\t\t\t\t\tdefaultR = reader.getUint8( index + 6 ) / 255;\n\t\t\t\t\tdefaultG = reader.getUint8( index + 7 ) / 255;\n\t\t\t\t\tdefaultB = reader.getUint8( index + 8 ) / 255;\n\t\t\t\t\talpha = reader.getUint8( index + 9 ) / 255;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar dataOffset = 84;\n\t\t\tvar faceLength = 12 * 4 + 2;\n\n\t\t\tvar geometry = new BufferGeometry();\n\n\t\t\tvar vertices = new Float32Array( faces * 3 * 3 );\n\t\t\tvar normals = new Float32Array( faces * 3 * 3 );\n\n\t\t\tfor ( var face = 0; face < faces; face ++ ) {\n\n\t\t\t\tvar start = dataOffset + face * faceLength;\n\t\t\t\tvar normalX = reader.getFloat32( start, true );\n\t\t\t\tvar normalY = reader.getFloat32( start + 4, true );\n\t\t\t\tvar normalZ = reader.getFloat32( start + 8, true );\n\n\t\t\t\tif ( hasColors ) {\n\n\t\t\t\t\tvar packedColor = reader.getUint16( start + 48, true );\n\n\t\t\t\t\tif ( ( packedColor & 0x8000 ) === 0 ) {\n\n\t\t\t\t\t\t// facet has its own unique color\n\n\t\t\t\t\t\tr = ( packedColor & 0x1F ) / 31;\n\t\t\t\t\t\tg = ( ( packedColor >> 5 ) & 0x1F ) / 31;\n\t\t\t\t\t\tb = ( ( packedColor >> 10 ) & 0x1F ) / 31;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tr = defaultR;\n\t\t\t\t\t\tg = defaultG;\n\t\t\t\t\t\tb = defaultB;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 1; i <= 3; i ++ ) {\n\n\t\t\t\t\tvar vertexstart = start + i * 12;\n\t\t\t\t\tvar componentIdx = ( face * 3 * 3 ) + ( ( i - 1 ) * 3 );\n\n\t\t\t\t\tvertices[ componentIdx ] = reader.getFloat32( vertexstart, true );\n\t\t\t\t\tvertices[ componentIdx + 1 ] = reader.getFloat32( vertexstart + 4, true );\n\t\t\t\t\tvertices[ componentIdx + 2 ] = reader.getFloat32( vertexstart + 8, true );\n\n\t\t\t\t\tnormals[ componentIdx ] = normalX;\n\t\t\t\t\tnormals[ componentIdx + 1 ] = normalY;\n\t\t\t\t\tnormals[ componentIdx + 2 ] = normalZ;\n\n\t\t\t\t\tif ( hasColors ) {\n\n\t\t\t\t\t\tcolors[ componentIdx ] = r;\n\t\t\t\t\t\tcolors[ componentIdx + 1 ] = g;\n\t\t\t\t\t\tcolors[ componentIdx + 2 ] = b;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new BufferAttribute( vertices, 3 ) );\n\t\t\tgeometry.setAttribute( 'normal', new BufferAttribute( normals, 3 ) );\n\n\t\t\tif ( hasColors ) {\n\n\t\t\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\t\t\t\tgeometry.hasColors = true;\n\t\t\t\tgeometry.alpha = alpha;\n\n\t\t\t}\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction parseASCII( data ) {\n\n\t\t\tvar geometry = new BufferGeometry();\n\t\t\tvar patternSolid = /solid([\\s\\S]*?)endsolid/g;\n\t\t\tvar patternFace = /facet([\\s\\S]*?)endfacet/g;\n\t\t\tvar faceCounter = 0;\n\n\t\t\tvar patternFloat = /[\\s]+([+-]?(?:\\d*)(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/.source;\n\t\t\tvar patternVertex = new RegExp( 'vertex' + patternFloat + patternFloat + patternFloat, 'g' );\n\t\t\tvar patternNormal = new RegExp( 'normal' + patternFloat + patternFloat + patternFloat, 'g' );\n\n\t\t\tvar vertices = [];\n\t\t\tvar normals = [];\n\n\t\t\tvar normal = new Vector3();\n\n\t\t\tvar result;\n\n\t\t\tvar groupCount = 0;\n\t\t\tvar startVertex = 0;\n\t\t\tvar endVertex = 0;\n\n\t\t\twhile ( ( result = patternSolid.exec( data ) ) !== null ) {\n\n\t\t\t\tstartVertex = endVertex;\n\n\t\t\t\tvar solid = result[ 0 ];\n\n\t\t\t\twhile ( ( result = patternFace.exec( solid ) ) !== null ) {\n\n\t\t\t\t\tvar vertexCountPerFace = 0;\n\t\t\t\t\tvar normalCountPerFace = 0;\n\n\t\t\t\t\tvar text = result[ 0 ];\n\n\t\t\t\t\twhile ( ( result = patternNormal.exec( text ) ) !== null ) {\n\n\t\t\t\t\t\tnormal.x = parseFloat( result[ 1 ] );\n\t\t\t\t\t\tnormal.y = parseFloat( result[ 2 ] );\n\t\t\t\t\t\tnormal.z = parseFloat( result[ 3 ] );\n\t\t\t\t\t\tnormalCountPerFace ++;\n\n\t\t\t\t\t}\n\n\t\t\t\t\twhile ( ( result = patternVertex.exec( text ) ) !== null ) {\n\n\t\t\t\t\t\tvertices.push( parseFloat( result[ 1 ] ), parseFloat( result[ 2 ] ), parseFloat( result[ 3 ] ) );\n\t\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\t\t\t\t\t\tvertexCountPerFace ++;\n\t\t\t\t\t\tendVertex ++;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// every face have to own ONE valid normal\n\n\t\t\t\t\tif ( normalCountPerFace !== 1 ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.STLLoader: Something isn\\'t right with the normal of face number ' + faceCounter );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// each face have to own THREE valid vertices\n\n\t\t\t\t\tif ( vertexCountPerFace !== 3 ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.STLLoader: Something isn\\'t right with the vertices of face number ' + faceCounter );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfaceCounter ++;\n\n\t\t\t\t}\n\n\t\t\t\tvar start = startVertex;\n\t\t\t\tvar count = endVertex - startVertex;\n\n\t\t\t\tgeometry.addGroup( start, count, groupCount );\n\t\t\t\tgroupCount ++;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\t\tgeometry.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction ensureString( buffer ) {\n\n\t\t\tif ( typeof buffer !== 'string' ) {\n\n\t\t\t\treturn LoaderUtils.decodeText( new Uint8Array( buffer ) );\n\n\t\t\t}\n\n\t\t\treturn buffer;\n\n\t\t}\n\n\t\tfunction ensureBinary( buffer ) {\n\n\t\t\tif ( typeof buffer === 'string' ) {\n\n\t\t\t\tvar array_buffer = new Uint8Array( buffer.length );\n\t\t\t\tfor ( var i = 0; i < buffer.length; i ++ ) {\n\n\t\t\t\t\tarray_buffer[ i ] = buffer.charCodeAt( i ) & 0xff; // implicitly assumes little-endian\n\n\t\t\t\t}\n\n\t\t\t\treturn array_buffer.buffer || array_buffer;\n\n\t\t\t} else {\n\n\t\t\t\treturn buffer;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// start\n\n\t\tvar binData = ensureBinary( data );\n\n\t\treturn isBinary( binData ) ? parseBinary( binData ) : parseASCII( ensureString( data ) );\n\n\t}\n\n} );\n\n\n\n// CONCATENATED MODULE: ./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!./node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!./node_modules/_babel-loader@8.1.0@babel-loader/lib!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./src/model-stl.vue?vue&type=script&lang=js&\n\n\n\n/* harmony default export */ var model_stlvue_type_script_lang_js_ = ({\n  name: 'model-stl',\n  mixins: [model_mixin],\n  props: {\n    lights: {\n      type: Array,\n      default: function _default() {\n        return [{\n          type: 'HemisphereLight',\n          position: {\n            x: 0,\n            y: 1,\n            z: 0\n          },\n          skyColor: 0xaaaaff,\n          groundColor: 0x806060,\n          intensity: 0.2\n        }, {\n          type: 'DirectionalLight',\n          position: {\n            x: 1,\n            y: 1,\n            z: 1\n          },\n          color: 0xffffff,\n          intensity: 0.8\n        }];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      loader: new STLLoader()\n    };\n  },\n  methods: {\n    getObject: function getObject(geometry) {\n      return new Mesh(geometry, new MeshPhongMaterial());\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/model-stl.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_model_stlvue_type_script_lang_js_ = (model_stlvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/model-stl.vue\nvar model_stl_render, model_stl_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar model_stl_component = normalizeComponent(\n  src_model_stlvue_type_script_lang_js_,\n  model_stl_render,\n  model_stl_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var model_stl = (model_stl_component.exports);\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/loaders/PLYLoader.js\n/**\n * @author Wei Meng / http://about.me/menway\n *\n * Description: A THREE loader for PLY ASCII files (known as the Polygon\n * File Format or the Stanford Triangle Format).\n *\n * Limitations: ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *\tvar loader = new PLYLoader();\n *\tloader.load('./models/ply/ascii/dolphins.ply', function (geometry) {\n *\n *\t\tscene.add( new THREE.Mesh( geometry ) );\n *\n *\t} );\n *\n * If the PLY file uses non standard property names, they can be mapped while\n * loading. For example, the following maps the properties\n * “diffuse_(red|green|blue)” in the file to standard color names.\n *\n * loader.setPropertyNameMapping( {\n *\tdiffuse_red: 'red',\n *\tdiffuse_green: 'green',\n *\tdiffuse_blue: 'blue'\n * } );\n *\n */\n\n\n\n\nvar PLYLoader = function ( manager ) {\n\n\tLoader.call( this, manager );\n\n\tthis.propertyNameMapping = {};\n\n};\n\nPLYLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: PLYLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetPropertyNameMapping: function ( mapping ) {\n\n\t\tthis.propertyNameMapping = mapping;\n\n\t},\n\n\tparse: function ( data ) {\n\n\t\tfunction parseHeader( data ) {\n\n\t\t\tvar patternHeader = /ply([\\s\\S]*)end_header\\r?\\n/;\n\t\t\tvar headerText = '';\n\t\t\tvar headerLength = 0;\n\t\t\tvar result = patternHeader.exec( data );\n\n\t\t\tif ( result !== null ) {\n\n\t\t\t\theaderText = result[ 1 ];\n\t\t\t\theaderLength = result[ 0 ].length;\n\n\t\t\t}\n\n\t\t\tvar header = {\n\t\t\t\tcomments: [],\n\t\t\t\telements: [],\n\t\t\t\theaderLength: headerLength\n\t\t\t};\n\n\t\t\tvar lines = headerText.split( '\\n' );\n\t\t\tvar currentElement;\n\t\t\tvar lineType, lineValues;\n\n\t\t\tfunction make_ply_element_property( propertValues, propertyNameMapping ) {\n\n\t\t\t\tvar property = { type: propertValues[ 0 ] };\n\n\t\t\t\tif ( property.type === 'list' ) {\n\n\t\t\t\t\tproperty.name = propertValues[ 3 ];\n\t\t\t\t\tproperty.countType = propertValues[ 1 ];\n\t\t\t\t\tproperty.itemType = propertValues[ 2 ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tproperty.name = propertValues[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( property.name in propertyNameMapping ) {\n\n\t\t\t\t\tproperty.name = propertyNameMapping[ property.name ];\n\n\t\t\t\t}\n\n\t\t\t\treturn property;\n\n\t\t\t}\n\n\t\t\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\t\t\tvar line = lines[ i ];\n\t\t\t\tline = line.trim();\n\n\t\t\t\tif ( line === '' ) continue;\n\n\t\t\t\tlineValues = line.split( /\\s+/ );\n\t\t\t\tlineType = lineValues.shift();\n\t\t\t\tline = lineValues.join( ' ' );\n\n\t\t\t\tswitch ( lineType ) {\n\n\t\t\t\t\tcase 'format':\n\n\t\t\t\t\t\theader.format = lineValues[ 0 ];\n\t\t\t\t\t\theader.version = lineValues[ 1 ];\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'comment':\n\n\t\t\t\t\t\theader.comments.push( line );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'element':\n\n\t\t\t\t\t\tif ( currentElement !== undefined ) {\n\n\t\t\t\t\t\t\theader.elements.push( currentElement );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurrentElement = {};\n\t\t\t\t\t\tcurrentElement.name = lineValues[ 0 ];\n\t\t\t\t\t\tcurrentElement.count = parseInt( lineValues[ 1 ] );\n\t\t\t\t\t\tcurrentElement.properties = [];\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'property':\n\n\t\t\t\t\t\tcurrentElement.properties.push( make_ply_element_property( lineValues, scope.propertyNameMapping ) );\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.log( 'unhandled', lineType, lineValues );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( currentElement !== undefined ) {\n\n\t\t\t\theader.elements.push( currentElement );\n\n\t\t\t}\n\n\t\t\treturn header;\n\n\t\t}\n\n\t\tfunction parseASCIINumber( n, type ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'char': case 'uchar': case 'short': case 'ushort': case 'int': case 'uint':\n\t\t\t\tcase 'int8': case 'uint8': case 'int16': case 'uint16': case 'int32': case 'uint32':\n\n\t\t\t\t\treturn parseInt( n );\n\n\t\t\t\tcase 'float': case 'double': case 'float32': case 'float64':\n\n\t\t\t\t\treturn parseFloat( n );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseASCIIElement( properties, line ) {\n\n\t\t\tvar values = line.split( /\\s+/ );\n\n\t\t\tvar element = {};\n\n\t\t\tfor ( var i = 0; i < properties.length; i ++ ) {\n\n\t\t\t\tif ( properties[ i ].type === 'list' ) {\n\n\t\t\t\t\tvar list = [];\n\t\t\t\t\tvar n = parseASCIINumber( values.shift(), properties[ i ].countType );\n\n\t\t\t\t\tfor ( var j = 0; j < n; j ++ ) {\n\n\t\t\t\t\t\tlist.push( parseASCIINumber( values.shift(), properties[ i ].itemType ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\telement[ properties[ i ].name ] = list;\n\n\t\t\t\t} else {\n\n\t\t\t\t\telement[ properties[ i ].name ] = parseASCIINumber( values.shift(), properties[ i ].type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn element;\n\n\t\t}\n\n\t\tfunction parseASCII( data, header ) {\n\n\t\t\t// PLY ascii format specification, as per http://en.wikipedia.org/wiki/PLY_(file_format)\n\n\t\t\tvar buffer = {\n\t\t\t\tindices: [],\n\t\t\t\tvertices: [],\n\t\t\t\tnormals: [],\n\t\t\t\tuvs: [],\n\t\t\t\tfaceVertexUvs: [],\n\t\t\t\tcolors: []\n\t\t\t};\n\n\t\t\tvar result;\n\n\t\t\tvar patternBody = /end_header\\s([\\s\\S]*)$/;\n\t\t\tvar body = '';\n\t\t\tif ( ( result = patternBody.exec( data ) ) !== null ) {\n\n\t\t\t\tbody = result[ 1 ];\n\n\t\t\t}\n\n\t\t\tvar lines = body.split( '\\n' );\n\t\t\tvar currentElement = 0;\n\t\t\tvar currentElementCount = 0;\n\n\t\t\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\t\t\tvar line = lines[ i ];\n\t\t\t\tline = line.trim();\n\t\t\t\tif ( line === '' ) {\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tif ( currentElementCount >= header.elements[ currentElement ].count ) {\n\n\t\t\t\t\tcurrentElement ++;\n\t\t\t\t\tcurrentElementCount = 0;\n\n\t\t\t\t}\n\n\t\t\t\tvar element = parseASCIIElement( header.elements[ currentElement ].properties, line );\n\n\t\t\t\thandleElement( buffer, header.elements[ currentElement ].name, element );\n\n\t\t\t\tcurrentElementCount ++;\n\n\t\t\t}\n\n\t\t\treturn postProcess( buffer );\n\n\t\t}\n\n\t\tfunction postProcess( buffer ) {\n\n\t\t\tvar geometry = new BufferGeometry();\n\n\t\t\t// mandatory buffer data\n\n\t\t\tif ( buffer.indices.length > 0 ) {\n\n\t\t\t\tgeometry.setIndex( buffer.indices );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( buffer.vertices, 3 ) );\n\n\t\t\t// optional buffer data\n\n\t\t\tif ( buffer.normals.length > 0 ) {\n\n\t\t\t\tgeometry.setAttribute( 'normal', new Float32BufferAttribute( buffer.normals, 3 ) );\n\n\t\t\t}\n\n\t\t\tif ( buffer.uvs.length > 0 ) {\n\n\t\t\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( buffer.uvs, 2 ) );\n\n\t\t\t}\n\n\t\t\tif ( buffer.colors.length > 0 ) {\n\n\t\t\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( buffer.colors, 3 ) );\n\n\t\t\t}\n\n\t\t\tif ( buffer.faceVertexUvs.length > 0 ) {\n\n\t\t\t\tgeometry = geometry.toNonIndexed();\n\t\t\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( buffer.faceVertexUvs, 2 ) );\n\n\t\t\t}\n\n\t\t\tgeometry.computeBoundingSphere();\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction handleElement( buffer, elementName, element ) {\n\n\t\t\tif ( elementName === 'vertex' ) {\n\n\t\t\t\tbuffer.vertices.push( element.x, element.y, element.z );\n\n\t\t\t\tif ( 'nx' in element && 'ny' in element && 'nz' in element ) {\n\n\t\t\t\t\tbuffer.normals.push( element.nx, element.ny, element.nz );\n\n\t\t\t\t}\n\n\t\t\t\tif ( 's' in element && 't' in element ) {\n\n\t\t\t\t\tbuffer.uvs.push( element.s, element.t );\n\n\t\t\t\t}\n\n\t\t\t\tif ( 'red' in element && 'green' in element && 'blue' in element ) {\n\n\t\t\t\t\tbuffer.colors.push( element.red / 255.0, element.green / 255.0, element.blue / 255.0 );\n\n\t\t\t\t}\n\n\t\t\t} else if ( elementName === 'face' ) {\n\n\t\t\t\tvar vertex_indices = element.vertex_indices || element.vertex_index; // issue #9338\n\t\t\t\tvar texcoord = element.texcoord;\n\n\t\t\t\tif ( vertex_indices.length === 3 ) {\n\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 0 ], vertex_indices[ 1 ], vertex_indices[ 2 ] );\n\n\t\t\t\t\tif ( texcoord && texcoord.length === 6 ) {\n\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 0 ], texcoord[ 1 ] );\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 2 ], texcoord[ 3 ] );\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 4 ], texcoord[ 5 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( vertex_indices.length === 4 ) {\n\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 0 ], vertex_indices[ 1 ], vertex_indices[ 3 ] );\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 1 ], vertex_indices[ 2 ], vertex_indices[ 3 ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction binaryRead( dataview, at, type, little_endian ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\t// corespondences for non-specific length types here match rply:\n\t\t\t\tcase 'int8':\t\tcase 'char':\t return [ dataview.getInt8( at ), 1 ];\n\t\t\t\tcase 'uint8':\t\tcase 'uchar':\t return [ dataview.getUint8( at ), 1 ];\n\t\t\t\tcase 'int16':\t\tcase 'short':\t return [ dataview.getInt16( at, little_endian ), 2 ];\n\t\t\t\tcase 'uint16':\tcase 'ushort': return [ dataview.getUint16( at, little_endian ), 2 ];\n\t\t\t\tcase 'int32':\t\tcase 'int':\t\t return [ dataview.getInt32( at, little_endian ), 4 ];\n\t\t\t\tcase 'uint32':\tcase 'uint':\t return [ dataview.getUint32( at, little_endian ), 4 ];\n\t\t\t\tcase 'float32': case 'float':\t return [ dataview.getFloat32( at, little_endian ), 4 ];\n\t\t\t\tcase 'float64': case 'double': return [ dataview.getFloat64( at, little_endian ), 8 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction binaryReadElement( dataview, at, properties, little_endian ) {\n\n\t\t\tvar element = {};\n\t\t\tvar result, read = 0;\n\n\t\t\tfor ( var i = 0; i < properties.length; i ++ ) {\n\n\t\t\t\tif ( properties[ i ].type === 'list' ) {\n\n\t\t\t\t\tvar list = [];\n\n\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].countType, little_endian );\n\t\t\t\t\tvar n = result[ 0 ];\n\t\t\t\t\tread += result[ 1 ];\n\n\t\t\t\t\tfor ( var j = 0; j < n; j ++ ) {\n\n\t\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].itemType, little_endian );\n\t\t\t\t\t\tlist.push( result[ 0 ] );\n\t\t\t\t\t\tread += result[ 1 ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\telement[ properties[ i ].name ] = list;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].type, little_endian );\n\t\t\t\t\telement[ properties[ i ].name ] = result[ 0 ];\n\t\t\t\t\tread += result[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn [ element, read ];\n\n\t\t}\n\n\t\tfunction parseBinary( data, header ) {\n\n\t\t\tvar buffer = {\n\t\t\t\tindices: [],\n\t\t\t\tvertices: [],\n\t\t\t\tnormals: [],\n\t\t\t\tuvs: [],\n\t\t\t\tfaceVertexUvs: [],\n\t\t\t\tcolors: []\n\t\t\t};\n\n\t\t\tvar little_endian = ( header.format === 'binary_little_endian' );\n\t\t\tvar body = new DataView( data, header.headerLength );\n\t\t\tvar result, loc = 0;\n\n\t\t\tfor ( var currentElement = 0; currentElement < header.elements.length; currentElement ++ ) {\n\n\t\t\t\tfor ( var currentElementCount = 0; currentElementCount < header.elements[ currentElement ].count; currentElementCount ++ ) {\n\n\t\t\t\t\tresult = binaryReadElement( body, loc, header.elements[ currentElement ].properties, little_endian );\n\t\t\t\t\tloc += result[ 1 ];\n\t\t\t\t\tvar element = result[ 0 ];\n\n\t\t\t\t\thandleElement( buffer, header.elements[ currentElement ].name, element );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn postProcess( buffer );\n\n\t\t}\n\n\t\t//\n\n\t\tvar geometry;\n\t\tvar scope = this;\n\n\t\tif ( data instanceof ArrayBuffer ) {\n\n\t\t\tvar text = LoaderUtils.decodeText( new Uint8Array( data ) );\n\t\t\tvar header = parseHeader( text );\n\n\t\t\tgeometry = header.format === 'ascii' ? parseASCII( text, header ) : parseBinary( data, header );\n\n\t\t} else {\n\n\t\t\tgeometry = parseASCII( data, parseHeader( data ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n\n\n// CONCATENATED MODULE: ./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!./node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!./node_modules/_babel-loader@8.1.0@babel-loader/lib!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./src/model-ply.vue?vue&type=script&lang=js&\n\n\n\n/* harmony default export */ var model_plyvue_type_script_lang_js_ = ({\n  name: 'model-ply',\n  mixins: [model_mixin],\n  props: {\n    lights: {\n      type: Array,\n      default: function _default() {\n        return [{\n          type: 'HemisphereLight',\n          position: {\n            x: 0,\n            y: 1,\n            z: 0\n          },\n          skyColor: 0xaaaaff,\n          groundColor: 0x806060,\n          intensity: 0.2\n        }, {\n          type: 'DirectionalLight',\n          position: {\n            x: 1,\n            y: 1,\n            z: 1\n          },\n          color: 0xffffff,\n          intensity: 0.8\n        }];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      loader: new PLYLoader()\n    };\n  },\n  methods: {\n    getObject: function getObject(geometry) {\n      geometry.computeVertexNormals();\n      return new Mesh(geometry, new MeshStandardMaterial());\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/model-ply.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_model_plyvue_type_script_lang_js_ = (model_plyvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/model-ply.vue\nvar model_ply_render, model_ply_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar model_ply_component = normalizeComponent(\n  src_model_plyvue_type_script_lang_js_,\n  model_ply_render,\n  model_ply_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var model_ply = (model_ply_component.exports);\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/loaders/TGALoader.js\n/**\n * @author Daosheng Mu / https://github.com/DaoshengMu/\n * @author mrdoob / http://mrdoob.com/\n * @author takahirox / https://github.com/takahirox/\n */\n\n\n\nvar TGALoader = function ( manager ) {\n\n\tLoader.call( this, manager );\n\n};\n\nTGALoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: TGALoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texture = new Texture();\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttexture.image = scope.parse( buffer );\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t},\n\n\tparse: function ( buffer ) {\n\n\t\t// reference from vthibault, https://github.com/vthibault/roBrowser/blob/master/src/Loaders/Targa.js\n\n\t\tfunction tgaCheckHeader( header ) {\n\n\t\t\tswitch ( header.image_type ) {\n\n\t\t\t\t// check indexed type\n\n\t\t\t\tcase TGA_TYPE_INDEXED:\n\t\t\t\tcase TGA_TYPE_RLE_INDEXED:\n\t\t\t\t\tif ( header.colormap_length > 256 || header.colormap_size !== 24 || header.colormap_type !== 1 ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for indexed type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t\t// check colormap type\n\n\t\t\t\tcase TGA_TYPE_RGB:\n\t\t\t\tcase TGA_TYPE_GREY:\n\t\t\t\tcase TGA_TYPE_RLE_RGB:\n\t\t\t\tcase TGA_TYPE_RLE_GREY:\n\t\t\t\t\tif ( header.colormap_type ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for colormap type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t\t// What the need of a file without data ?\n\n\t\t\t\tcase TGA_TYPE_NO_DATA:\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\n\n\t\t\t\t\t// Invalid type ?\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type \"%s\".', header.image_type );\n\n\t\t\t}\n\n\t\t\t// check image width and height\n\n\t\t\tif ( header.width <= 0 || header.height <= 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid image size.' );\n\n\t\t\t}\n\n\t\t\t// check image pixel size\n\n\t\t\tif ( header.pixel_size !== 8 && header.pixel_size !== 16 &&\n\t\t\t\theader.pixel_size !== 24 && header.pixel_size !== 32 ) {\n\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid pixel size \"%s\".', header.pixel_size );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// parse tga image buffer\n\n\t\tfunction tgaParse( use_rle, use_pal, header, offset, data ) {\n\n\t\t\tvar pixel_data,\n\t\t\t\tpixel_size,\n\t\t\t\tpixel_total,\n\t\t\t\tpalettes;\n\n\t\t\tpixel_size = header.pixel_size >> 3;\n\t\t\tpixel_total = header.width * header.height * pixel_size;\n\n\t\t\t // read palettes\n\n\t\t\t if ( use_pal ) {\n\n\t\t\t\t palettes = data.subarray( offset, offset += header.colormap_length * ( header.colormap_size >> 3 ) );\n\n\t\t\t }\n\n\t\t\t // read RLE\n\n\t\t\t if ( use_rle ) {\n\n\t\t\t\t pixel_data = new Uint8Array( pixel_total );\n\n\t\t\t\tvar c, count, i;\n\t\t\t\tvar shift = 0;\n\t\t\t\tvar pixels = new Uint8Array( pixel_size );\n\n\t\t\t\twhile ( shift < pixel_total ) {\n\n\t\t\t\t\tc = data[ offset ++ ];\n\t\t\t\t\tcount = ( c & 0x7f ) + 1;\n\n\t\t\t\t\t// RLE pixels\n\n\t\t\t\t\tif ( c & 0x80 ) {\n\n\t\t\t\t\t\t// bind pixel tmp array\n\n\t\t\t\t\t\tfor ( i = 0; i < pixel_size; ++ i ) {\n\n\t\t\t\t\t\t\tpixels[ i ] = data[ offset ++ ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// copy pixel array\n\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\n\n\t\t\t\t\t\t\tpixel_data.set( pixels, shift + i * pixel_size );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tshift += pixel_size * count;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// raw pixels\n\n\t\t\t\t\t\tcount *= pixel_size;\n\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\n\n\t\t\t\t\t\t\tpixel_data[ shift + i ] = data[ offset ++ ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tshift += count;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t } else {\n\n\t\t\t\t// raw pixels\n\n\t\t\t\tpixel_data = data.subarray(\n\t\t\t\t\t offset, offset += ( use_pal ? header.width * header.height : pixel_total )\n\t\t\t\t);\n\n\t\t\t }\n\n\t\t\t return {\n\t\t\t\tpixel_data: pixel_data,\n\t\t\t\tpalettes: palettes\n\t\t\t };\n\n\t\t}\n\n\t\tfunction tgaGetImageData8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image, palettes ) {\n\n\t\t\tvar colormap = palettes;\n\t\t\tvar color, i = 0, x, y;\n\t\t\tvar width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\n\n\t\t\t\t\tcolor = image[ i ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = colormap[ ( color * 3 ) + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = colormap[ ( color * 3 ) + 1 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = colormap[ ( color * 3 ) + 2 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageData16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tvar color, i = 0, x, y;\n\t\t\tvar width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\n\n\t\t\t\t\tcolor = image[ i + 0 ] + ( image[ i + 1 ] << 8 ); // Inversed ?\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = ( color & 0x7C00 ) >> 7;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = ( color & 0x03E0 ) >> 2;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = ( color & 0x001F ) >> 3;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = ( color & 0x8000 ) ? 0 : 255;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageData24bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tvar i = 0, x, y;\n\t\t\tvar width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 3 ) {\n\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageData32bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tvar i = 0, x, y;\n\t\t\tvar width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 4 ) {\n\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 3 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageDataGrey8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tvar color, i = 0, x, y;\n\t\t\tvar width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\n\n\t\t\t\t\tcolor = image[ i ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = color;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = color;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = color;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageDataGrey16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tvar i = 0, x, y;\n\t\t\tvar width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\n\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 1 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction getTgaRGBA( data, width, height, image, palette ) {\n\n\t\t\tvar x_start,\n\t\t\t\ty_start,\n\t\t\t\tx_step,\n\t\t\t\ty_step,\n\t\t\t\tx_end,\n\t\t\t\ty_end;\n\n\t\t\tswitch ( ( header.flags & TGA_ORIGIN_MASK ) >> TGA_ORIGIN_SHIFT ) {\n\n\t\t\t\tdefault:\n\t\t\t\tcase TGA_ORIGIN_UL:\n\t\t\t\t\tx_start = 0;\n\t\t\t\t\tx_step = 1;\n\t\t\t\t\tx_end = width;\n\t\t\t\t\ty_start = 0;\n\t\t\t\t\ty_step = 1;\n\t\t\t\t\ty_end = height;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TGA_ORIGIN_BL:\n\t\t\t\t\tx_start = 0;\n\t\t\t\t\tx_step = 1;\n\t\t\t\t\tx_end = width;\n\t\t\t\t\ty_start = height - 1;\n\t\t\t\t\ty_step = - 1;\n\t\t\t\t\ty_end = - 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TGA_ORIGIN_UR:\n\t\t\t\t\tx_start = width - 1;\n\t\t\t\t\tx_step = - 1;\n\t\t\t\t\tx_end = - 1;\n\t\t\t\t\ty_start = 0;\n\t\t\t\t\ty_step = 1;\n\t\t\t\t\ty_end = height;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TGA_ORIGIN_BR:\n\t\t\t\t\tx_start = width - 1;\n\t\t\t\t\tx_step = - 1;\n\t\t\t\t\tx_end = - 1;\n\t\t\t\t\ty_start = height - 1;\n\t\t\t\t\ty_step = - 1;\n\t\t\t\t\ty_end = - 1;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( use_grey ) {\n\n\t\t\t\tswitch ( header.pixel_size ) {\n\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\ttgaGetImageDataGrey8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 16:\n\t\t\t\t\t\ttgaGetImageDataGrey16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( header.pixel_size ) {\n\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\ttgaGetImageData8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image, palette );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 16:\n\t\t\t\t\t\ttgaGetImageData16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 24:\n\t\t\t\t\t\ttgaGetImageData24bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\ttgaGetImageData32bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Load image data according to specific method\n\t\t\t// var func = 'tgaGetImageData' + (use_grey ? 'Grey' : '') + (header.pixel_size) + 'bits';\n\t\t\t// func(data, y_start, y_step, y_end, x_start, x_step, x_end, width, image, palette );\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// TGA constants\n\n\t\tvar TGA_TYPE_NO_DATA = 0,\n\t\t\tTGA_TYPE_INDEXED = 1,\n\t\t\tTGA_TYPE_RGB = 2,\n\t\t\tTGA_TYPE_GREY = 3,\n\t\t\tTGA_TYPE_RLE_INDEXED = 9,\n\t\t\tTGA_TYPE_RLE_RGB = 10,\n\t\t\tTGA_TYPE_RLE_GREY = 11,\n\n\t\t\tTGA_ORIGIN_MASK = 0x30,\n\t\t\tTGA_ORIGIN_SHIFT = 0x04,\n\t\t\tTGA_ORIGIN_BL = 0x00,\n\t\t\tTGA_ORIGIN_BR = 0x01,\n\t\t\tTGA_ORIGIN_UL = 0x02,\n\t\t\tTGA_ORIGIN_UR = 0x03;\n\n\t\tif ( buffer.length < 19 ) console.error( 'THREE.TGALoader: Not enough data to contain header.' );\n\n\t\tvar content = new Uint8Array( buffer ),\n\t\t\toffset = 0,\n\t\t\theader = {\n\t\t\t\tid_length: content[ offset ++ ],\n\t\t\t\tcolormap_type: content[ offset ++ ],\n\t\t\t\timage_type: content[ offset ++ ],\n\t\t\t\tcolormap_index: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\tcolormap_length: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\tcolormap_size: content[ offset ++ ],\n\t\t\t\torigin: [\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8\n\t\t\t\t],\n\t\t\t\twidth: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\theight: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\tpixel_size: content[ offset ++ ],\n\t\t\t\tflags: content[ offset ++ ]\n\t\t\t};\n\n\t\t// check tga if it is valid format\n\n\t\ttgaCheckHeader( header );\n\n\t\tif ( header.id_length + offset > buffer.length ) {\n\n\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\n\n\t\t}\n\n\t\t// skip the needn't data\n\n\t\toffset += header.id_length;\n\n\t\t// get targa information about RLE compression and palette\n\n\t\tvar use_rle = false,\n\t\t\tuse_pal = false,\n\t\t\tuse_grey = false;\n\n\t\tswitch ( header.image_type ) {\n\n\t\t\tcase TGA_TYPE_RLE_INDEXED:\n\t\t\t\tuse_rle = true;\n\t\t\t\tuse_pal = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_INDEXED:\n\t\t\t\tuse_pal = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_RLE_RGB:\n\t\t\t\tuse_rle = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_RGB:\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_RLE_GREY:\n\t\t\t\tuse_rle = true;\n\t\t\t\tuse_grey = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_GREY:\n\t\t\t\tuse_grey = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t//\n\n\t\tvar useOffscreen = typeof OffscreenCanvas !== 'undefined';\n\n\t\tvar canvas = useOffscreen ? new OffscreenCanvas( header.width, header.height ) : document.createElement( 'canvas' );\n\t\tcanvas.width = header.width;\n\t\tcanvas.height = header.height;\n\n\t\tvar context = canvas.getContext( '2d' );\n\t\tvar imageData = context.createImageData( header.width, header.height );\n\n\t\tvar result = tgaParse( use_rle, use_pal, header, offset, content );\n\t\tgetTgaRGBA( imageData.data, header.width, header.height, result.pixel_data, result.palettes );\n\n\t\tcontext.putImageData( imageData, 0, 0 );\n\n\t\treturn useOffscreen ? canvas.transferToImageBitmap() : canvas;\n\n\t}\n\n} );\n\n\n\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/loaders/ColladaLoader.js\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n\n\n\nvar ColladaLoader = function ( manager ) {\n\n\tLoader.call( this, manager );\n\n};\n\nColladaLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ColladaLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar path = ( scope.path === '' ) ? LoaderUtils.extractUrlBase( url ) : scope.path;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text, path ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\toptions: {\n\n\t\tset convertUpAxis( value ) {\n\n\t\t\tconsole.warn( 'THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.' );\n\n\t\t}\n\n\t},\n\n\tparse: function ( text, path ) {\n\n\t\tfunction getElementsByTagName( xml, name ) {\n\n\t\t\t// Non recursive xml.getElementsByTagName() ...\n\n\t\t\tvar array = [];\n\t\t\tvar childNodes = xml.childNodes;\n\n\t\t\tfor ( var i = 0, l = childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = childNodes[ i ];\n\n\t\t\t\tif ( child.nodeName === name ) {\n\n\t\t\t\t\tarray.push( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseStrings( text ) {\n\n\t\t\tif ( text.length === 0 ) return [];\n\n\t\t\tvar parts = text.trim().split( /\\s+/ );\n\t\t\tvar array = new Array( parts.length );\n\n\t\t\tfor ( var i = 0, l = parts.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ] = parts[ i ];\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseFloats( text ) {\n\n\t\t\tif ( text.length === 0 ) return [];\n\n\t\t\tvar parts = text.trim().split( /\\s+/ );\n\t\t\tvar array = new Array( parts.length );\n\n\t\t\tfor ( var i = 0, l = parts.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ] = parseFloat( parts[ i ] );\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseInts( text ) {\n\n\t\t\tif ( text.length === 0 ) return [];\n\n\t\t\tvar parts = text.trim().split( /\\s+/ );\n\t\t\tvar array = new Array( parts.length );\n\n\t\t\tfor ( var i = 0, l = parts.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ] = parseInt( parts[ i ] );\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseId( text ) {\n\n\t\t\treturn text.substring( 1 );\n\n\t\t}\n\n\t\tfunction generateId() {\n\n\t\t\treturn 'three_default_' + ( count ++ );\n\n\t\t}\n\n\t\tfunction isEmpty( object ) {\n\n\t\t\treturn Object.keys( object ).length === 0;\n\n\t\t}\n\n\t\t// asset\n\n\t\tfunction parseAsset( xml ) {\n\n\t\t\treturn {\n\t\t\t\tunit: parseAssetUnit( getElementsByTagName( xml, 'unit' )[ 0 ] ),\n\t\t\t\tupAxis: parseAssetUpAxis( getElementsByTagName( xml, 'up_axis' )[ 0 ] )\n\t\t\t};\n\n\t\t}\n\n\t\tfunction parseAssetUnit( xml ) {\n\n\t\t\tif ( ( xml !== undefined ) && ( xml.hasAttribute( 'meter' ) === true ) ) {\n\n\t\t\t\treturn parseFloat( xml.getAttribute( 'meter' ) );\n\n\t\t\t} else {\n\n\t\t\t\treturn 1; // default 1 meter\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseAssetUpAxis( xml ) {\n\n\t\t\treturn xml !== undefined ? xml.textContent : 'Y_UP';\n\n\t\t}\n\n\t\t// library\n\n\t\tfunction parseLibrary( xml, libraryName, nodeName, parser ) {\n\n\t\t\tvar library = getElementsByTagName( xml, libraryName )[ 0 ];\n\n\t\t\tif ( library !== undefined ) {\n\n\t\t\t\tvar elements = getElementsByTagName( library, nodeName );\n\n\t\t\t\tfor ( var i = 0; i < elements.length; i ++ ) {\n\n\t\t\t\t\tparser( elements[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction buildLibrary( data, builder ) {\n\n\t\t\tfor ( var name in data ) {\n\n\t\t\t\tvar object = data[ name ];\n\t\t\t\tobject.build = builder( data[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// get\n\n\t\tfunction getBuild( data, builder ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\tdata.build = builder( data );\n\n\t\t\treturn data.build;\n\n\t\t}\n\n\t\t// animation\n\n\t\tfunction parseAnimation( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tsources: {},\n\t\t\t\tsamplers: {},\n\t\t\t\tchannels: {}\n\t\t\t};\n\n\t\t\tvar hasChildren = false;\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tvar id;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tid = child.getAttribute( 'id' );\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'sampler':\n\t\t\t\t\t\tid = child.getAttribute( 'id' );\n\t\t\t\t\t\tdata.samplers[ id ] = parseAnimationSampler( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'channel':\n\t\t\t\t\t\tid = child.getAttribute( 'target' );\n\t\t\t\t\t\tdata.channels[ id ] = parseAnimationChannel( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'animation':\n\t\t\t\t\t\t// hierarchy of related animations\n\t\t\t\t\t\tparseAnimation( child );\n\t\t\t\t\t\thasChildren = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.log( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasChildren === false ) {\n\n\t\t\t\t// since 'id' attributes can be optional, it's necessary to generate a UUID for unqiue assignment\n\n\t\t\t\tlibrary.animations[ xml.getAttribute( 'id' ) || MathUtils.generateUUID() ] = data;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseAnimationSampler( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tinputs: {},\n\t\t\t};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tvar id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tvar semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tdata.inputs[ semantic ] = id;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseAnimationChannel( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tvar target = xml.getAttribute( 'target' );\n\n\t\t\t// parsing SID Addressing Syntax\n\n\t\t\tvar parts = target.split( '/' );\n\n\t\t\tvar id = parts.shift();\n\t\t\tvar sid = parts.shift();\n\n\t\t\t// check selection syntax\n\n\t\t\tvar arraySyntax = ( sid.indexOf( '(' ) !== - 1 );\n\t\t\tvar memberSyntax = ( sid.indexOf( '.' ) !== - 1 );\n\n\t\t\tif ( memberSyntax ) {\n\n\t\t\t\t//  member selection access\n\n\t\t\t\tparts = sid.split( '.' );\n\t\t\t\tsid = parts.shift();\n\t\t\t\tdata.member = parts.shift();\n\n\t\t\t} else if ( arraySyntax ) {\n\n\t\t\t\t// array-access syntax. can be used to express fields in one-dimensional vectors or two-dimensional matrices.\n\n\t\t\t\tvar indices = sid.split( '(' );\n\t\t\t\tsid = indices.shift();\n\n\t\t\t\tfor ( var i = 0; i < indices.length; i ++ ) {\n\n\t\t\t\t\tindices[ i ] = parseInt( indices[ i ].replace( /\\)/, '' ) );\n\n\t\t\t\t}\n\n\t\t\t\tdata.indices = indices;\n\n\t\t\t}\n\n\t\t\tdata.id = id;\n\t\t\tdata.sid = sid;\n\n\t\t\tdata.arraySyntax = arraySyntax;\n\t\t\tdata.memberSyntax = memberSyntax;\n\n\t\t\tdata.sampler = parseId( xml.getAttribute( 'source' ) );\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildAnimation( data ) {\n\n\t\t\tvar tracks = [];\n\n\t\t\tvar channels = data.channels;\n\t\t\tvar samplers = data.samplers;\n\t\t\tvar sources = data.sources;\n\n\t\t\tfor ( var target in channels ) {\n\n\t\t\t\tif ( channels.hasOwnProperty( target ) ) {\n\n\t\t\t\t\tvar channel = channels[ target ];\n\t\t\t\t\tvar sampler = samplers[ channel.sampler ];\n\n\t\t\t\t\tvar inputId = sampler.inputs.INPUT;\n\t\t\t\t\tvar outputId = sampler.inputs.OUTPUT;\n\n\t\t\t\t\tvar inputSource = sources[ inputId ];\n\t\t\t\t\tvar outputSource = sources[ outputId ];\n\n\t\t\t\t\tvar animation = buildAnimationChannel( channel, inputSource, outputSource );\n\n\t\t\t\t\tcreateKeyframeTracks( animation, tracks );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn tracks;\n\n\t\t}\n\n\t\tfunction getAnimation( id ) {\n\n\t\t\treturn getBuild( library.animations[ id ], buildAnimation );\n\n\t\t}\n\n\t\tfunction buildAnimationChannel( channel, inputSource, outputSource ) {\n\n\t\t\tvar node = library.nodes[ channel.id ];\n\t\t\tvar object3D = getNode( node.id );\n\n\t\t\tvar transform = node.transforms[ channel.sid ];\n\t\t\tvar defaultMatrix = node.matrix.clone().transpose();\n\n\t\t\tvar time, stride;\n\t\t\tvar i, il, j, jl;\n\n\t\t\tvar data = {};\n\n\t\t\t// the collada spec allows the animation of data in various ways.\n\t\t\t// depending on the transform type (matrix, translate, rotate, scale), we execute different logic\n\n\t\t\tswitch ( transform ) {\n\n\t\t\t\tcase 'matrix':\n\n\t\t\t\t\tfor ( i = 0, il = inputSource.array.length; i < il; i ++ ) {\n\n\t\t\t\t\t\ttime = inputSource.array[ i ];\n\t\t\t\t\t\tstride = i * outputSource.stride;\n\n\t\t\t\t\t\tif ( data[ time ] === undefined ) data[ time ] = {};\n\n\t\t\t\t\t\tif ( channel.arraySyntax === true ) {\n\n\t\t\t\t\t\t\tvar value = outputSource.array[ stride ];\n\t\t\t\t\t\t\tvar index = channel.indices[ 0 ] + 4 * channel.indices[ 1 ];\n\n\t\t\t\t\t\t\tdata[ time ][ index ] = value;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( j = 0, jl = outputSource.stride; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\t\tdata[ time ][ j ] = outputSource.array[ stride + j ];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'translate':\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'scale':\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tvar keyframes = prepareAnimationData( data, defaultMatrix );\n\n\t\t\tvar animation = {\n\t\t\t\tname: object3D.uuid,\n\t\t\t\tkeyframes: keyframes\n\t\t\t};\n\n\t\t\treturn animation;\n\n\t\t}\n\n\t\tfunction prepareAnimationData( data, defaultMatrix ) {\n\n\t\t\tvar keyframes = [];\n\n\t\t\t// transfer data into a sortable array\n\n\t\t\tfor ( var time in data ) {\n\n\t\t\t\tkeyframes.push( { time: parseFloat( time ), value: data[ time ] } );\n\n\t\t\t}\n\n\t\t\t// ensure keyframes are sorted by time\n\n\t\t\tkeyframes.sort( ascending );\n\n\t\t\t// now we clean up all animation data, so we can use them for keyframe tracks\n\n\t\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\t\ttransformAnimationData( keyframes, i, defaultMatrix.elements[ i ] );\n\n\t\t\t}\n\n\t\t\treturn keyframes;\n\n\t\t\t// array sort function\n\n\t\t\tfunction ascending( a, b ) {\n\n\t\t\t\treturn a.time - b.time;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar position = new Vector3();\n\t\tvar scale = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\n\t\tfunction createKeyframeTracks( animation, tracks ) {\n\n\t\t\tvar keyframes = animation.keyframes;\n\t\t\tvar name = animation.name;\n\n\t\t\tvar times = [];\n\t\t\tvar positionData = [];\n\t\t\tvar quaternionData = [];\n\t\t\tvar scaleData = [];\n\n\t\t\tfor ( var i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\tvar keyframe = keyframes[ i ];\n\n\t\t\t\tvar time = keyframe.time;\n\t\t\t\tvar value = keyframe.value;\n\n\t\t\t\tmatrix.fromArray( value ).transpose();\n\t\t\t\tmatrix.decompose( position, quaternion, scale );\n\n\t\t\t\ttimes.push( time );\n\t\t\t\tpositionData.push( position.x, position.y, position.z );\n\t\t\t\tquaternionData.push( quaternion.x, quaternion.y, quaternion.z, quaternion.w );\n\t\t\t\tscaleData.push( scale.x, scale.y, scale.z );\n\n\t\t\t}\n\n\t\t\tif ( positionData.length > 0 ) tracks.push( new VectorKeyframeTrack( name + '.position', times, positionData ) );\n\t\t\tif ( quaternionData.length > 0 ) tracks.push( new QuaternionKeyframeTrack( name + '.quaternion', times, quaternionData ) );\n\t\t\tif ( scaleData.length > 0 ) tracks.push( new VectorKeyframeTrack( name + '.scale', times, scaleData ) );\n\n\t\t\treturn tracks;\n\n\t\t}\n\n\t\tfunction transformAnimationData( keyframes, property, defaultValue ) {\n\n\t\t\tvar keyframe;\n\n\t\t\tvar empty = true;\n\t\t\tvar i, l;\n\n\t\t\t// check, if values of a property are missing in our keyframes\n\n\t\t\tfor ( i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\tkeyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] === undefined ) {\n\n\t\t\t\t\tkeyframe.value[ property ] = null; // mark as missing\n\n\t\t\t\t} else {\n\n\t\t\t\t\tempty = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( empty === true ) {\n\n\t\t\t\t// no values at all, so we set a default value\n\n\t\t\t\tfor ( i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\t\tkeyframe = keyframes[ i ];\n\n\t\t\t\t\tkeyframe.value[ property ] = defaultValue;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// filling gaps\n\n\t\t\t\tcreateMissingKeyframes( keyframes, property );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction createMissingKeyframes( keyframes, property ) {\n\n\t\t\tvar prev, next;\n\n\t\t\tfor ( var i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\tvar keyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] === null ) {\n\n\t\t\t\t\tprev = getPrev( keyframes, i, property );\n\t\t\t\t\tnext = getNext( keyframes, i, property );\n\n\t\t\t\t\tif ( prev === null ) {\n\n\t\t\t\t\t\tkeyframe.value[ property ] = next.value[ property ];\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( next === null ) {\n\n\t\t\t\t\t\tkeyframe.value[ property ] = prev.value[ property ];\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tinterpolate( keyframe, prev, next, property );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction getPrev( keyframes, i, property ) {\n\n\t\t\twhile ( i >= 0 ) {\n\n\t\t\t\tvar keyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] !== null ) return keyframe;\n\n\t\t\t\ti --;\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfunction getNext( keyframes, i, property ) {\n\n\t\t\twhile ( i < keyframes.length ) {\n\n\t\t\t\tvar keyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] !== null ) return keyframe;\n\n\t\t\t\ti ++;\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfunction interpolate( key, prev, next, property ) {\n\n\t\t\tif ( ( next.time - prev.time ) === 0 ) {\n\n\t\t\t\tkey.value[ property ] = prev.value[ property ];\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tkey.value[ property ] = ( ( key.time - prev.time ) * ( next.value[ property ] - prev.value[ property ] ) / ( next.time - prev.time ) ) + prev.value[ property ];\n\n\t\t}\n\n\t\t// animation clips\n\n\t\tfunction parseAnimationClip( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tname: xml.getAttribute( 'id' ) || 'default',\n\t\t\t\tstart: parseFloat( xml.getAttribute( 'start' ) || 0 ),\n\t\t\t\tend: parseFloat( xml.getAttribute( 'end' ) || 0 ),\n\t\t\t\tanimations: []\n\t\t\t};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'instance_animation':\n\t\t\t\t\t\tdata.animations.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.clips[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildAnimationClip( data ) {\n\n\t\t\tvar tracks = [];\n\n\t\t\tvar name = data.name;\n\t\t\tvar duration = ( data.end - data.start ) || - 1;\n\t\t\tvar animations = data.animations;\n\n\t\t\tfor ( var i = 0, il = animations.length; i < il; i ++ ) {\n\n\t\t\t\tvar animationTracks = getAnimation( animations[ i ] );\n\n\t\t\t\tfor ( var j = 0, jl = animationTracks.length; j < jl; j ++ ) {\n\n\t\t\t\t\ttracks.push( animationTracks[ j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new AnimationClip( name, duration, tracks );\n\n\t\t}\n\n\t\tfunction getAnimationClip( id ) {\n\n\t\t\treturn getBuild( library.clips[ id ], buildAnimationClip );\n\n\t\t}\n\n\t\t// controller\n\n\t\tfunction parseController( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'skin':\n\t\t\t\t\t\t// there is exactly one skin per controller\n\t\t\t\t\t\tdata.id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tdata.skin = parseSkin( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'morph':\n\t\t\t\t\t\tdata.id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Morph target animation not supported yet.' );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.controllers[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseSkin( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tsources: {}\n\t\t\t};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'bind_shape_matrix':\n\t\t\t\t\t\tdata.bindShapeMatrix = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tvar id = child.getAttribute( 'id' );\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'joints':\n\t\t\t\t\t\tdata.joints = parseJoints( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vertex_weights':\n\t\t\t\t\t\tdata.vertexWeights = parseVertexWeights( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseJoints( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tinputs: {}\n\t\t\t};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tvar semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tvar id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tdata.inputs[ semantic ] = id;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseVertexWeights( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tinputs: {}\n\t\t\t};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tvar semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tvar id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tvar offset = parseInt( child.getAttribute( 'offset' ) );\n\t\t\t\t\t\tdata.inputs[ semantic ] = { id: id, offset: offset };\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vcount':\n\t\t\t\t\t\tdata.vcount = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tdata.v = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildController( data ) {\n\n\t\t\tvar build = {\n\t\t\t\tid: data.id\n\t\t\t};\n\n\t\t\tvar geometry = library.geometries[ build.id ];\n\n\t\t\tif ( data.skin !== undefined ) {\n\n\t\t\t\tbuild.skin = buildSkin( data.skin );\n\n\t\t\t\t// we enhance the 'sources' property of the corresponding geometry with our skin data\n\n\t\t\t\tgeometry.sources.skinIndices = build.skin.indices;\n\t\t\t\tgeometry.sources.skinWeights = build.skin.weights;\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction buildSkin( data ) {\n\n\t\t\tvar BONE_LIMIT = 4;\n\n\t\t\tvar build = {\n\t\t\t\tjoints: [], // this must be an array to preserve the joint order\n\t\t\t\tindices: {\n\t\t\t\t\tarray: [],\n\t\t\t\t\tstride: BONE_LIMIT\n\t\t\t\t},\n\t\t\t\tweights: {\n\t\t\t\t\tarray: [],\n\t\t\t\t\tstride: BONE_LIMIT\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar sources = data.sources;\n\t\t\tvar vertexWeights = data.vertexWeights;\n\n\t\t\tvar vcount = vertexWeights.vcount;\n\t\t\tvar v = vertexWeights.v;\n\t\t\tvar jointOffset = vertexWeights.inputs.JOINT.offset;\n\t\t\tvar weightOffset = vertexWeights.inputs.WEIGHT.offset;\n\n\t\t\tvar jointSource = data.sources[ data.joints.inputs.JOINT ];\n\t\t\tvar inverseSource = data.sources[ data.joints.inputs.INV_BIND_MATRIX ];\n\n\t\t\tvar weights = sources[ vertexWeights.inputs.WEIGHT.id ].array;\n\t\t\tvar stride = 0;\n\n\t\t\tvar i, j, l;\n\n\t\t\t// procces skin data for each vertex\n\n\t\t\tfor ( i = 0, l = vcount.length; i < l; i ++ ) {\n\n\t\t\t\tvar jointCount = vcount[ i ]; // this is the amount of joints that affect a single vertex\n\t\t\t\tvar vertexSkinData = [];\n\n\t\t\t\tfor ( j = 0; j < jointCount; j ++ ) {\n\n\t\t\t\t\tvar skinIndex = v[ stride + jointOffset ];\n\t\t\t\t\tvar weightId = v[ stride + weightOffset ];\n\t\t\t\t\tvar skinWeight = weights[ weightId ];\n\n\t\t\t\t\tvertexSkinData.push( { index: skinIndex, weight: skinWeight } );\n\n\t\t\t\t\tstride += 2;\n\n\t\t\t\t}\n\n\t\t\t\t// we sort the joints in descending order based on the weights.\n\t\t\t\t// this ensures, we only procced the most important joints of the vertex\n\n\t\t\t\tvertexSkinData.sort( descending );\n\n\t\t\t\t// now we provide for each vertex a set of four index and weight values.\n\t\t\t\t// the order of the skin data matches the order of vertices\n\n\t\t\t\tfor ( j = 0; j < BONE_LIMIT; j ++ ) {\n\n\t\t\t\t\tvar d = vertexSkinData[ j ];\n\n\t\t\t\t\tif ( d !== undefined ) {\n\n\t\t\t\t\t\tbuild.indices.array.push( d.index );\n\t\t\t\t\t\tbuild.weights.array.push( d.weight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tbuild.indices.array.push( 0 );\n\t\t\t\t\t\tbuild.weights.array.push( 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// setup bind matrix\n\n\t\t\tif ( data.bindShapeMatrix ) {\n\n\t\t\t\tbuild.bindMatrix = new Matrix4().fromArray( data.bindShapeMatrix ).transpose();\n\n\t\t\t} else {\n\n\t\t\t\tbuild.bindMatrix = new Matrix4().identity();\n\n\t\t\t}\n\n\t\t\t// process bones and inverse bind matrix data\n\n\t\t\tfor ( i = 0, l = jointSource.array.length; i < l; i ++ ) {\n\n\t\t\t\tvar name = jointSource.array[ i ];\n\t\t\t\tvar boneInverse = new Matrix4().fromArray( inverseSource.array, i * inverseSource.stride ).transpose();\n\n\t\t\t\tbuild.joints.push( { name: name, boneInverse: boneInverse } );\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t\t// array sort function\n\n\t\t\tfunction descending( a, b ) {\n\n\t\t\t\treturn b.weight - a.weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction getController( id ) {\n\n\t\t\treturn getBuild( library.controllers[ id ], buildController );\n\n\t\t}\n\n\t\t// image\n\n\t\tfunction parseImage( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tinit_from: getElementsByTagName( xml, 'init_from' )[ 0 ].textContent\n\t\t\t};\n\n\t\t\tlibrary.images[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildImage( data ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\treturn data.init_from;\n\n\t\t}\n\n\t\tfunction getImage( id ) {\n\n\t\t\tvar data = library.images[ id ];\n\n\t\t\tif ( data !== undefined ) {\n\n\t\t\t\treturn getBuild( data, buildImage );\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t find image with ID:', id );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// effect\n\n\t\tfunction parseEffect( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'profile_COMMON':\n\t\t\t\t\t\tdata.profile = parseEffectProfileCOMMON( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.effects[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseEffectProfileCOMMON( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tsurfaces: {},\n\t\t\t\tsamplers: {}\n\t\t\t};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'newparam':\n\t\t\t\t\t\tparseEffectNewparam( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'technique':\n\t\t\t\t\t\tdata.technique = parseEffectTechnique( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\tdata.extra = parseEffectExtra( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectNewparam( xml, data ) {\n\n\t\t\tvar sid = xml.getAttribute( 'sid' );\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'surface':\n\t\t\t\t\t\tdata.surfaces[ sid ] = parseEffectSurface( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'sampler2D':\n\t\t\t\t\t\tdata.samplers[ sid ] = parseEffectSampler( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseEffectSurface( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'init_from':\n\t\t\t\t\t\tdata.init_from = child.textContent;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectSampler( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tdata.source = child.textContent;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectTechnique( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'constant':\n\t\t\t\t\tcase 'lambert':\n\t\t\t\t\tcase 'blinn':\n\t\t\t\t\tcase 'phong':\n\t\t\t\t\t\tdata.type = child.nodeName;\n\t\t\t\t\t\tdata.parameters = parseEffectParameters( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameters( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'emission':\n\t\t\t\t\tcase 'diffuse':\n\t\t\t\t\tcase 'specular':\n\t\t\t\t\tcase 'bump':\n\t\t\t\t\tcase 'ambient':\n\t\t\t\t\tcase 'shininess':\n\t\t\t\t\tcase 'transparency':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseEffectParameter( child );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'transparent':\n\t\t\t\t\t\tdata[ child.nodeName ] = {\n\t\t\t\t\t\t\topaque: child.getAttribute( 'opaque' ),\n\t\t\t\t\t\t\tdata: parseEffectParameter( child )\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameter( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'float':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'texture':\n\t\t\t\t\t\tdata[ child.nodeName ] = { id: child.getAttribute( 'texture' ), extra: parseEffectParameterTexture( child ) };\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameterTexture( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\ttechnique: {}\n\t\t\t};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\tparseEffectParameterTextureExtra( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameterTextureExtra( xml, data ) {\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique':\n\t\t\t\t\t\tparseEffectParameterTextureExtraTechnique( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseEffectParameterTextureExtraTechnique( xml, data ) {\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'repeatU':\n\t\t\t\t\tcase 'repeatV':\n\t\t\t\t\tcase 'offsetU':\n\t\t\t\t\tcase 'offsetV':\n\t\t\t\t\t\tdata.technique[ child.nodeName ] = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'wrapU':\n\t\t\t\t\tcase 'wrapV':\n\n\t\t\t\t\t\t// some files have values for wrapU/wrapV which become NaN via parseInt\n\n\t\t\t\t\t\tif ( child.textContent.toUpperCase() === 'TRUE' ) {\n\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = 1;\n\n\t\t\t\t\t\t} else if ( child.textContent.toUpperCase() === 'FALSE' ) {\n\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = 0;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = parseInt( child.textContent );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseEffectExtra( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique':\n\t\t\t\t\t\tdata.technique = parseEffectExtraTechnique( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectExtraTechnique( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'double_sided':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseInt( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildEffect( data ) {\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction getEffect( id ) {\n\n\t\t\treturn getBuild( library.effects[ id ], buildEffect );\n\n\t\t}\n\n\t\t// material\n\n\t\tfunction parseMaterial( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tname: xml.getAttribute( 'name' )\n\t\t\t};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'instance_effect':\n\t\t\t\t\t\tdata.url = parseId( child.getAttribute( 'url' ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.materials[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction getTextureLoader( image ) {\n\n\t\t\tvar loader;\n\n\t\t\tvar extension = image.slice( ( image.lastIndexOf( '.' ) - 1 >>> 0 ) + 2 ); // http://www.jstips.co/en/javascript/get-file-extension/\n\t\t\textension = extension.toLowerCase();\n\n\t\t\tswitch ( extension ) {\n\n\t\t\t\tcase 'tga':\n\t\t\t\t\tloader = tgaLoader;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tloader = textureLoader;\n\n\t\t\t}\n\n\t\t\treturn loader;\n\n\t\t}\n\n\t\tfunction buildMaterial( data ) {\n\n\t\t\tvar effect = getEffect( data.url );\n\t\t\tvar technique = effect.profile.technique;\n\t\t\tvar extra = effect.profile.extra;\n\n\t\t\tvar material;\n\n\t\t\tswitch ( technique.type ) {\n\n\t\t\t\tcase 'phong':\n\t\t\t\tcase 'blinn':\n\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'lambert':\n\t\t\t\t\tmaterial = new MeshLambertMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tmaterial = new MeshBasicMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tmaterial.name = data.name || '';\n\n\t\t\tfunction getTexture( textureObject ) {\n\n\t\t\t\tvar sampler = effect.profile.samplers[ textureObject.id ];\n\t\t\t\tvar image = null;\n\n\t\t\t\t// get image\n\n\t\t\t\tif ( sampler !== undefined ) {\n\n\t\t\t\t\tvar surface = effect.profile.surfaces[ sampler.source ];\n\t\t\t\t\timage = getImage( surface.init_from );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530).' );\n\t\t\t\t\timage = getImage( textureObject.id );\n\n\t\t\t\t}\n\n\t\t\t\t// create texture if image is avaiable\n\n\t\t\t\tif ( image !== null ) {\n\n\t\t\t\t\tvar loader = getTextureLoader( image );\n\n\t\t\t\t\tif ( loader !== undefined ) {\n\n\t\t\t\t\t\tvar texture = loader.load( image );\n\n\t\t\t\t\t\tvar extra = textureObject.extra;\n\n\t\t\t\t\t\tif ( extra !== undefined && extra.technique !== undefined && isEmpty( extra.technique ) === false ) {\n\n\t\t\t\t\t\t\tvar technique = extra.technique;\n\n\t\t\t\t\t\t\ttexture.wrapS = technique.wrapU ? RepeatWrapping : ClampToEdgeWrapping;\n\t\t\t\t\t\t\ttexture.wrapT = technique.wrapV ? RepeatWrapping : ClampToEdgeWrapping;\n\n\t\t\t\t\t\t\ttexture.offset.set( technique.offsetU || 0, technique.offsetV || 0 );\n\t\t\t\t\t\t\ttexture.repeat.set( technique.repeatU || 1, technique.repeatV || 1 );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\ttexture.wrapS = RepeatWrapping;\n\t\t\t\t\t\t\ttexture.wrapT = RepeatWrapping;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn texture;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Loader for texture %s not found.', image );\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t create texture with ID:', textureObject.id );\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar parameters = technique.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tvar parameter = parameters[ key ];\n\n\t\t\t\tswitch ( key ) {\n\n\t\t\t\t\tcase 'diffuse':\n\t\t\t\t\t\tif ( parameter.color ) material.color.fromArray( parameter.color );\n\t\t\t\t\t\tif ( parameter.texture ) material.map = getTexture( parameter.texture );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'specular':\n\t\t\t\t\t\tif ( parameter.color && material.specular ) material.specular.fromArray( parameter.color );\n\t\t\t\t\t\tif ( parameter.texture ) material.specularMap = getTexture( parameter.texture );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bump':\n\t\t\t\t\t\tif ( parameter.texture ) material.normalMap = getTexture( parameter.texture );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'ambient':\n\t\t\t\t\t\tif ( parameter.texture ) material.lightMap = getTexture( parameter.texture );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'shininess':\n\t\t\t\t\t\tif ( parameter.float && material.shininess ) material.shininess = parameter.float;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'emission':\n\t\t\t\t\t\tif ( parameter.color && material.emissive ) material.emissive.fromArray( parameter.color );\n\t\t\t\t\t\tif ( parameter.texture ) material.emissiveMap = getTexture( parameter.texture );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tvar transparent = parameters[ 'transparent' ];\n\t\t\tvar transparency = parameters[ 'transparency' ];\n\n\t\t\t// <transparency> does not exist but <transparent>\n\n\t\t\tif ( transparency === undefined && transparent ) {\n\n\t\t\t\ttransparency = {\n\t\t\t\t\tfloat: 1\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\t// <transparent> does not exist but <transparency>\n\n\t\t\tif ( transparent === undefined && transparency ) {\n\n\t\t\t\ttransparent = {\n\t\t\t\t\topaque: 'A_ONE',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcolor: [ 1, 1, 1, 1 ]\n\t\t\t\t\t} };\n\n\t\t\t}\n\n\t\t\tif ( transparent && transparency ) {\n\n\t\t\t\t// handle case if a texture exists but no color\n\n\t\t\t\tif ( transparent.data.texture ) {\n\n\t\t\t\t\t// we do not set an alpha map (see #13792)\n\n\t\t\t\t\tmaterial.transparent = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvar color = transparent.data.color;\n\n\t\t\t\t\tswitch ( transparent.opaque ) {\n\n\t\t\t\t\t\tcase 'A_ONE':\n\t\t\t\t\t\t\tmaterial.opacity = color[ 3 ] * transparency.float;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'RGB_ZERO':\n\t\t\t\t\t\t\tmaterial.opacity = 1 - ( color[ 0 ] * transparency.float );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'A_ZERO':\n\t\t\t\t\t\t\tmaterial.opacity = 1 - ( color[ 3 ] * transparency.float );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'RGB_ONE':\n\t\t\t\t\t\t\tmaterial.opacity = color[ 0 ] * transparency.float;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Invalid opaque type \"%s\" of transparent tag.', transparent.opaque );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material.opacity < 1 ) material.transparent = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tif ( extra !== undefined && extra.technique !== undefined && extra.technique.double_sided === 1 ) {\n\n\t\t\t\tmaterial.side = DoubleSide;\n\n\t\t\t}\n\n\t\t\treturn material;\n\n\t\t}\n\n\t\tfunction getMaterial( id ) {\n\n\t\t\treturn getBuild( library.materials[ id ], buildMaterial );\n\n\t\t}\n\n\t\t// camera\n\n\t\tfunction parseCamera( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tname: xml.getAttribute( 'name' )\n\t\t\t};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'optics':\n\t\t\t\t\t\tdata.optics = parseCameraOptics( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.cameras[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseCameraOptics( xml ) {\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\treturn parseCameraTechnique( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {};\n\n\t\t}\n\n\t\tfunction parseCameraTechnique( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'perspective':\n\t\t\t\t\tcase 'orthographic':\n\n\t\t\t\t\t\tdata.technique = child.nodeName;\n\t\t\t\t\t\tdata.parameters = parseCameraParameters( child );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseCameraParameters( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'xfov':\n\t\t\t\t\tcase 'yfov':\n\t\t\t\t\tcase 'xmag':\n\t\t\t\t\tcase 'ymag':\n\t\t\t\t\tcase 'znear':\n\t\t\t\t\tcase 'zfar':\n\t\t\t\t\tcase 'aspect_ratio':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildCamera( data ) {\n\n\t\t\tvar camera;\n\n\t\t\tswitch ( data.optics.technique ) {\n\n\t\t\t\tcase 'perspective':\n\t\t\t\t\tcamera = new PerspectiveCamera(\n\t\t\t\t\t\tdata.optics.parameters.yfov,\n\t\t\t\t\t\tdata.optics.parameters.aspect_ratio,\n\t\t\t\t\t\tdata.optics.parameters.znear,\n\t\t\t\t\t\tdata.optics.parameters.zfar\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'orthographic':\n\t\t\t\t\tvar ymag = data.optics.parameters.ymag;\n\t\t\t\t\tvar xmag = data.optics.parameters.xmag;\n\t\t\t\t\tvar aspectRatio = data.optics.parameters.aspect_ratio;\n\n\t\t\t\t\txmag = ( xmag === undefined ) ? ( ymag * aspectRatio ) : xmag;\n\t\t\t\t\tymag = ( ymag === undefined ) ? ( xmag / aspectRatio ) : ymag;\n\n\t\t\t\t\txmag *= 0.5;\n\t\t\t\t\tymag *= 0.5;\n\n\t\t\t\t\tcamera = new OrthographicCamera(\n\t\t\t\t\t\t- xmag, xmag, ymag, - ymag, // left, right, top, bottom\n\t\t\t\t\t\tdata.optics.parameters.znear,\n\t\t\t\t\t\tdata.optics.parameters.zfar\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tcamera = new PerspectiveCamera();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tcamera.name = data.name || '';\n\n\t\t\treturn camera;\n\n\t\t}\n\n\t\tfunction getCamera( id ) {\n\n\t\t\tvar data = library.cameras[ id ];\n\n\t\t\tif ( data !== undefined ) {\n\n\t\t\t\treturn getBuild( data, buildCamera );\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t find camera with ID:', id );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// light\n\n\t\tfunction parseLight( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tdata = parseLightTechnique( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.lights[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseLightTechnique( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'directional':\n\t\t\t\t\tcase 'point':\n\t\t\t\t\tcase 'spot':\n\t\t\t\t\tcase 'ambient':\n\n\t\t\t\t\t\tdata.technique = child.nodeName;\n\t\t\t\t\t\tdata.parameters = parseLightParameters( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseLightParameters( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.color = new Color().fromArray( array );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'falloff_angle':\n\t\t\t\t\t\tdata.falloffAngle = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'quadratic_attenuation':\n\t\t\t\t\t\tvar f = parseFloat( child.textContent );\n\t\t\t\t\t\tdata.distance = f ? Math.sqrt( 1 / f ) : 0;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildLight( data ) {\n\n\t\t\tvar light;\n\n\t\t\tswitch ( data.technique ) {\n\n\t\t\t\tcase 'directional':\n\t\t\t\t\tlight = new DirectionalLight();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'point':\n\t\t\t\t\tlight = new PointLight();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'spot':\n\t\t\t\t\tlight = new SpotLight();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ambient':\n\t\t\t\t\tlight = new AmbientLight();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( data.parameters.color ) light.color.copy( data.parameters.color );\n\t\t\tif ( data.parameters.distance ) light.distance = data.parameters.distance;\n\n\t\t\treturn light;\n\n\t\t}\n\n\t\tfunction getLight( id ) {\n\n\t\t\tvar data = library.lights[ id ];\n\n\t\t\tif ( data !== undefined ) {\n\n\t\t\t\treturn getBuild( data, buildLight );\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t find light with ID:', id );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// geometry\n\n\t\tfunction parseGeometry( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tname: xml.getAttribute( 'name' ),\n\t\t\t\tsources: {},\n\t\t\t\tvertices: {},\n\t\t\t\tprimitives: []\n\t\t\t};\n\n\t\t\tvar mesh = getElementsByTagName( xml, 'mesh' )[ 0 ];\n\n\t\t\t// the following tags inside geometry are not supported yet (see https://github.com/mrdoob/three.js/pull/12606): convex_mesh, spline, brep\n\t\t\tif ( mesh === undefined ) return;\n\n\t\t\tfor ( var i = 0; i < mesh.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = mesh.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tvar id = child.getAttribute( 'id' );\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vertices':\n\t\t\t\t\t\t// data.sources[ id ] = data.sources[ parseId( getElementsByTagName( child, 'input' )[ 0 ].getAttribute( 'source' ) ) ];\n\t\t\t\t\t\tdata.vertices = parseGeometryVertices( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'polygons':\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Unsupported primitive type: ', child.nodeName );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'lines':\n\t\t\t\t\tcase 'linestrips':\n\t\t\t\t\tcase 'polylist':\n\t\t\t\t\tcase 'triangles':\n\t\t\t\t\t\tdata.primitives.push( parseGeometryPrimitive( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.log( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.geometries[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseSource( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tarray: [],\n\t\t\t\tstride: 3\n\t\t\t};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'float_array':\n\t\t\t\t\t\tdata.array = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Name_array':\n\t\t\t\t\t\tdata.array = parseStrings( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tvar accessor = getElementsByTagName( child, 'accessor' )[ 0 ];\n\n\t\t\t\t\t\tif ( accessor !== undefined ) {\n\n\t\t\t\t\t\t\tdata.stride = parseInt( accessor.getAttribute( 'stride' ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseGeometryVertices( xml ) {\n\n\t\t\tvar data = {};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tdata[ child.getAttribute( 'semantic' ) ] = parseId( child.getAttribute( 'source' ) );\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseGeometryPrimitive( xml ) {\n\n\t\t\tvar primitive = {\n\t\t\t\ttype: xml.nodeName,\n\t\t\t\tmaterial: xml.getAttribute( 'material' ),\n\t\t\t\tcount: parseInt( xml.getAttribute( 'count' ) ),\n\t\t\t\tinputs: {},\n\t\t\t\tstride: 0,\n\t\t\t\thasUV: false\n\t\t\t};\n\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tvar id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tvar semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tvar offset = parseInt( child.getAttribute( 'offset' ) );\n\t\t\t\t\t\tvar set = parseInt( child.getAttribute( 'set' ) );\n\t\t\t\t\t\tvar inputname = ( set > 0 ? semantic + set : semantic );\n\t\t\t\t\t\tprimitive.inputs[ inputname ] = { id: id, offset: offset };\n\t\t\t\t\t\tprimitive.stride = Math.max( primitive.stride, offset + 1 );\n\t\t\t\t\t\tif ( semantic === 'TEXCOORD' ) primitive.hasUV = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vcount':\n\t\t\t\t\t\tprimitive.vcount = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'p':\n\t\t\t\t\t\tprimitive.p = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn primitive;\n\n\t\t}\n\n\t\tfunction groupPrimitives( primitives ) {\n\n\t\t\tvar build = {};\n\n\t\t\tfor ( var i = 0; i < primitives.length; i ++ ) {\n\n\t\t\t\tvar primitive = primitives[ i ];\n\n\t\t\t\tif ( build[ primitive.type ] === undefined ) build[ primitive.type ] = [];\n\n\t\t\t\tbuild[ primitive.type ].push( primitive );\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction checkUVCoordinates( primitives ) {\n\n\t\t\tvar count = 0;\n\n\t\t\tfor ( var i = 0, l = primitives.length; i < l; i ++ ) {\n\n\t\t\t\tvar primitive = primitives[ i ];\n\n\t\t\t\tif ( primitive.hasUV === true ) {\n\n\t\t\t\t\tcount ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( count > 0 && count < primitives.length ) {\n\n\t\t\t\tprimitives.uvsNeedsFix = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction buildGeometry( data ) {\n\n\t\t\tvar build = {};\n\n\t\t\tvar sources = data.sources;\n\t\t\tvar vertices = data.vertices;\n\t\t\tvar primitives = data.primitives;\n\n\t\t\tif ( primitives.length === 0 ) return {};\n\n\t\t\t// our goal is to create one buffer geometry for a single type of primitives\n\t\t\t// first, we group all primitives by their type\n\n\t\t\tvar groupedPrimitives = groupPrimitives( primitives );\n\n\t\t\tfor ( var type in groupedPrimitives ) {\n\n\t\t\t\tvar primitiveType = groupedPrimitives[ type ];\n\n\t\t\t\t// second, ensure consistent uv coordinates for each type of primitives (polylist,triangles or lines)\n\n\t\t\t\tcheckUVCoordinates( primitiveType );\n\n\t\t\t\t// third, create a buffer geometry for each type of primitives\n\n\t\t\t\tbuild[ type ] = buildGeometryType( primitiveType, sources, vertices );\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction buildGeometryType( primitives, sources, vertices ) {\n\n\t\t\tvar build = {};\n\n\t\t\tvar position = { array: [], stride: 0 };\n\t\t\tvar normal = { array: [], stride: 0 };\n\t\t\tvar uv = { array: [], stride: 0 };\n\t\t\tvar uv2 = { array: [], stride: 0 };\n\t\t\tvar color = { array: [], stride: 0 };\n\n\t\t\tvar skinIndex = { array: [], stride: 4 };\n\t\t\tvar skinWeight = { array: [], stride: 4 };\n\n\t\t\tvar geometry = new BufferGeometry();\n\n\t\t\tvar materialKeys = [];\n\n\t\t\tvar start = 0;\n\n\t\t\tfor ( var p = 0; p < primitives.length; p ++ ) {\n\n\t\t\t\tvar primitive = primitives[ p ];\n\t\t\t\tvar inputs = primitive.inputs;\n\n\t\t\t\t// groups\n\n\t\t\t\tvar count = 0;\n\n\t\t\t\tswitch ( primitive.type ) {\n\n\t\t\t\t\tcase 'lines':\n\t\t\t\t\tcase 'linestrips':\n\t\t\t\t\t\tcount = primitive.count * 2;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'triangles':\n\t\t\t\t\t\tcount = primitive.count * 3;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'polylist':\n\n\t\t\t\t\t\tfor ( var g = 0; g < primitive.count; g ++ ) {\n\n\t\t\t\t\t\t\tvar vc = primitive.vcount[ g ];\n\n\t\t\t\t\t\t\tswitch ( vc ) {\n\n\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\tcount += 3; // single triangle\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t\tcount += 6; // quad, subdivided into two triangles\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tcount += ( vc - 2 ) * 3; // polylist with more than four vertices\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Unknow primitive type:', primitive.type );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.addGroup( start, count, p );\n\t\t\t\tstart += count;\n\n\t\t\t\t// material\n\n\t\t\t\tif ( primitive.material ) {\n\n\t\t\t\t\tmaterialKeys.push( primitive.material );\n\n\t\t\t\t}\n\n\t\t\t\t// geometry data\n\n\t\t\t\tfor ( var name in inputs ) {\n\n\t\t\t\t\tvar input = inputs[ name ];\n\n\t\t\t\t\tswitch ( name )\t{\n\n\t\t\t\t\t\tcase 'VERTEX':\n\t\t\t\t\t\t\tfor ( var key in vertices ) {\n\n\t\t\t\t\t\t\t\tvar id = vertices[ key ];\n\n\t\t\t\t\t\t\t\tswitch ( key ) {\n\n\t\t\t\t\t\t\t\t\tcase 'POSITION':\n\t\t\t\t\t\t\t\t\t\tvar prevLength = position.array.length;\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, position.array );\n\t\t\t\t\t\t\t\t\t\tposition.stride = sources[ id ].stride;\n\n\t\t\t\t\t\t\t\t\t\tif ( sources.skinWeights && sources.skinIndices ) {\n\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources.skinIndices, input.offset, skinIndex.array );\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources.skinWeights, input.offset, skinWeight.array );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// see #3803\n\n\t\t\t\t\t\t\t\t\t\tif ( primitive.hasUV === false && primitives.uvsNeedsFix === true ) {\n\n\t\t\t\t\t\t\t\t\t\t\tvar count = ( position.array.length - prevLength ) / position.stride;\n\n\t\t\t\t\t\t\t\t\t\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// fill missing uv coordinates\n\n\t\t\t\t\t\t\t\t\t\t\t\tuv.array.push( 0, 0 );\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'NORMAL':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, normal.array );\n\t\t\t\t\t\t\t\t\t\tnormal.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'COLOR':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, color.array );\n\t\t\t\t\t\t\t\t\t\tcolor.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'TEXCOORD':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, uv.array );\n\t\t\t\t\t\t\t\t\t\tuv.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'TEXCOORD1':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, uv2.array );\n\t\t\t\t\t\t\t\t\t\tuv.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Semantic \"%s\" not handled in geometry build process.', key );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'NORMAL':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, normal.array );\n\t\t\t\t\t\t\tnormal.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'COLOR':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, color.array );\n\t\t\t\t\t\t\tcolor.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'TEXCOORD':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, uv.array );\n\t\t\t\t\t\t\tuv.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'TEXCOORD1':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, uv2.array );\n\t\t\t\t\t\t\tuv2.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// build geometry\n\n\t\t\tif ( position.array.length > 0 ) geometry.setAttribute( 'position', new Float32BufferAttribute( position.array, position.stride ) );\n\t\t\tif ( normal.array.length > 0 ) geometry.setAttribute( 'normal', new Float32BufferAttribute( normal.array, normal.stride ) );\n\t\t\tif ( color.array.length > 0 ) geometry.setAttribute( 'color', new Float32BufferAttribute( color.array, color.stride ) );\n\t\t\tif ( uv.array.length > 0 ) geometry.setAttribute( 'uv', new Float32BufferAttribute( uv.array, uv.stride ) );\n\t\t\tif ( uv2.array.length > 0 ) geometry.setAttribute( 'uv2', new Float32BufferAttribute( uv2.array, uv2.stride ) );\n\n\t\t\tif ( skinIndex.array.length > 0 ) geometry.setAttribute( 'skinIndex', new Float32BufferAttribute( skinIndex.array, skinIndex.stride ) );\n\t\t\tif ( skinWeight.array.length > 0 ) geometry.setAttribute( 'skinWeight', new Float32BufferAttribute( skinWeight.array, skinWeight.stride ) );\n\n\t\t\tbuild.data = geometry;\n\t\t\tbuild.type = primitives[ 0 ].type;\n\t\t\tbuild.materialKeys = materialKeys;\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction buildGeometryData( primitive, source, offset, array ) {\n\n\t\t\tvar indices = primitive.p;\n\t\t\tvar stride = primitive.stride;\n\t\t\tvar vcount = primitive.vcount;\n\n\t\t\tfunction pushVector( i ) {\n\n\t\t\t\tvar index = indices[ i + offset ] * sourceStride;\n\t\t\t\tvar length = index + sourceStride;\n\n\t\t\t\tfor ( ; index < length; index ++ ) {\n\n\t\t\t\t\tarray.push( sourceArray[ index ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar sourceArray = source.array;\n\t\t\tvar sourceStride = source.stride;\n\n\t\t\tif ( primitive.vcount !== undefined ) {\n\n\t\t\t\tvar index = 0;\n\n\t\t\t\tfor ( var i = 0, l = vcount.length; i < l; i ++ ) {\n\n\t\t\t\t\tvar count = vcount[ i ];\n\n\t\t\t\t\tif ( count === 4 ) {\n\n\t\t\t\t\t\tvar a = index + stride * 0;\n\t\t\t\t\t\tvar b = index + stride * 1;\n\t\t\t\t\t\tvar c = index + stride * 2;\n\t\t\t\t\t\tvar d = index + stride * 3;\n\n\t\t\t\t\t\tpushVector( a ); pushVector( b ); pushVector( d );\n\t\t\t\t\t\tpushVector( b ); pushVector( c ); pushVector( d );\n\n\t\t\t\t\t} else if ( count === 3 ) {\n\n\t\t\t\t\t\tvar a = index + stride * 0;\n\t\t\t\t\t\tvar b = index + stride * 1;\n\t\t\t\t\t\tvar c = index + stride * 2;\n\n\t\t\t\t\t\tpushVector( a ); pushVector( b ); pushVector( c );\n\n\t\t\t\t\t} else if ( count > 4 ) {\n\n\t\t\t\t\t\tfor ( var k = 1, kl = ( count - 2 ); k <= kl; k ++ ) {\n\n\t\t\t\t\t\t\tvar a = index + stride * 0;\n\t\t\t\t\t\t\tvar b = index + stride * k;\n\t\t\t\t\t\t\tvar c = index + stride * ( k + 1 );\n\n\t\t\t\t\t\t\tpushVector( a ); pushVector( b ); pushVector( c );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tindex += stride * count;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0, l = indices.length; i < l; i += stride ) {\n\n\t\t\t\t\tpushVector( i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction getGeometry( id ) {\n\n\t\t\treturn getBuild( library.geometries[ id ], buildGeometry );\n\n\t\t}\n\n\t\t// kinematics\n\n\t\tfunction parseKinematicsModel( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\tjoints: {},\n\t\t\t\tlinks: []\n\t\t\t};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tparseKinematicsTechniqueCommon( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.kinematicsModels[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildKinematicsModel( data ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction getKinematicsModel( id ) {\n\n\t\t\treturn getBuild( library.kinematicsModels[ id ], buildKinematicsModel );\n\n\t\t}\n\n\t\tfunction parseKinematicsTechniqueCommon( xml, data ) {\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'joint':\n\t\t\t\t\t\tdata.joints[ child.getAttribute( 'sid' ) ] = parseKinematicsJoint( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'link':\n\t\t\t\t\t\tdata.links.push( parseKinematicsLink( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseKinematicsJoint( xml ) {\n\n\t\t\tvar data;\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'prismatic':\n\t\t\t\t\tcase 'revolute':\n\t\t\t\t\t\tdata = parseKinematicsJointParameter( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsJointParameter( xml, data ) {\n\n\t\t\tvar data = {\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\taxis: new Vector3(),\n\t\t\t\tlimits: {\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 0\n\t\t\t\t},\n\t\t\t\ttype: xml.nodeName,\n\t\t\t\tstatic: false,\n\t\t\t\tzeroPosition: 0,\n\t\t\t\tmiddlePosition: 0\n\t\t\t};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'axis':\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.axis.fromArray( array );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'limits':\n\t\t\t\t\t\tvar max = child.getElementsByTagName( 'max' )[ 0 ];\n\t\t\t\t\t\tvar min = child.getElementsByTagName( 'min' )[ 0 ];\n\n\t\t\t\t\t\tdata.limits.max = parseFloat( max.textContent );\n\t\t\t\t\t\tdata.limits.min = parseFloat( min.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// if min is equal to or greater than max, consider the joint static\n\n\t\t\tif ( data.limits.min >= data.limits.max ) {\n\n\t\t\t\tdata.static = true;\n\n\t\t\t}\n\n\t\t\t// calculate middle position\n\n\t\t\tdata.middlePosition = ( data.limits.min + data.limits.max ) / 2.0;\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsLink( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\tattachments: [],\n\t\t\t\ttransforms: []\n\t\t\t};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'attachment_full':\n\t\t\t\t\t\tdata.attachments.push( parseKinematicsAttachment( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tdata.transforms.push( parseKinematicsTransform( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsAttachment( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tjoint: xml.getAttribute( 'joint' ).split( '/' ).pop(),\n\t\t\t\ttransforms: [],\n\t\t\t\tlinks: []\n\t\t\t};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'link':\n\t\t\t\t\t\tdata.links.push( parseKinematicsLink( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tdata.transforms.push( parseKinematicsTransform( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsTransform( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\ttype: xml.nodeName\n\t\t\t};\n\n\t\t\tvar array = parseFloats( xml.textContent );\n\n\t\t\tswitch ( data.type ) {\n\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tdata.obj = new Matrix4();\n\t\t\t\t\tdata.obj.fromArray( array ).transpose();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'translate':\n\t\t\t\t\tdata.obj = new Vector3();\n\t\t\t\t\tdata.obj.fromArray( array );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tdata.obj = new Vector3();\n\t\t\t\t\tdata.obj.fromArray( array );\n\t\t\t\t\tdata.angle = MathUtils.degToRad( array[ 3 ] );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// physics\n\n\t\tfunction parsePhysicsModel( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\trigidBodies: {}\n\t\t\t};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'rigid_body':\n\t\t\t\t\t\tdata.rigidBodies[ child.getAttribute( 'name' ) ] = {};\n\t\t\t\t\t\tparsePhysicsRigidBody( child, data.rigidBodies[ child.getAttribute( 'name' ) ] );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.physicsModels[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parsePhysicsRigidBody( xml, data ) {\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tparsePhysicsTechniqueCommon( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parsePhysicsTechniqueCommon( xml, data ) {\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'inertia':\n\t\t\t\t\t\tdata.inertia = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'mass':\n\t\t\t\t\t\tdata.mass = parseFloats( child.textContent )[ 0 ];\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// scene\n\n\t\tfunction parseKinematicsScene( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tbindJointAxis: []\n\t\t\t};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'bind_joint_axis':\n\t\t\t\t\t\tdata.bindJointAxis.push( parseKinematicsBindJointAxis( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.kinematicsScenes[ parseId( xml.getAttribute( 'url' ) ) ] = data;\n\n\t\t}\n\n\t\tfunction parseKinematicsBindJointAxis( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\ttarget: xml.getAttribute( 'target' ).split( '/' ).pop()\n\t\t\t};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'axis':\n\t\t\t\t\t\tvar param = child.getElementsByTagName( 'param' )[ 0 ];\n\t\t\t\t\t\tdata.axis = param.textContent;\n\t\t\t\t\t\tvar tmpJointIndex = data.axis.split( 'inst_' ).pop().split( 'axis' )[ 0 ];\n\t\t\t\t\t\tdata.jointIndex = tmpJointIndex.substr( 0, tmpJointIndex.length - 1 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildKinematicsScene( data ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction getKinematicsScene( id ) {\n\n\t\t\treturn getBuild( library.kinematicsScenes[ id ], buildKinematicsScene );\n\n\t\t}\n\n\t\tfunction setupKinematics() {\n\n\t\t\tvar kinematicsModelId = Object.keys( library.kinematicsModels )[ 0 ];\n\t\t\tvar kinematicsSceneId = Object.keys( library.kinematicsScenes )[ 0 ];\n\t\t\tvar visualSceneId = Object.keys( library.visualScenes )[ 0 ];\n\n\t\t\tif ( kinematicsModelId === undefined || kinematicsSceneId === undefined ) return;\n\n\t\t\tvar kinematicsModel = getKinematicsModel( kinematicsModelId );\n\t\t\tvar kinematicsScene = getKinematicsScene( kinematicsSceneId );\n\t\t\tvar visualScene = getVisualScene( visualSceneId );\n\n\t\t\tvar bindJointAxis = kinematicsScene.bindJointAxis;\n\t\t\tvar jointMap = {};\n\n\t\t\tfor ( var i = 0, l = bindJointAxis.length; i < l; i ++ ) {\n\n\t\t\t\tvar axis = bindJointAxis[ i ];\n\n\t\t\t\t// the result of the following query is an element of type 'translate', 'rotate','scale' or 'matrix'\n\n\t\t\t\tvar targetElement = collada.querySelector( '[sid=\"' + axis.target + '\"]' );\n\n\t\t\t\tif ( targetElement ) {\n\n\t\t\t\t\t// get the parent of the transform element\n\n\t\t\t\t\tvar parentVisualElement = targetElement.parentElement;\n\n\t\t\t\t\t// connect the joint of the kinematics model with the element in the visual scene\n\n\t\t\t\t\tconnect( axis.jointIndex, parentVisualElement );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction connect( jointIndex, visualElement ) {\n\n\t\t\t\tvar visualElementName = visualElement.getAttribute( 'name' );\n\t\t\t\tvar joint = kinematicsModel.joints[ jointIndex ];\n\n\t\t\t\tvisualScene.traverse( function ( object ) {\n\n\t\t\t\t\tif ( object.name === visualElementName ) {\n\n\t\t\t\t\t\tjointMap[ jointIndex ] = {\n\t\t\t\t\t\t\tobject: object,\n\t\t\t\t\t\t\ttransforms: buildTransformList( visualElement ),\n\t\t\t\t\t\t\tjoint: joint,\n\t\t\t\t\t\t\tposition: joint.zeroPosition\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tvar m0 = new Matrix4();\n\n\t\t\tkinematics = {\n\n\t\t\t\tjoints: kinematicsModel && kinematicsModel.joints,\n\n\t\t\t\tgetJointValue: function ( jointIndex ) {\n\n\t\t\t\t\tvar jointData = jointMap[ jointIndex ];\n\n\t\t\t\t\tif ( jointData ) {\n\n\t\t\t\t\t\treturn jointData.position;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Joint ' + jointIndex + ' doesn\\'t exist.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\tsetJointValue: function ( jointIndex, value ) {\n\n\t\t\t\t\tvar jointData = jointMap[ jointIndex ];\n\n\t\t\t\t\tif ( jointData ) {\n\n\t\t\t\t\t\tvar joint = jointData.joint;\n\n\t\t\t\t\t\tif ( value > joint.limits.max || value < joint.limits.min ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Joint ' + jointIndex + ' value ' + value + ' outside of limits (min: ' + joint.limits.min + ', max: ' + joint.limits.max + ').' );\n\n\t\t\t\t\t\t} else if ( joint.static ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Joint ' + jointIndex + ' is static.' );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tvar object = jointData.object;\n\t\t\t\t\t\t\tvar axis = joint.axis;\n\t\t\t\t\t\t\tvar transforms = jointData.transforms;\n\n\t\t\t\t\t\t\tmatrix.identity();\n\n\t\t\t\t\t\t\t// each update, we have to apply all transforms in the correct order\n\n\t\t\t\t\t\t\tfor ( var i = 0; i < transforms.length; i ++ ) {\n\n\t\t\t\t\t\t\t\tvar transform = transforms[ i ];\n\n\t\t\t\t\t\t\t\t// if there is a connection of the transform node with a joint, apply the joint value\n\n\t\t\t\t\t\t\t\tif ( transform.sid && transform.sid.indexOf( jointIndex ) !== - 1 ) {\n\n\t\t\t\t\t\t\t\t\tswitch ( joint.type ) {\n\n\t\t\t\t\t\t\t\t\t\tcase 'revolute':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeRotationAxis( axis, MathUtils.degToRad( value ) ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'prismatic':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeTranslation( axis.x * value, axis.y * value, axis.z * value ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Unknown joint type: ' + joint.type );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tswitch ( transform.type ) {\n\n\t\t\t\t\t\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( transform.obj );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeTranslation( transform.obj.x, transform.obj.y, transform.obj.z ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.scale( transform.obj );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeRotationAxis( transform.obj, transform.angle ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tobject.matrix.copy( matrix );\n\t\t\t\t\t\t\tobject.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t\t\t\t\t\tjointMap[ jointIndex ].position = value;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.log( 'THREE.ColladaLoader: ' + jointIndex + ' does not exist.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t\tfunction buildTransformList( node ) {\n\n\t\t\tvar transforms = [];\n\n\t\t\tvar xml = collada.querySelector( '[id=\"' + node.id + '\"]' );\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\n\t\t\t\t\t\tvar matrix = new Matrix4().fromArray( array ).transpose();\n\t\t\t\t\t\ttransforms.push( {\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\n\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\tobj: matrix\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\n\t\t\t\t\t\tvar vector = new Vector3().fromArray( array );\n\t\t\t\t\t\ttransforms.push( {\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\n\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\tobj: vector\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\n\t\t\t\t\t\tvar vector = new Vector3().fromArray( array );\n\t\t\t\t\t\tvar angle = MathUtils.degToRad( array[ 3 ] );\n\t\t\t\t\t\ttransforms.push( {\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\n\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\tobj: vector,\n\t\t\t\t\t\t\tangle: angle\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn transforms;\n\n\t\t}\n\n\t\t// nodes\n\n\t\tfunction prepareNodes( xml ) {\n\n\t\t\tvar elements = xml.getElementsByTagName( 'node' );\n\n\t\t\t// ensure all node elements have id attributes\n\n\t\t\tfor ( var i = 0; i < elements.length; i ++ ) {\n\n\t\t\t\tvar element = elements[ i ];\n\n\t\t\t\tif ( element.hasAttribute( 'id' ) === false ) {\n\n\t\t\t\t\telement.setAttribute( 'id', generateId() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar matrix = new Matrix4();\n\t\tvar vector = new Vector3();\n\n\t\tfunction parseNode( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\ttype: xml.getAttribute( 'type' ),\n\t\t\t\tid: xml.getAttribute( 'id' ),\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\n\t\t\t\tmatrix: new Matrix4(),\n\t\t\t\tnodes: [],\n\t\t\t\tinstanceCameras: [],\n\t\t\t\tinstanceControllers: [],\n\t\t\t\tinstanceLights: [],\n\t\t\t\tinstanceGeometries: [],\n\t\t\t\tinstanceNodes: [],\n\t\t\t\ttransforms: {}\n\t\t\t};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'node':\n\t\t\t\t\t\tdata.nodes.push( child.getAttribute( 'id' ) );\n\t\t\t\t\t\tparseNode( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_camera':\n\t\t\t\t\t\tdata.instanceCameras.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_controller':\n\t\t\t\t\t\tdata.instanceControllers.push( parseNodeInstance( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_light':\n\t\t\t\t\t\tdata.instanceLights.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_geometry':\n\t\t\t\t\t\tdata.instanceGeometries.push( parseNodeInstance( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_node':\n\t\t\t\t\t\tdata.instanceNodes.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.matrix.multiply( matrix.fromArray( array ).transpose() );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\n\t\t\t\t\t\tvector.fromArray( array );\n\t\t\t\t\t\tdata.matrix.multiply( matrix.makeTranslation( vector.x, vector.y, vector.z ) );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\n\t\t\t\t\t\tvar angle = MathUtils.degToRad( array[ 3 ] );\n\t\t\t\t\t\tdata.matrix.multiply( matrix.makeRotationAxis( vector.fromArray( array ), angle ) );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.matrix.scale( vector.fromArray( array ) );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.log( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasNode( data.id ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.', data.id );\n\n\t\t\t} else {\n\n\t\t\t\tlibrary.nodes[ data.id ] = data;\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseNodeInstance( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tid: parseId( xml.getAttribute( 'url' ) ),\n\t\t\t\tmaterials: {},\n\t\t\t\tskeletons: []\n\t\t\t};\n\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tvar child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'bind_material':\n\t\t\t\t\t\tvar instances = child.getElementsByTagName( 'instance_material' );\n\n\t\t\t\t\t\tfor ( var j = 0; j < instances.length; j ++ ) {\n\n\t\t\t\t\t\t\tvar instance = instances[ j ];\n\t\t\t\t\t\t\tvar symbol = instance.getAttribute( 'symbol' );\n\t\t\t\t\t\t\tvar target = instance.getAttribute( 'target' );\n\n\t\t\t\t\t\t\tdata.materials[ symbol ] = parseId( target );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'skeleton':\n\t\t\t\t\t\tdata.skeletons.push( parseId( child.textContent ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildSkeleton( skeletons, joints ) {\n\n\t\t\tvar boneData = [];\n\t\t\tvar sortedBoneData = [];\n\n\t\t\tvar i, j, data;\n\n\t\t\t// a skeleton can have multiple root bones. collada expresses this\n\t\t\t// situtation with multiple \"skeleton\" tags per controller instance\n\n\t\t\tfor ( i = 0; i < skeletons.length; i ++ ) {\n\n\t\t\t\tvar skeleton = skeletons[ i ];\n\n\t\t\t\tvar root;\n\n\t\t\t\tif ( hasNode( skeleton ) ) {\n\n\t\t\t\t\troot = getNode( skeleton );\n\t\t\t\t\tbuildBoneHierarchy( root, joints, boneData );\n\n\t\t\t\t} else if ( hasVisualScene( skeleton ) ) {\n\n\t\t\t\t\t// handle case where the skeleton refers to the visual scene (#13335)\n\n\t\t\t\t\tvar visualScene = library.visualScenes[ skeleton ];\n\t\t\t\t\tvar children = visualScene.children;\n\n\t\t\t\t\tfor ( var j = 0; j < children.length; j ++ ) {\n\n\t\t\t\t\t\tvar child = children[ j ];\n\n\t\t\t\t\t\tif ( child.type === 'JOINT' ) {\n\n\t\t\t\t\t\t\tvar root = getNode( child.id );\n\t\t\t\t\t\t\tbuildBoneHierarchy( root, joints, boneData );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.ColladaLoader: Unable to find root bone of skeleton with ID:', skeleton );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// sort bone data (the order is defined in the corresponding controller)\n\n\t\t\tfor ( i = 0; i < joints.length; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < boneData.length; j ++ ) {\n\n\t\t\t\t\tdata = boneData[ j ];\n\n\t\t\t\t\tif ( data.bone.name === joints[ i ].name ) {\n\n\t\t\t\t\t\tsortedBoneData[ i ] = data;\n\t\t\t\t\t\tdata.processed = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add unprocessed bone data at the end of the list\n\n\t\t\tfor ( i = 0; i < boneData.length; i ++ ) {\n\n\t\t\t\tdata = boneData[ i ];\n\n\t\t\t\tif ( data.processed === false ) {\n\n\t\t\t\t\tsortedBoneData.push( data );\n\t\t\t\t\tdata.processed = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// setup arrays for skeleton creation\n\n\t\t\tvar bones = [];\n\t\t\tvar boneInverses = [];\n\n\t\t\tfor ( i = 0; i < sortedBoneData.length; i ++ ) {\n\n\t\t\t\tdata = sortedBoneData[ i ];\n\n\t\t\t\tbones.push( data.bone );\n\t\t\t\tboneInverses.push( data.boneInverse );\n\n\t\t\t}\n\n\t\t\treturn new Skeleton( bones, boneInverses );\n\n\t\t}\n\n\t\tfunction buildBoneHierarchy( root, joints, boneData ) {\n\n\t\t\t// setup bone data from visual scene\n\n\t\t\troot.traverse( function ( object ) {\n\n\t\t\t\tif ( object.isBone === true ) {\n\n\t\t\t\t\tvar boneInverse;\n\n\t\t\t\t\t// retrieve the boneInverse from the controller data\n\n\t\t\t\t\tfor ( var i = 0; i < joints.length; i ++ ) {\n\n\t\t\t\t\t\tvar joint = joints[ i ];\n\n\t\t\t\t\t\tif ( joint.name === object.name ) {\n\n\t\t\t\t\t\t\tboneInverse = joint.boneInverse;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( boneInverse === undefined ) {\n\n\t\t\t\t\t\t// Unfortunately, there can be joints in the visual scene that are not part of the\n\t\t\t\t\t\t// corresponding controller. In this case, we have to create a dummy boneInverse matrix\n\t\t\t\t\t\t// for the respective bone. This bone won't affect any vertices, because there are no skin indices\n\t\t\t\t\t\t// and weights defined for it. But we still have to add the bone to the sorted bone list in order to\n\t\t\t\t\t\t// ensure a correct animation of the model.\n\n\t\t\t\t\t\tboneInverse = new Matrix4();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tboneData.push( { bone: object, boneInverse: boneInverse, processed: false } );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction buildNode( data ) {\n\n\t\t\tvar objects = [];\n\n\t\t\tvar matrix = data.matrix;\n\t\t\tvar nodes = data.nodes;\n\t\t\tvar type = data.type;\n\t\t\tvar instanceCameras = data.instanceCameras;\n\t\t\tvar instanceControllers = data.instanceControllers;\n\t\t\tvar instanceLights = data.instanceLights;\n\t\t\tvar instanceGeometries = data.instanceGeometries;\n\t\t\tvar instanceNodes = data.instanceNodes;\n\n\t\t\t// nodes\n\n\t\t\tfor ( var i = 0, l = nodes.length; i < l; i ++ ) {\n\n\t\t\t\tobjects.push( getNode( nodes[ i ] ) );\n\n\t\t\t}\n\n\t\t\t// instance cameras\n\n\t\t\tfor ( var i = 0, l = instanceCameras.length; i < l; i ++ ) {\n\n\t\t\t\tvar instanceCamera = getCamera( instanceCameras[ i ] );\n\n\t\t\t\tif ( instanceCamera !== null ) {\n\n\t\t\t\t\tobjects.push( instanceCamera.clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance controllers\n\n\t\t\tfor ( var i = 0, l = instanceControllers.length; i < l; i ++ ) {\n\n\t\t\t\tvar instance = instanceControllers[ i ];\n\t\t\t\tvar controller = getController( instance.id );\n\t\t\t\tvar geometries = getGeometry( controller.id );\n\t\t\t\tvar newObjects = buildObjects( geometries, instance.materials );\n\n\t\t\t\tvar skeletons = instance.skeletons;\n\t\t\t\tvar joints = controller.skin.joints;\n\n\t\t\t\tvar skeleton = buildSkeleton( skeletons, joints );\n\n\t\t\t\tfor ( var j = 0, jl = newObjects.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar object = newObjects[ j ];\n\n\t\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t\tobject.bind( skeleton, controller.skin.bindMatrix );\n\t\t\t\t\t\tobject.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects.push( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance lights\n\n\t\t\tfor ( var i = 0, l = instanceLights.length; i < l; i ++ ) {\n\n\t\t\t\tvar instanceLight = getLight( instanceLights[ i ] );\n\n\t\t\t\tif ( instanceLight !== null ) {\n\n\t\t\t\t\tobjects.push( instanceLight.clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance geometries\n\n\t\t\tfor ( var i = 0, l = instanceGeometries.length; i < l; i ++ ) {\n\n\t\t\t\tvar instance = instanceGeometries[ i ];\n\n\t\t\t\t// a single geometry instance in collada can lead to multiple object3Ds.\n\t\t\t\t// this is the case when primitives are combined like triangles and lines\n\n\t\t\t\tvar geometries = getGeometry( instance.id );\n\t\t\t\tvar newObjects = buildObjects( geometries, instance.materials );\n\n\t\t\t\tfor ( var j = 0, jl = newObjects.length; j < jl; j ++ ) {\n\n\t\t\t\t\tobjects.push( newObjects[ j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance nodes\n\n\t\t\tfor ( var i = 0, l = instanceNodes.length; i < l; i ++ ) {\n\n\t\t\t\tobjects.push( getNode( instanceNodes[ i ] ).clone() );\n\n\t\t\t}\n\n\t\t\tvar object;\n\n\t\t\tif ( nodes.length === 0 && objects.length === 1 ) {\n\n\t\t\t\tobject = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tobject = ( type === 'JOINT' ) ? new Bone() : new Group();\n\n\t\t\t\tfor ( var i = 0; i < objects.length; i ++ ) {\n\n\t\t\t\t\tobject.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tobject.name = ( type === 'JOINT' ) ? data.sid : data.name;\n\t\t\tobject.matrix.copy( matrix );\n\t\t\tobject.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t\treturn object;\n\n\t\t}\n\n\t\tvar fallbackMaterial = new MeshBasicMaterial( { color: 0xff00ff } );\n\n\t\tfunction resolveMaterialBinding( keys, instanceMaterials ) {\n\n\t\t\tvar materials = [];\n\n\t\t\tfor ( var i = 0, l = keys.length; i < l; i ++ ) {\n\n\t\t\t\tvar id = instanceMaterials[ keys[ i ] ];\n\n\t\t\t\tif ( id === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Material with key %s not found. Apply fallback material.', keys[ i ] );\n\t\t\t\t\tmaterials.push( fallbackMaterial );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmaterials.push( getMaterial( id ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn materials;\n\n\t\t}\n\n\t\tfunction buildObjects( geometries, instanceMaterials ) {\n\n\t\t\tvar objects = [];\n\n\t\t\tfor ( var type in geometries ) {\n\n\t\t\t\tvar geometry = geometries[ type ];\n\n\t\t\t\tvar materials = resolveMaterialBinding( geometry.materialKeys, instanceMaterials );\n\n\t\t\t\t// handle case if no materials are defined\n\n\t\t\t\tif ( materials.length === 0 ) {\n\n\t\t\t\t\tif ( type === 'lines' || type === 'linestrips' ) {\n\n\t\t\t\t\t\tmaterials.push( new LineBasicMaterial() );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmaterials.push( new MeshPhongMaterial() );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// regard skinning\n\n\t\t\t\tvar skinning = ( geometry.data.attributes.skinIndex !== undefined );\n\n\t\t\t\tif ( skinning ) {\n\n\t\t\t\t\tfor ( var i = 0, l = materials.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tmaterials[ i ].skinning = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// choose between a single or multi materials (material array)\n\n\t\t\t\tvar material = ( materials.length === 1 ) ? materials[ 0 ] : materials;\n\n\t\t\t\t// now create a specific 3D object\n\n\t\t\t\tvar object;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 'lines':\n\t\t\t\t\t\tobject = new LineSegments( geometry.data, material );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'linestrips':\n\t\t\t\t\t\tobject = new Line( geometry.data, material );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'triangles':\n\t\t\t\t\tcase 'polylist':\n\t\t\t\t\t\tif ( skinning ) {\n\n\t\t\t\t\t\t\tobject = new SkinnedMesh( geometry.data, material );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tobject = new Mesh( geometry.data, material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tobjects.push( object );\n\n\t\t\t}\n\n\t\t\treturn objects;\n\n\t\t}\n\n\t\tfunction hasNode( id ) {\n\n\t\t\treturn library.nodes[ id ] !== undefined;\n\n\t\t}\n\n\t\tfunction getNode( id ) {\n\n\t\t\treturn getBuild( library.nodes[ id ], buildNode );\n\n\t\t}\n\n\t\t// visual scenes\n\n\t\tfunction parseVisualScene( xml ) {\n\n\t\t\tvar data = {\n\t\t\t\tname: xml.getAttribute( 'name' ),\n\t\t\t\tchildren: []\n\t\t\t};\n\n\t\t\tprepareNodes( xml );\n\n\t\t\tvar elements = getElementsByTagName( xml, 'node' );\n\n\t\t\tfor ( var i = 0; i < elements.length; i ++ ) {\n\n\t\t\t\tdata.children.push( parseNode( elements[ i ] ) );\n\n\t\t\t}\n\n\t\t\tlibrary.visualScenes[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildVisualScene( data ) {\n\n\t\t\tvar group = new Group();\n\t\t\tgroup.name = data.name;\n\n\t\t\tvar children = data.children;\n\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tvar child = children[ i ];\n\n\t\t\t\tgroup.add( getNode( child.id ) );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t}\n\n\t\tfunction hasVisualScene( id ) {\n\n\t\t\treturn library.visualScenes[ id ] !== undefined;\n\n\t\t}\n\n\t\tfunction getVisualScene( id ) {\n\n\t\t\treturn getBuild( library.visualScenes[ id ], buildVisualScene );\n\n\t\t}\n\n\t\t// scenes\n\n\t\tfunction parseScene( xml ) {\n\n\t\t\tvar instance = getElementsByTagName( xml, 'instance_visual_scene' )[ 0 ];\n\t\t\treturn getVisualScene( parseId( instance.getAttribute( 'url' ) ) );\n\n\t\t}\n\n\t\tfunction setupAnimations() {\n\n\t\t\tvar clips = library.clips;\n\n\t\t\tif ( isEmpty( clips ) === true ) {\n\n\t\t\t\tif ( isEmpty( library.animations ) === false ) {\n\n\t\t\t\t\t// if there are animations but no clips, we create a default clip for playback\n\n\t\t\t\t\tvar tracks = [];\n\n\t\t\t\t\tfor ( var id in library.animations ) {\n\n\t\t\t\t\t\tvar animationTracks = getAnimation( id );\n\n\t\t\t\t\t\tfor ( var i = 0, l = animationTracks.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\ttracks.push( animationTracks[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tanimations.push( new AnimationClip( 'default', - 1, tracks ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var id in clips ) {\n\n\t\t\t\t\tanimations.push( getAnimationClip( id ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// convert the parser error element into text with each child elements text\n\t\t// separated by new lines.\n\n\t\tfunction parserErrorToText( parserError ) {\n\n\t\t\tvar result = '';\n\t\t\tvar stack = [ parserError ];\n\n\t\t\twhile ( stack.length ) {\n\n\t\t\t\tvar node = stack.shift();\n\n\t\t\t\tif ( node.nodeType === Node.TEXT_NODE ) {\n\n\t\t\t\t\tresult += node.textContent;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tresult += '\\n';\n\t\t\t\t\tstack.push.apply( stack, node.childNodes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn result.trim();\n\n\t\t}\n\n\t\tif ( text.length === 0 ) {\n\n\t\t\treturn { scene: new Scene() };\n\n\t\t}\n\n\t\tvar xml = new DOMParser().parseFromString( text, 'application/xml' );\n\n\t\tvar collada = getElementsByTagName( xml, 'COLLADA' )[ 0 ];\n\n\t\tvar parserError = xml.getElementsByTagName( 'parsererror' )[ 0 ];\n\t\tif ( parserError !== undefined ) {\n\n\t\t\t// Chrome will return parser error with a div in it\n\n\t\t\tvar errorElement = getElementsByTagName( parserError, 'div' )[ 0 ];\n\t\t\tvar errorText;\n\n\t\t\tif ( errorElement ) {\n\n\t\t\t\terrorText = errorElement.textContent;\n\n\t\t\t} else {\n\n\t\t\t\terrorText = parserErrorToText( parserError );\n\n\t\t\t}\n\n\t\t\tconsole.error( 'THREE.ColladaLoader: Failed to parse collada file.\\n', errorText );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// metadata\n\n\t\tvar version = collada.getAttribute( 'version' );\n\t\tconsole.log( 'THREE.ColladaLoader: File version', version );\n\n\t\tvar asset = parseAsset( getElementsByTagName( collada, 'asset' )[ 0 ] );\n\t\tvar textureLoader = new TextureLoader( this.manager );\n\t\ttextureLoader.setPath( this.resourcePath || path ).setCrossOrigin( this.crossOrigin );\n\n\t\tvar tgaLoader;\n\n\t\tif ( TGALoader ) {\n\n\t\t\ttgaLoader = new TGALoader( this.manager );\n\t\t\ttgaLoader.setPath( this.resourcePath || path );\n\n\t\t}\n\n\t\t//\n\n\t\tvar animations = [];\n\t\tvar kinematics = {};\n\t\tvar count = 0;\n\n\t\t//\n\n\t\tvar library = {\n\t\t\tanimations: {},\n\t\t\tclips: {},\n\t\t\tcontrollers: {},\n\t\t\timages: {},\n\t\t\teffects: {},\n\t\t\tmaterials: {},\n\t\t\tcameras: {},\n\t\t\tlights: {},\n\t\t\tgeometries: {},\n\t\t\tnodes: {},\n\t\t\tvisualScenes: {},\n\t\t\tkinematicsModels: {},\n\t\t\tphysicsModels: {},\n\t\t\tkinematicsScenes: {}\n\t\t};\n\n\t\tparseLibrary( collada, 'library_animations', 'animation', parseAnimation );\n\t\tparseLibrary( collada, 'library_animation_clips', 'animation_clip', parseAnimationClip );\n\t\tparseLibrary( collada, 'library_controllers', 'controller', parseController );\n\t\tparseLibrary( collada, 'library_images', 'image', parseImage );\n\t\tparseLibrary( collada, 'library_effects', 'effect', parseEffect );\n\t\tparseLibrary( collada, 'library_materials', 'material', parseMaterial );\n\t\tparseLibrary( collada, 'library_cameras', 'camera', parseCamera );\n\t\tparseLibrary( collada, 'library_lights', 'light', parseLight );\n\t\tparseLibrary( collada, 'library_geometries', 'geometry', parseGeometry );\n\t\tparseLibrary( collada, 'library_nodes', 'node', parseNode );\n\t\tparseLibrary( collada, 'library_visual_scenes', 'visual_scene', parseVisualScene );\n\t\tparseLibrary( collada, 'library_kinematics_models', 'kinematics_model', parseKinematicsModel );\n\t\tparseLibrary( collada, 'library_physics_models', 'physics_model', parsePhysicsModel );\n\t\tparseLibrary( collada, 'scene', 'instance_kinematics_scene', parseKinematicsScene );\n\n\t\tbuildLibrary( library.animations, buildAnimation );\n\t\tbuildLibrary( library.clips, buildAnimationClip );\n\t\tbuildLibrary( library.controllers, buildController );\n\t\tbuildLibrary( library.images, buildImage );\n\t\tbuildLibrary( library.effects, buildEffect );\n\t\tbuildLibrary( library.materials, buildMaterial );\n\t\tbuildLibrary( library.cameras, buildCamera );\n\t\tbuildLibrary( library.lights, buildLight );\n\t\tbuildLibrary( library.geometries, buildGeometry );\n\t\tbuildLibrary( library.visualScenes, buildVisualScene );\n\n\t\tsetupAnimations();\n\t\tsetupKinematics();\n\n\t\tvar scene = parseScene( getElementsByTagName( collada, 'scene' )[ 0 ] );\n\n\t\tif ( asset.upAxis === 'Z_UP' ) {\n\n\t\t\tscene.quaternion.setFromEuler( new Euler( - Math.PI / 2, 0, 0 ) );\n\n\t\t}\n\n\t\tscene.scale.multiplyScalar( asset.unit );\n\n\t\treturn {\n\t\t\tanimations: animations,\n\t\t\tkinematics: kinematics,\n\t\t\tlibrary: library,\n\t\t\tscene: scene\n\t\t};\n\n\t}\n\n} );\n\n\n\n// CONCATENATED MODULE: ./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!./node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!./node_modules/_babel-loader@8.1.0@babel-loader/lib!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./src/model-collada.vue?vue&type=script&lang=js&\n\n\n/* harmony default export */ var model_colladavue_type_script_lang_js_ = ({\n  name: 'model-collada',\n  mixins: [model_mixin],\n  props: {\n    lights: {\n      type: Array,\n      default: function _default() {\n        return [{\n          type: 'HemisphereLight',\n          position: {\n            x: 0,\n            y: 1,\n            z: 0\n          },\n          skyColor: 0xaaaaff,\n          groundColor: 0x806060,\n          intensity: 0.2\n        }, {\n          type: 'DirectionalLight',\n          position: {\n            x: 1,\n            y: 1,\n            z: 1\n          },\n          color: 0xffffff,\n          intensity: 0.8\n        }];\n      }\n    },\n    smoothing: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    var loader = new ColladaLoader();\n    loader.setCrossOrigin(this.crossOrigin);\n    return {\n      loader: loader\n    };\n  },\n  methods: {\n    getObject: function getObject(collada) {\n      return collada.scene;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/model-collada.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_model_colladavue_type_script_lang_js_ = (model_colladavue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/model-collada.vue\nvar model_collada_render, model_collada_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar model_collada_component = normalizeComponent(\n  src_model_colladavue_type_script_lang_js_,\n  model_collada_render,\n  model_collada_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var model_collada = (model_collada_component.exports);\n// CONCATENATED MODULE: ./node_modules/_three@0.118.3@three/examples/jsm/loaders/GLTFLoader.js\n/**\n * @author Rich Tibbett / https://github.com/richtr\n * @author mrdoob / http://mrdoob.com/\n * @author Tony Parisi / http://www.tonyparisi.com/\n * @author Takahiro / https://github.com/takahirox\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\n\n\nvar GLTFLoader_GLTFLoader = ( function () {\n\n\tfunction GLTFLoader( manager ) {\n\n\t\tLoader.call( this, manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ddsLoader = null;\n\n\t\tthis.pluginCallbacks = [];\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t}\n\n\tGLTFLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\t\tconstructor: GLTFLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar resourcePath;\n\n\t\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\t\tresourcePath = this.resourcePath;\n\n\t\t\t} else if ( this.path !== '' ) {\n\n\t\t\t\tresourcePath = this.path;\n\n\t\t\t} else {\n\n\t\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t\t}\n\n\t\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tvar _onError = function ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t};\n\n\t\t\tvar loader = new FileLoader( scope.manager );\n\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\t\t\tloader.setRequestHeader( this.requestHeader );\n\n\t\t\tif ( scope.crossOrigin === 'use-credentials' ) {\n\n\t\t\t\tloader.setWithCredentials( true );\n\n\t\t\t}\n\n\t\t\tloader.load( url, function ( data ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t\t}, _onError );\n\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t_onError( e );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, _onError );\n\n\t\t},\n\n\t\tsetDRACOLoader: function ( dracoLoader ) {\n\n\t\t\tthis.dracoLoader = dracoLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetDDSLoader: function ( ddsLoader ) {\n\n\t\t\tthis.ddsLoader = ddsLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tregister: function ( callback ) {\n\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tunregister: function ( callback ) {\n\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( data, path, onLoad, onError ) {\n\n\t\t\tvar content;\n\t\t\tvar extensions = {};\n\t\t\tvar plugins = {};\n\n\t\t\tif ( typeof data === 'string' ) {\n\n\t\t\t\tcontent = data;\n\n\t\t\t} else {\n\n\t\t\t\tvar magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar json = JSON.parse( content );\n\n\t\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar parser = new GLTFParser( json, {\n\n\t\t\t\tpath: path || this.resourcePath || '',\n\t\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\t\tmanager: this.manager\n\n\t\t\t} );\n\n\t\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\t\tfor ( var i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\t\tvar plugin = this.pluginCallbacks[ i ]( parser );\n\t\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t\t// Remove this workaround if we move all the existing\n\t\t\t\t// extension handlers to plugin system\n\t\t\t\textensions[ plugin.name ] = true;\n\n\t\t\t}\n\n\t\t\tif ( json.extensionsUsed ) {\n\n\t\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\n\t\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_LIGHTS_PUNCTUAL:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFLightsExtension( json );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureDDSExtension( this.ddsLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tparser.setExtensions( extensions );\n\t\t\tparser.setPlugins( plugins );\n\t\t\tparser.parse( onLoad, onError );\n\n\t\t}\n\n\t} );\n\n\t/* GLTFREGISTRY */\n\n\tfunction GLTFRegistry() {\n\n\t\tvar objects = {};\n\n\t\treturn\t{\n\n\t\t\tget: function ( key ) {\n\n\t\t\t\treturn objects[ key ];\n\n\t\t\t},\n\n\t\t\tadd: function ( key, object ) {\n\n\t\t\t\tobjects[ key ] = object;\n\n\t\t\t},\n\n\t\t\tremove: function ( key ) {\n\n\t\t\t\tdelete objects[ key ];\n\n\t\t\t},\n\n\t\t\tremoveAll: function () {\n\n\t\t\t\tobjects = {};\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/*********************************/\n\t/********** EXTENSIONS ***********/\n\t/*********************************/\n\n\tvar EXTENSIONS = {\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\t\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\t\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\t\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\n\t};\n\n\t/**\n\t * DDS Texture Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\n\t *\n\t */\n\tfunction GLTFTextureDDSExtension( ddsLoader ) {\n\n\t\tif ( ! ddsLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\n\t\tthis.ddsLoader = ddsLoader;\n\n\t}\n\n\t/**\n\t * Punctual Lights Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n\t */\n\tfunction GLTFLightsExtension( json ) {\n\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\tvar extension = ( json.extensions && json.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ] ) || {};\n\t\tthis.lightDefs = extension.lights || [];\n\n\t}\n\n\tGLTFLightsExtension.prototype.loadLight = function ( lightIndex ) {\n\n\t\tvar lightDef = this.lightDefs[ lightIndex ];\n\t\tvar lightNode;\n\n\t\tvar color = new Color( 0xffffff );\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = lightDef.name || ( 'light_' + lightIndex );\n\n\t\treturn Promise.resolve( lightNode );\n\n\t};\n\n\t/**\n\t * Unlit Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n\t */\n\tfunction GLTFMaterialsUnlitExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\n\n\t\treturn MeshBasicMaterial;\n\n\t};\n\n\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, materialDef, parser ) {\n\n\t\tvar pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Clearcoat Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n\t */\n\tfunction GLTFMaterialsClearcoatExtension( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tGLTFMaterialsClearcoatExtension.prototype.getMaterialType = function ( /* materialIndex */ ) {\n\n\t\treturn MeshPhysicalMaterial;\n\n\t};\n\n\tGLTFMaterialsClearcoatExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\n\n\t\tvar parser = this.parser;\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tvar extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tvar scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/* BINARY EXTENSION */\n\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\n\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\n\tfunction GLTFBinaryExtension( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tvar chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\n\n\t\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * DRACO Mesh Compression Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n\t */\n\tfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\n\n\t\tvar json = this.json;\n\t\tvar dracoLoader = this.dracoLoader;\n\t\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tvar threeAttributeMap = {};\n\t\tvar attributeNormalizedMap = {};\n\t\tvar attributeTypeMap = {};\n\n\t\tfor ( var attributeName in gltfAttributeMap ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( attributeName in primitive.attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( var attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Texture Transform Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n\t */\n\tfunction GLTFTextureTransformExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\tGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t};\n\n\t/**\n\t * Specular-Glossiness Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n\t */\n\n\t/**\n\t * A sub class of StandardMaterial with some of the functionality\n\t * changed via the `onBeforeCompile` callback\n\t * @pailhead\n\t */\n\n\tfunction GLTFMeshStandardSGMaterial( params ) {\n\n\t\tMeshStandardMaterial.call( this );\n\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t//various chunks that need replacing\n\t\tvar specularMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar glossinessMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar specularMapFragmentChunk = [\n\t\t\t'vec3 specularFactor = specular;',\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar glossinessMapFragmentChunk = [\n\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar lightPhysicalFragmentChunk = [\n\t\t\t'PhysicalMaterial material;',\n\t\t\t'material.diffuseColor = diffuseColor.rgb;',\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n\t\t\t'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.',\n\t\t\t'material.specularRoughness += geometryRoughness;',\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\n\t\t\t'material.specularColor = specularFactor.rgb;',\n\t\t].join( '\\n' );\n\n\t\tvar uniforms = {\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\n\t\t\tglossiness: { value: 1 },\n\t\t\tspecularMap: { value: null },\n\t\t\tglossinessMap: { value: null }\n\t\t};\n\n\t\tthis._extraUniforms = uniforms;\n\n\t\t// please see #14031 or #13198 for an alternate approach\n\t\tthis.onBeforeCompile = function ( shader ) {\n\n\t\t\tfor ( var uniformName in uniforms ) {\n\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\n\n\t\t\t}\n\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( 'uniform float roughness;', 'uniform vec3 specular;' );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( 'uniform float metalness;', 'uniform float glossiness;' );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk );\n\t\t\tshader.fragmentShader = shader.fragmentShader.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t};\n\n\t\t/*eslint-disable*/\n\t\tObject.defineProperties(\n\t\t\tthis,\n\t\t\t{\n\t\t\t\tspecular: {\n\t\t\t\t\tget: function () { return uniforms.specular.value; },\n\t\t\t\t\tset: function ( v ) { uniforms.specular.value = v; }\n\t\t\t\t},\n\t\t\t\tspecularMap: {\n\t\t\t\t\tget: function () { return uniforms.specularMap.value; },\n\t\t\t\t\tset: function ( v ) { uniforms.specularMap.value = v; }\n\t\t\t\t},\n\t\t\t\tglossiness: {\n\t\t\t\t\tget: function () { return uniforms.glossiness.value; },\n\t\t\t\t\tset: function ( v ) { uniforms.glossiness.value = v; }\n\t\t\t\t},\n\t\t\t\tglossinessMap: {\n\t\t\t\t\tget: function () { return uniforms.glossinessMap.value; },\n\t\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\t\tuniforms.glossinessMap.value = v;\n\t\t\t\t\t\t//how about something like this - @pailhead\n\t\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t\t\t// set USE_ROUGHNESSMAP to enable vUv\n\t\t\t\t\t\t\tthis.defines.USE_ROUGHNESSMAP = '';\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdelete this.defines.USE_ROUGHNESSMAP;\n\t\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\t/*eslint-enable*/\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\n\t\tthis.setValues( params );\n\n\t}\n\n\tGLTFMeshStandardSGMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\n\tGLTFMeshStandardSGMaterial.prototype.constructor = GLTFMeshStandardSGMaterial;\n\n\tGLTFMeshStandardSGMaterial.prototype.copy = function ( source ) {\n\n\t\tMeshStandardMaterial.prototype.copy.call( this, source );\n\t\tthis.specularMap = source.specularMap;\n\t\tthis.specular.copy( source.specular );\n\t\tthis.glossinessMap = source.glossinessMap;\n\t\tthis.glossiness = source.glossiness;\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\t\treturn this;\n\n\t};\n\n\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\n\n\t\treturn {\n\n\t\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\n\n\t\t\tspecularGlossinessParams: [\n\t\t\t\t'color',\n\t\t\t\t'map',\n\t\t\t\t'lightMap',\n\t\t\t\t'lightMapIntensity',\n\t\t\t\t'aoMap',\n\t\t\t\t'aoMapIntensity',\n\t\t\t\t'emissive',\n\t\t\t\t'emissiveIntensity',\n\t\t\t\t'emissiveMap',\n\t\t\t\t'bumpMap',\n\t\t\t\t'bumpScale',\n\t\t\t\t'normalMap',\n\t\t\t\t'normalMapType',\n\t\t\t\t'displacementMap',\n\t\t\t\t'displacementScale',\n\t\t\t\t'displacementBias',\n\t\t\t\t'specularMap',\n\t\t\t\t'specular',\n\t\t\t\t'glossinessMap',\n\t\t\t\t'glossiness',\n\t\t\t\t'alphaMap',\n\t\t\t\t'envMap',\n\t\t\t\t'envMapIntensity',\n\t\t\t\t'refractionRatio',\n\t\t\t],\n\n\t\t\tgetMaterialType: function () {\n\n\t\t\t\treturn GLTFMeshStandardSGMaterial;\n\n\t\t\t},\n\n\t\t\textendParams: function ( materialParams, materialDef, parser ) {\n\n\t\t\t\tvar pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t\t\t}\n\n\t\t\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\t\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t},\n\n\t\t\tcreateMaterial: function ( materialParams ) {\n\n\t\t\t\tvar material = new GLTFMeshStandardSGMaterial( materialParams );\n\t\t\t\tmaterial.fog = true;\n\n\t\t\t\tmaterial.color = materialParams.color;\n\n\t\t\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\n\n\t\t\t\tmaterial.lightMap = null;\n\t\t\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\t\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n\t\t\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\t\t\tmaterial.emissive = materialParams.emissive;\n\t\t\t\tmaterial.emissiveIntensity = 1.0;\n\t\t\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n\t\t\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n\t\t\t\tmaterial.bumpScale = 1;\n\n\t\t\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n\t\t\t\tmaterial.normalMapType = TangentSpaceNormalMap;\n\n\t\t\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\n\n\t\t\t\tmaterial.displacementMap = null;\n\t\t\t\tmaterial.displacementScale = 1;\n\t\t\t\tmaterial.displacementBias = 0;\n\n\t\t\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n\t\t\t\tmaterial.specular = materialParams.specular;\n\n\t\t\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n\t\t\t\tmaterial.glossiness = materialParams.glossiness;\n\n\t\t\t\tmaterial.alphaMap = null;\n\n\t\t\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n\t\t\t\tmaterial.envMapIntensity = 1.0;\n\n\t\t\t\tmaterial.refractionRatio = 0.98;\n\n\t\t\t\treturn material;\n\n\t\t\t},\n\n\t\t};\n\n\t}\n\n\t/**\n\t * Mesh Quantization Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n\t */\n\tfunction GLTFMeshQuantizationExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n\t/*********************************/\n\t/********** INTERPOLATION ********/\n\t/*********************************/\n\n\t// Spline Interpolation\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tGLTFCubicSplineInterpolant.prototype = Object.create( Interpolant.prototype );\n\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\n\n\tGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( var i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer;\n\t\tvar values = this.sampleValues;\n\t\tvar stride = this.valueSize;\n\n\t\tvar stride2 = stride * 2;\n\t\tvar stride3 = stride * 3;\n\n\t\tvar td = t1 - t0;\n\n\t\tvar p = ( t - t0 ) / td;\n\t\tvar pp = p * p;\n\t\tvar ppp = pp * p;\n\n\t\tvar offset1 = i1 * stride3;\n\t\tvar offset0 = offset1 - stride3;\n\n\t\tvar s2 = - 2 * ppp + 3 * pp;\n\t\tvar s3 = ppp - pp;\n\t\tvar s0 = 1 - s2;\n\t\tvar s1 = s3 - pp + p;\n\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\t\tfor ( var i = 0; i !== stride; i ++ ) {\n\n\t\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\t/*********************************/\n\t/********** INTERNALS ************/\n\t/*********************************/\n\n\t/* CONSTANTS */\n\n\tvar WEBGL_CONSTANTS = {\n\t\tFLOAT: 5126,\n\t\t//FLOAT_MAT2: 35674,\n\t\tFLOAT_MAT3: 35675,\n\t\tFLOAT_MAT4: 35676,\n\t\tFLOAT_VEC2: 35664,\n\t\tFLOAT_VEC3: 35665,\n\t\tFLOAT_VEC4: 35666,\n\t\tLINEAR: 9729,\n\t\tREPEAT: 10497,\n\t\tSAMPLER_2D: 35678,\n\t\tPOINTS: 0,\n\t\tLINES: 1,\n\t\tLINE_LOOP: 2,\n\t\tLINE_STRIP: 3,\n\t\tTRIANGLES: 4,\n\t\tTRIANGLE_STRIP: 5,\n\t\tTRIANGLE_FAN: 6,\n\t\tUNSIGNED_BYTE: 5121,\n\t\tUNSIGNED_SHORT: 5123\n\t};\n\n\tvar WEBGL_COMPONENT_TYPES = {\n\t\t5120: Int8Array,\n\t\t5121: Uint8Array,\n\t\t5122: Int16Array,\n\t\t5123: Uint16Array,\n\t\t5125: Uint32Array,\n\t\t5126: Float32Array\n\t};\n\n\tvar WEBGL_FILTERS = {\n\t\t9728: NearestFilter,\n\t\t9729: LinearFilter,\n\t\t9984: NearestMipmapNearestFilter,\n\t\t9985: LinearMipmapNearestFilter,\n\t\t9986: NearestMipmapLinearFilter,\n\t\t9987: LinearMipmapLinearFilter\n\t};\n\n\tvar WEBGL_WRAPPINGS = {\n\t\t33071: ClampToEdgeWrapping,\n\t\t33648: MirroredRepeatWrapping,\n\t\t10497: RepeatWrapping\n\t};\n\n\tvar WEBGL_TYPE_SIZES = {\n\t\t'SCALAR': 1,\n\t\t'VEC2': 2,\n\t\t'VEC3': 3,\n\t\t'VEC4': 4,\n\t\t'MAT2': 4,\n\t\t'MAT3': 9,\n\t\t'MAT4': 16\n\t};\n\n\tvar ATTRIBUTES = {\n\t\tPOSITION: 'position',\n\t\tNORMAL: 'normal',\n\t\tTANGENT: 'tangent',\n\t\tTEXCOORD_0: 'uv',\n\t\tTEXCOORD_1: 'uv2',\n\t\tCOLOR_0: 'color',\n\t\tWEIGHTS_0: 'skinWeight',\n\t\tJOINTS_0: 'skinIndex',\n\t};\n\n\tvar PATH_PROPERTIES = {\n\t\tscale: 'scale',\n\t\ttranslation: 'position',\n\t\trotation: 'quaternion',\n\t\tweights: 'morphTargetInfluences'\n\t};\n\n\tvar INTERPOLATION = {\n\t\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\t\tLINEAR: InterpolateLinear,\n\t\tSTEP: InterpolateDiscrete\n\t};\n\n\tvar ALPHA_MODES = {\n\t\tOPAQUE: 'OPAQUE',\n\t\tMASK: 'MASK',\n\t\tBLEND: 'BLEND'\n\t};\n\n\tvar MIME_TYPE_FORMATS = {\n\t\t'image/png': RGBAFormat,\n\t\t'image/jpeg': RGBFormat\n\t};\n\n\t/* UTILITY FUNCTIONS */\n\n\tfunction resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t\t// Host Relative URL\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t\t}\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t\t// Blob URL\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t\t// Relative URL\n\t\treturn path + url;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n\t */\n\tfunction createDefaultMaterial( cache ) {\n\n\t\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\t\tcolor: 0xFFFFFF,\n\t\t\t\temissive: 0x000000,\n\t\t\t\tmetalness: 1,\n\t\t\t\troughness: 1,\n\t\t\t\ttransparent: false,\n\t\t\t\tdepthTest: true,\n\t\t\t\tside: FrontSide\n\t\t\t} );\n\n\t\t}\n\n\t\treturn cache[ 'DefaultMaterial' ];\n\n\t}\n\n\tfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t\t// Add unknown glTF extensions to an object's userData.\n\n\t\tfor ( var name in objectDef.extensions ) {\n\n\t\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * @param {Object3D|Material|BufferGeometry} object\n\t * @param {GLTF.definition} gltfDef\n\t */\n\tfunction assignExtrasToUserData( object, gltfDef ) {\n\n\t\tif ( gltfDef.extras !== undefined ) {\n\n\t\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n\t *\n\t * @param {BufferGeometry} geometry\n\t * @param {Array<GLTF.Target>} targets\n\t * @param {GLTFParser} parser\n\t * @return {Promise<BufferGeometry>}\n\t */\n\tfunction addMorphTargets( geometry, targets, parser ) {\n\n\t\tvar hasMorphPosition = false;\n\t\tvar hasMorphNormal = false;\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\n\t\t\tif ( hasMorphPosition && hasMorphNormal ) break;\n\n\t\t}\n\n\t\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\n\n\t\tvar pendingPositionAccessors = [];\n\t\tvar pendingNormalAccessors = [];\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( hasMorphPosition ) {\n\n\t\t\t\tvar pendingAccessor = target.POSITION !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t\t: geometry.attributes.position;\n\n\t\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t\tif ( hasMorphNormal ) {\n\n\t\t\t\tvar pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t\t: geometry.attributes.normal;\n\n\t\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( [\n\t\t\tPromise.all( pendingPositionAccessors ),\n\t\t\tPromise.all( pendingNormalAccessors )\n\t\t] ).then( function ( accessors ) {\n\n\t\t\tvar morphPositions = accessors[ 0 ];\n\t\t\tvar morphNormals = accessors[ 1 ];\n\n\t\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t\treturn geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * @param {Mesh} mesh\n\t * @param {GLTF.Mesh} meshDef\n\t */\n\tfunction updateMorphTargets( mesh, meshDef ) {\n\n\t\tmesh.updateMorphTargets();\n\n\t\tif ( meshDef.weights !== undefined ) {\n\n\t\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\t\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\t\tvar targetNames = meshDef.extras.targetNames;\n\n\t\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createPrimitiveKey( primitiveDef ) {\n\n\t\tvar dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\t\tvar geometryKey;\n\n\t\tif ( dracoExtension ) {\n\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t\t} else {\n\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t\t}\n\n\t\treturn geometryKey;\n\n\t}\n\n\tfunction createAttributesKey( attributes ) {\n\n\t\tvar attributesKey = '';\n\n\t\tvar keys = Object.keys( attributes ).sort();\n\n\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t\t}\n\n\t\treturn attributesKey;\n\n\t}\n\n\t/* GLTF PARSER */\n\n\tfunction GLTFParser( json, options ) {\n\n\t\tthis.json = json || {};\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options || {};\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox/.test( navigator.userAgent ) === false ) {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tGLTFParser.prototype.setExtensions = function ( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t};\n\n\tGLTFParser.prototype.setPlugins = function ( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t};\n\n\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis.markDefs();\n\n\t\tPromise.all( [\n\n\t\t\tthis.getDependencies( 'scene' ),\n\t\t\tthis.getDependencies( 'animation' ),\n\t\t\tthis.getDependencies( 'camera' ),\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tonLoad( result );\n\n\t\t} ).catch( onError );\n\n\t};\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\tGLTFParser.prototype.markDefs = function () {\n\n\t\tvar nodeDefs = this.json.nodes || [];\n\t\tvar skinDefs = this.json.skins || [];\n\t\tvar meshDefs = this.json.meshes || [];\n\n\t\tvar meshReferences = {};\n\t\tvar meshUses = {};\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tvar joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Meshes can (and should) be reused by multiple nodes in a glTF asset. To\n\t\t// avoid having more than one Mesh with the same name, count\n\t\t// references and rename instances below.\n\t\t//\n\t\t// Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tif ( meshReferences[ nodeDef.mesh ] === undefined ) {\n\n\t\t\t\t\tmeshReferences[ nodeDef.mesh ] = meshUses[ nodeDef.mesh ] = 0;\n\n\t\t\t\t}\n\n\t\t\t\tmeshReferences[ nodeDef.mesh ] ++;\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.json.meshReferences = meshReferences;\n\t\tthis.json.meshUses = meshUses;\n\n\t};\n\n\tGLTFParser.prototype._invokeOne = function ( func ) {\n\n\t\tvar extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tvar result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t};\n\n\tGLTFParser.prototype._invokeAll = function ( func ) {\n\n\t\tvar extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tpending.push( func( extensions[ i ] ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tGLTFParser.prototype.getDependency = function ( type, index ) {\n\n\t\tvar cacheKey = type + ':' + index;\n\t\tvar dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this.loadTexture( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'light':\n\t\t\t\t\tdependency = this.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].loadLight( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t};\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tGLTFParser.prototype.getDependencies = function ( type ) {\n\n\t\tvar dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tvar parser = this;\n\t\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\n\n\t\tvar bufferDef = this.json.buffers[ bufferIndex ];\n\t\tvar loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tvar options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\n\n\t\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tvar byteLength = bufferViewDef.byteLength || 0;\n\t\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tvar pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tvar bufferView = bufferViews[ 0 ];\n\n\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tvar itemBytes = elementBytes * itemSize;\n\t\t\tvar byteOffset = accessorDef.byteOffset || 0;\n\t\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tvar normalized = accessorDef.normalized === true;\n\t\t\tvar array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tvar ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tvar ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar options = this.options;\n\t\tvar textureLoader = this.textureLoader;\n\n\t\tvar URL = self.URL || self.webkitURL;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tvar textureExtensions = textureDef.extensions || {};\n\n\t\tvar source;\n\n\t\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\n\n\t\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\n\n\t\t} else {\n\n\t\t\tsource = json.images[ textureDef.source ];\n\n\t\t}\n\n\t\tvar sourceURI = source.uri;\n\t\tvar isObjectURL = false;\n\n\t\tif ( source.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\t// Load Texture resource.\n\n\t\t\tvar loader = options.manager.getHandler( sourceURI );\n\n\t\t\tif ( ! loader ) {\n\n\t\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\n\t\t\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\n\t\t\t\t\t: textureLoader;\n\n\t\t\t}\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tvar onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tresolve( new CanvasTexture( imageBitmap ) );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\n\n\t\t\t// Ignore unknown mime types, like DDS files.\n\t\t\tif ( source.mimeType in MIME_TYPE_FORMATS ) {\n\n\t\t\t\ttexture.format = MIME_TYPE_FORMATS[ source.mimeType ];\n\n\t\t\t}\n\n\t\t\tvar samplers = json.samplers || {};\n\t\t\tvar sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\tparser.associations.set( texture, {\n\t\t\t\ttype: 'textures',\n\t\t\t\tindex: textureIndex\n\t\t\t} );\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise}\n\t */\n\tGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\n\n\t\tvar parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\tif ( ! texture.isCompressedTexture ) {\n\n\t\t\t\tswitch ( mapName ) {\n\n\t\t\t\t\tcase 'aoMap':\n\t\t\t\t\tcase 'emissiveMap':\n\t\t\t\t\tcase 'metalnessMap':\n\t\t\t\t\tcase 'normalMap':\n\t\t\t\t\tcase 'roughnessMap':\n\t\t\t\t\t\ttexture.format = RGBFormat;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tvar gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accomodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tGLTFParser.prototype.assignFinalMaterial = function ( mesh ) {\n\n\t\tvar geometry = mesh.geometry;\n\t\tvar material = mesh.material;\n\n\t\tvar useVertexTangents = geometry.attributes.tangent !== undefined;\n\t\tvar useVertexColors = geometry.attributes.color !== undefined;\n\t\tvar useFlatShading = geometry.attributes.normal === undefined;\n\t\tvar useSkinning = mesh.isSkinnedMesh === true;\n\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\n\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tvar pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tvar lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\n\n\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\n\n\t\t\tvar cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\n\t\t\t\tif ( useVertexTangents ) cachedMaterial.vertexTangents = true;\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\n\n\t\t}\n\n\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\tif ( material.normalScale && ! useVertexTangents ) {\n\n\t\t\tmaterial.normalScale.y = - material.normalScale.y;\n\n\t\t}\n\n\t\tif ( material.clearcoatNormalScale && ! useVertexTangents ) {\n\n\t\t\tmaterial.clearcoatNormalScale.y = - material.clearcoatNormalScale.y;\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t};\n\n\tGLTFParser.prototype.getMaterialType = function ( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar materialDef = json.materials[ materialIndex ];\n\n\t\tvar materialType;\n\t\tvar materialParams = {};\n\t\tvar materialExtensions = materialDef.extensions || {};\n\n\t\tvar pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tvar material;\n\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { type: 'materials', index: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t */\n\tfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar box = new Box3();\n\n\t\tif ( attributes.POSITION !== undefined ) {\n\n\t\t\tvar accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\t\tvar min = accessor.min;\n\t\t\tvar max = accessor.max;\n\n\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\tbox.set(\n\t\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar targets = primitiveDef.targets;\n\n\t\tif ( targets !== undefined ) {\n\n\t\t\tvar maxDisplacement = new Vector3();\n\t\t\tvar vector = new Vector3();\n\n\t\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\t\tvar accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\t\tvar min = accessor.min;\n\t\t\t\t\tvar max = accessor.max;\n\n\t\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\t\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\t\tbox.expandByVector( maxDisplacement );\n\n\t\t}\n\n\t\tgeometry.boundingBox = box;\n\n\t\tvar sphere = new Sphere();\n\n\t\tbox.getCenter( sphere.center );\n\t\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\t\tgeometry.boundingSphere = sphere;\n\n\t}\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t * @return {Promise<BufferGeometry>}\n\t */\n\tfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar pending = [];\n\n\t\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t\t.then( function ( accessor ) {\n\n\t\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tfor ( var gltfAttributeName in attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t\t}\n\n\t\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\t\tgeometry.setIndex( accessor );\n\n\t\t\t} );\n\n\t\t\tpending.push( accessor );\n\n\t\t}\n\n\t\tassignExtrasToUserData( geometry, primitiveDef );\n\n\t\tcomputeBounds( geometry, primitiveDef, parser );\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\treturn primitiveDef.targets !== undefined\n\t\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t\t: geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {Number} drawMode\n\t * @return {BufferGeometry}\n\t */\n\tfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\t\tvar index = geometry.getIndex();\n\n\t\t// generate index if not present\n\n\t\tif ( index === null ) {\n\n\t\t\tvar indices = [];\n\n\t\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\t\tif ( position !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\n\n\t\t\t\t\tindices.push( i );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setIndex( indices );\n\t\t\t\tindex = geometry.getIndex();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\t\treturn geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar numberOfTriangles = index.count - 2;\n\t\tvar newIndices = [];\n\n\t\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t\t// gl.TRIANGLE_FAN\n\n\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// gl.TRIANGLE_STRIP\n\n\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t\t}\n\n\t\t// build final geometry\n\n\t\tvar newGeometry = geometry.clone();\n\t\tnewGeometry.setIndex( newIndices );\n\n\t\treturn newGeometry;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\n\n\t\tvar parser = this;\n\t\tvar extensions = this.extensions;\n\t\tvar cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar primitive = primitives[ i ];\n\t\t\tvar cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tvar cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tvar geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar meshDef = json.meshes[ meshIndex ];\n\t\tvar primitives = meshDef.primitives;\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tvar materials = results.slice( 0, results.length - 1 );\n\t\t\tvar geometries = results[ results.length - 1 ];\n\n\t\t\tvar meshes = [];\n\n\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tvar geometry = geometries[ i ];\n\t\t\t\tvar primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tvar mesh;\n\n\t\t\t\tvar material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See .markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = meshDef.name || ( 'mesh_' + meshIndex );\n\n\t\t\t\tif ( geometries.length > 1 ) mesh.name += '_' + i;\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tvar group = new Group();\n\n\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\n\n\t\tvar camera;\n\t\tvar cameraDef = this.json.cameras[ cameraIndex ];\n\t\tvar params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = cameraDef.name;\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\n\n\t\tvar skinDef = this.json.skins[ skinIndex ];\n\n\t\tvar skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\n\n\t\tvar json = this.json;\n\n\t\tvar animationDef = json.animations[ animationIndex ];\n\n\t\tvar pendingNodes = [];\n\t\tvar pendingInputAccessors = [];\n\t\tvar pendingOutputAccessors = [];\n\t\tvar pendingSamplers = [];\n\t\tvar pendingTargets = [];\n\n\t\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tvar channel = animationDef.channels[ i ];\n\t\t\tvar sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tvar target = channel.target;\n\t\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar nodes = dependencies[ 0 ];\n\t\t\tvar inputAccessors = dependencies[ 1 ];\n\t\t\tvar outputAccessors = dependencies[ 2 ];\n\t\t\tvar samplers = dependencies[ 3 ];\n\t\t\tvar targets = dependencies[ 4 ];\n\n\t\t\tvar tracks = [];\n\n\t\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tvar node = nodes[ i ];\n\t\t\t\tvar inputAccessor = inputAccessors[ i ];\n\t\t\t\tvar outputAccessor = outputAccessors[ i ];\n\t\t\t\tvar sampler = samplers[ i ];\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tvar TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tvar targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tvar outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tvar scale;\n\n\t\t\t\t\tif ( outputArray.constructor === Int8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 127;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 255;\n\n\t\t\t\t\t} else if ( outputArray.constructor == Int16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 32767;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 65535;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported output accessor component type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( var j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar parser = this;\n\n\t\tvar meshReferences = json.meshReferences;\n\t\tvar meshUses = json.meshUses;\n\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\n\n\t\treturn ( function () {\n\n\t\t\tvar pending = [];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\t\t\tvar node;\n\n\t\t\t\t\tif ( meshReferences[ nodeDef.mesh ] > 1 ) {\n\n\t\t\t\t\t\tvar instanceNum = meshUses[ nodeDef.mesh ] ++;\n\n\t\t\t\t\t\tnode = mesh.clone();\n\t\t\t\t\t\tnode.name += '_instance_' + instanceNum;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tnode = mesh;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\t\t\tfor ( var i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ) );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ]\n\t\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'light', nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tvar node;\n\n\t\t\t// .isBone isn't in glTF spec. See .markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = PropertyBinding.sanitizeNodeName( nodeDef.name );\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tvar matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tparser.associations.set( node, { type: 'nodes', index: nodeIndex } );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tGLTFParser.prototype.loadScene = function () {\n\n\t\t// scene node hierachy builder\n\n\t\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\n\n\t\t\tvar nodeDef = json.nodes[ nodeId ];\n\n\t\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\t\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t\t\t// build skeleton here as well\n\n\t\t\t\tvar skinEntry;\n\n\t\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\t\t\tskinEntry = skin;\n\n\t\t\t\t\tvar pendingJoints = [];\n\n\t\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.all( pendingJoints );\n\n\t\t\t\t} ).then( function ( jointNodes ) {\n\n\t\t\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\t\t\tvar bones = [];\n\t\t\t\t\t\tvar boneInverses = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\n\n\t\t\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\t\t\tvar mat = new Matrix4();\n\n\t\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} );\n\n\t\t\t} ).then( function ( node ) {\n\n\t\t\t\t// build node hierachy\n\n\t\t\t\tparentObject.add( node );\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( nodeDef.children ) {\n\n\t\t\t\t\tvar children = nodeDef.children;\n\n\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar child = children[ i ];\n\t\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn function loadScene( sceneIndex ) {\n\n\t\t\tvar json = this.json;\n\t\t\tvar extensions = this.extensions;\n\t\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\n\t\t\tvar parser = this;\n\n\t\t\t// Loader returns Group, not Scene.\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\t\tvar scene = new Group();\n\t\t\tif ( sceneDef.name ) scene.name = sceneDef.name;\n\n\t\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\t\tvar nodeIds = sceneDef.nodes || [];\n\n\t\t\tvar pending = [];\n\n\t\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\t\treturn scene;\n\n\t\t\t} );\n\n\t\t};\n\n\t}();\n\n\treturn GLTFLoader;\n\n} )();\n\n\n\n// CONCATENATED MODULE: ./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!./node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!./node_modules/_babel-loader@8.1.0@babel-loader/lib!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./src/model-gltf.vue?vue&type=script&lang=js&\n\n\n/* harmony default export */ var model_gltfvue_type_script_lang_js_ = ({\n  name: 'model-gltf',\n  mixins: [model_mixin],\n  props: {\n    lights: {\n      type: Array,\n      default: function _default() {\n        return [{\n          type: 'AmbientLight',\n          color: 0xaaaaaa\n        }, {\n          type: 'DirectionalLight',\n          position: {\n            x: 1,\n            y: 1,\n            z: 1\n          },\n          color: 0xffffff,\n          intensity: 0.8\n        }];\n      }\n    },\n    gammaOutput: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    var loader = new GLTFLoader_GLTFLoader();\n    loader.setCrossOrigin(this.crossOrigin);\n    return {\n      loader: loader\n    };\n  },\n  methods: {\n    load: function load() {\n      var _this = this;\n\n      if (!this.src) return;\n\n      if (this.object) {\n        this.wrapper.remove(this.object);\n      }\n\n      this.loader.load(this.src, function (data) {\n        _this.addObject(data.scene);\n\n        _this.$emit('on-load');\n      }, function (xhr) {\n        _this.$emit('on-progress', xhr);\n      }, function (err) {\n        _this.$emit('on-error', err);\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/model-gltf.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_model_gltfvue_type_script_lang_js_ = (model_gltfvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/model-gltf.vue\nvar model_gltf_render, model_gltf_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar model_gltf_component = normalizeComponent(\n  src_model_gltfvue_type_script_lang_js_,\n  model_gltf_render,\n  model_gltf_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var model_gltf = (model_gltf_component.exports);\n// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\n\n\n\n\n\n // alias\n\nvar ModelJson = external_commonjs_vue_commonjs2_vue_root_Vue_default.a.extend(model_three, {\n  name: 'model-json'\n});\nvar ModelDae = external_commonjs_vue_commonjs2_vue_root_Vue_default.a.extend(model_collada, {\n  name: 'model-dae'\n});\nvar components = [model_obj, model_fbx, model_three, ModelJson, model_stl, model_ply, model_collada, ModelDae, model_gltf];\n/* eslint-disable no-shadow */\n\nvar install = function install(Vue) {\n  components.forEach(function (component) {\n    Vue.component(component.name, component);\n  });\n};\n\nif (typeof window !== 'undefined' && window.Vue) {\n  install(window.Vue);\n}\n\n/* harmony default export */ var src_0 = ({\n  install: install,\n  ModelObj: model_obj,\n  ModelFbx: model_fbx,\n  ModelThree: model_three,\n  ModelJson: ModelJson,\n  ModelStl: model_stl,\n  ModelPly: model_ply,\n  ModelCollada: model_collada,\n  ModelDae: ModelDae,\n  ModelGltf: model_gltf\n});\n\n// CONCATENATED MODULE: ./node_modules/_@vue_cli-service@4.4.6@@vue/cli-service/lib/commands/build/entry-lib.js\n\n\n/* harmony default export */ var entry_lib = __webpack_exports__[\"default\"] = (src_0);\n\n\n\n/***/ }),\n\n/***/ \"98a9\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\nvar Iterators = __webpack_require__(\"9806\");\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n\n\n/***/ }),\n\n/***/ \"98e0\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(\"1c8b\");\nvar from = __webpack_require__(\"e62b\");\nvar checkCorrectnessOfIteration = __webpack_require__(\"f471\");\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n\n\n/***/ }),\n\n/***/ \"99ab\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar redefine = __webpack_require__(\"1944\");\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n\n\n/***/ }),\n\n/***/ \"99ad\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar anObject = __webpack_require__(\"857c\");\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n\n\n/***/ }),\n\n/***/ \"99ee\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(\"1c8b\");\nvar createIteratorConstructor = __webpack_require__(\"69fa\");\nvar getPrototypeOf = __webpack_require__(\"908e\");\nvar setPrototypeOf = __webpack_require__(\"50fb\");\nvar setToStringTag = __webpack_require__(\"27b5\");\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\nvar redefine = __webpack_require__(\"1944\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\nvar IS_PURE = __webpack_require__(\"9b9d\");\nvar Iterators = __webpack_require__(\"9806\");\nvar IteratorsCore = __webpack_require__(\"2abc\");\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n\n\n/***/ }),\n\n/***/ \"9b11\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(\"6d51\");\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n\n\n/***/ }),\n\n/***/ \"9b9d\":\n/***/ (function(module, exports) {\n\nmodule.exports = false;\n\n\n/***/ }),\n\n/***/ \"9edd\":\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n\n/***/ \"9f67\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(\"a719\");\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/***/ }),\n\n/***/ \"a133\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toIndexedObject = __webpack_require__(\"da10\");\nvar addToUnscopables = __webpack_require__(\"258f\");\nvar Iterators = __webpack_require__(\"9806\");\nvar InternalStateModule = __webpack_require__(\"b702\");\nvar defineIterator = __webpack_require__(\"99ee\");\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n/***/ }),\n\n/***/ \"a4c7\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* eslint-disable no-new */\nvar global = __webpack_require__(\"d890\");\nvar fails = __webpack_require__(\"efe2\");\nvar checkCorrectnessOfIteration = __webpack_require__(\"f471\");\nvar NATIVE_ARRAY_BUFFER_VIEWS = __webpack_require__(\"5a9e\").NATIVE_ARRAY_BUFFER_VIEWS;\n\nvar ArrayBuffer = global.ArrayBuffer;\nvar Int8Array = global.Int8Array;\n\nmodule.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {\n  Int8Array(1);\n}) || !fails(function () {\n  new Int8Array(-1);\n}) || !checkCorrectnessOfIteration(function (iterable) {\n  new Int8Array();\n  new Int8Array(null);\n  new Int8Array(1.5);\n  new Int8Array(iterable);\n}, true) || fails(function () {\n  // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill\n  return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;\n});\n\n\n/***/ }),\n\n/***/ \"a719\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/***/ }),\n\n/***/ \"a7ef\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $reduceRight = __webpack_require__(\"58d8\").right;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduceRicht` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduceright\nexportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {\n  return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ \"aa6b\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar propertyIsEnumerableModule = __webpack_require__(\"ef71\");\nvar createPropertyDescriptor = __webpack_require__(\"38b9\");\nvar toIndexedObject = __webpack_require__(\"da10\");\nvar toPrimitive = __webpack_require__(\"9f67\");\nvar has = __webpack_require__(\"faa8\");\nvar IE8_DOM_DEFINE = __webpack_require__(\"2039\");\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n\n\n/***/ }),\n\n/***/ \"ab0f\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $findIndex = __webpack_require__(\"5dfd\").findIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.findindex\nexportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {\n  return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ \"ab6e\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $copyWithin = __webpack_require__(\"19fc\");\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.copyWithin` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.copywithin\nexportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {\n  return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n});\n\n\n/***/ }),\n\n/***/ \"ae25\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"d890\");\nvar isObject = __webpack_require__(\"a719\");\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n\n/***/ }),\n\n/***/ \"af86\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"d890\");\nvar DOMIterables = __webpack_require__(\"064b\");\nvar ArrayIteratorMethods = __webpack_require__(\"a133\");\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n\n\n/***/ }),\n\n/***/ \"b338\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar internalObjectKeys = __webpack_require__(\"ead4\");\nvar enumBugKeys = __webpack_require__(\"18f6\");\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n\n\n/***/ }),\n\n/***/ \"b497\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $map = __webpack_require__(\"5dfd\").map;\nvar speciesConstructor = __webpack_require__(\"ef4c\");\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.map\nexportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {\n  return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {\n    return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);\n  });\n});\n\n\n/***/ }),\n\n/***/ \"b523\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar floor = Math.floor;\n\n// `%TypedArray%.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reverse\nexportTypedArrayMethod('reverse', function reverse() {\n  var that = this;\n  var length = aTypedArray(that).length;\n  var middle = floor(length / 2);\n  var index = 0;\n  var value;\n  while (index < middle) {\n    value = that[index];\n    that[index++] = that[--length];\n    that[length] = value;\n  } return that;\n});\n\n\n/***/ }),\n\n/***/ \"b60f\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof = __webpack_require__(\"2a91\");\nvar Iterators = __webpack_require__(\"9806\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n/***/ }),\n\n/***/ \"b6bc\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar createTypedArrayConstructor = __webpack_require__(\"26a2\");\n\n// `Float32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float32', function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n/***/ }),\n\n/***/ \"b702\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar NATIVE_WEAK_MAP = __webpack_require__(\"604f\");\nvar global = __webpack_require__(\"d890\");\nvar isObject = __webpack_require__(\"a719\");\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\nvar objectHas = __webpack_require__(\"faa8\");\nvar sharedKey = __webpack_require__(\"7db2\");\nvar hiddenKeys = __webpack_require__(\"d5a8\");\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\n\n/***/ }),\n\n/***/ \"c051\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toIndexedObject = __webpack_require__(\"da10\");\nvar nativeGetOwnPropertyNames = __webpack_require__(\"b338\").f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n\n\n/***/ }),\n\n/***/ \"c10f\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar requireObjectCoercible = __webpack_require__(\"2732\");\nvar whitespaces = __webpack_require__(\"fc8c\");\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n\n\n/***/ }),\n\n/***/ \"c3ba\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar exportTypedArrayMethod = __webpack_require__(\"5a9e\").exportTypedArrayMethod;\nvar fails = __webpack_require__(\"efe2\");\nvar global = __webpack_require__(\"d890\");\n\nvar Uint8Array = global.Uint8Array;\nvar Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};\nvar arrayToString = [].toString;\nvar arrayJoin = [].join;\n\nif (fails(function () { arrayToString.call({}); })) {\n  arrayToString = function toString() {\n    return arrayJoin.call(this);\n  };\n}\n\nvar IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;\n\n// `%TypedArray%.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tostring\nexportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);\n\n\n/***/ }),\n\n/***/ \"c4e4\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n\n\n/***/ }),\n\n/***/ \"c54b\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(\"efe2\");\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n\n\n/***/ }),\n\n/***/ \"c69d\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar has = __webpack_require__(\"faa8\");\nvar ownKeys = __webpack_require__(\"8d44\");\nvar getOwnPropertyDescriptorModule = __webpack_require__(\"aa6b\");\nvar definePropertyModule = __webpack_require__(\"d910\");\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n\n\n/***/ }),\n\n/***/ \"cbab\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar internalObjectKeys = __webpack_require__(\"ead4\");\nvar enumBugKeys = __webpack_require__(\"18f6\");\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n\n\n/***/ }),\n\n/***/ \"cfd1\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $indexOf = __webpack_require__(\"45af\").indexOf;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.indexof\nexportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {\n  return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ \"d104\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global = __webpack_require__(\"d890\");\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar ArrayIterators = __webpack_require__(\"a133\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar Uint8Array = global.Uint8Array;\nvar arrayValues = ArrayIterators.values;\nvar arrayKeys = ArrayIterators.keys;\nvar arrayEntries = ArrayIterators.entries;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar nativeTypedArrayIterator = Uint8Array && Uint8Array.prototype[ITERATOR];\n\nvar CORRECT_ITER_NAME = !!nativeTypedArrayIterator\n  && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);\n\nvar typedArrayValues = function values() {\n  return arrayValues.call(aTypedArray(this));\n};\n\n// `%TypedArray%.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.entries\nexportTypedArrayMethod('entries', function entries() {\n  return arrayEntries.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.keys\nexportTypedArrayMethod('keys', function keys() {\n  return arrayKeys.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.values\nexportTypedArrayMethod('values', typedArrayValues, !CORRECT_ITER_NAME);\n// `%TypedArray%.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype-@@iterator\nexportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);\n\n\n/***/ }),\n\n/***/ \"d1fd\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(\"a719\");\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n\n\n/***/ }),\n\n/***/ \"d5a8\":\n/***/ (function(module, exports) {\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ \"d77f\":\n/***/ (function(module, exports) {\n\nmodule.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n\n\n/***/ }),\n\n/***/ \"d7e1\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar fails = __webpack_require__(\"efe2\");\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n\n\n/***/ }),\n\n/***/ \"d838\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar createTypedArrayConstructor = __webpack_require__(\"26a2\");\n\n// `Uint32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint32', function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n/***/ }),\n\n/***/ \"d88d\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(\"3da3\");\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\n\n/***/ }),\n\n/***/ \"d890\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"9edd\")))\n\n/***/ }),\n\n/***/ \"d8fc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar fails = __webpack_require__(\"efe2\");\nvar objectKeys = __webpack_require__(\"cbab\");\nvar getOwnPropertySymbolsModule = __webpack_require__(\"0a60\");\nvar propertyIsEnumerableModule = __webpack_require__(\"ef71\");\nvar toObject = __webpack_require__(\"3553\");\nvar IndexedObject = __webpack_require__(\"692f\");\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n\n\n/***/ }),\n\n/***/ \"d910\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar IE8_DOM_DEFINE = __webpack_require__(\"2039\");\nvar anObject = __webpack_require__(\"857c\");\nvar toPrimitive = __webpack_require__(\"9f67\");\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n/***/ }),\n\n/***/ \"da10\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = __webpack_require__(\"692f\");\nvar requireObjectCoercible = __webpack_require__(\"2732\");\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n\n\n/***/ }),\n\n/***/ \"db0a\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $filter = __webpack_require__(\"5dfd\").filter;\nvar speciesConstructor = __webpack_require__(\"ef4c\");\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.filter\nexportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {\n  var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n});\n\n\n/***/ }),\n\n/***/ \"dbe8\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar definePropertyModule = __webpack_require__(\"d910\");\nvar anObject = __webpack_require__(\"857c\");\nvar objectKeys = __webpack_require__(\"cbab\");\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n\n\n/***/ }),\n\n/***/ \"e026\":\n/***/ (function(module, exports) {\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = 1 / 0;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\nvar pack = function (number, mantissaLength, bytes) {\n  var buffer = new Array(bytes);\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n  var index = 0;\n  var exponent, mantissa, c;\n  number = abs(number);\n  // eslint-disable-next-line no-self-compare\n  if (number != number || number === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    mantissa = number != number ? 1 : 0;\n    exponent = eMax;\n  } else {\n    exponent = floor(log(number) / LN2);\n    if (number * (c = pow(2, -exponent)) < 1) {\n      exponent--;\n      c *= 2;\n    }\n    if (exponent + eBias >= 1) {\n      number += rt / c;\n    } else {\n      number += rt * pow(2, 1 - eBias);\n    }\n    if (number * c >= 2) {\n      exponent++;\n      c /= 2;\n    }\n    if (exponent + eBias >= eMax) {\n      mantissa = 0;\n      exponent = eMax;\n    } else if (exponent + eBias >= 1) {\n      mantissa = (number * c - 1) * pow(2, mantissaLength);\n      exponent = exponent + eBias;\n    } else {\n      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n      exponent = 0;\n    }\n  }\n  for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n  exponent = exponent << mantissaLength | mantissa;\n  exponentLength += mantissaLength;\n  for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n  buffer[--index] |= sign * 128;\n  return buffer;\n};\n\nvar unpack = function (buffer, mantissaLength) {\n  var bytes = buffer.length;\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var nBits = exponentLength - 7;\n  var index = bytes - 1;\n  var sign = buffer[index--];\n  var exponent = sign & 127;\n  var mantissa;\n  sign >>= 7;\n  for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n  mantissa = exponent & (1 << -nBits) - 1;\n  exponent >>= -nBits;\n  nBits += mantissaLength;\n  for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n  if (exponent === 0) {\n    exponent = 1 - eBias;\n  } else if (exponent === eMax) {\n    return mantissa ? NaN : sign ? -Infinity : Infinity;\n  } else {\n    mantissa = mantissa + pow(2, mantissaLength);\n    exponent = exponent - eBias;\n  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n};\n\nmodule.exports = {\n  pack: pack,\n  unpack: unpack\n};\n\n\n/***/ }),\n\n/***/ \"e18c\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(\"47ae\");\nvar redefine = __webpack_require__(\"1944\");\nvar toString = __webpack_require__(\"52f9\");\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n\n\n/***/ }),\n\n/***/ \"e1d6\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(\"3da3\");\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n\n\n/***/ }),\n\n/***/ \"e349\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar aFunction = __webpack_require__(\"0c3c\");\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/***/ }),\n\n/***/ \"e35a\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(\"1c8b\");\nvar exec = __webpack_require__(\"5139\");\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n\n\n/***/ }),\n\n/***/ \"e4db\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"d890\");\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n\n\n/***/ }),\n\n/***/ \"e62b\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar bind = __webpack_require__(\"e349\");\nvar toObject = __webpack_require__(\"3553\");\nvar callWithSafeIterationClosing = __webpack_require__(\"69c5\");\nvar isArrayIteratorMethod = __webpack_require__(\"98a9\");\nvar toLength = __webpack_require__(\"d88d\");\nvar createProperty = __webpack_require__(\"1bbd\");\nvar getIteratorMethod = __webpack_require__(\"b60f\");\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n\n\n/***/ }),\n\n/***/ \"e671\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar toLength = __webpack_require__(\"d88d\");\nvar toOffset = __webpack_require__(\"7aeb\");\nvar toObject = __webpack_require__(\"3553\");\nvar fails = __webpack_require__(\"efe2\");\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = toLength(src.length);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n\n\n/***/ }),\n\n/***/ \"e8d6\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(\"efe2\");\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n\n\n/***/ }),\n\n/***/ \"ead4\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar has = __webpack_require__(\"faa8\");\nvar toIndexedObject = __webpack_require__(\"da10\");\nvar indexOf = __webpack_require__(\"45af\").indexOf;\nvar hiddenKeys = __webpack_require__(\"d5a8\");\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n/***/ }),\n\n/***/ \"eec6\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(\"efe2\");\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n\n\n/***/ }),\n\n/***/ \"ef4c\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(\"857c\");\nvar aFunction = __webpack_require__(\"0c3c\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n\n\n/***/ }),\n\n/***/ \"ef71\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n\n\n/***/ }),\n\n/***/ \"efe2\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n\n/***/ }),\n\n/***/ \"f09c\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(\"1c8b\");\nvar assign = __webpack_require__(\"d8fc\");\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n\n\n/***/ }),\n\n/***/ \"f30b\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $includes = __webpack_require__(\"45af\").includes;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.includes\nexportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {\n  return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ \"f3dd\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(\"1c8b\");\nvar global = __webpack_require__(\"d890\");\nvar getBuiltIn = __webpack_require__(\"6d7a\");\nvar IS_PURE = __webpack_require__(\"9b9d\");\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar NATIVE_SYMBOL = __webpack_require__(\"c54b\");\nvar USE_SYMBOL_AS_UID = __webpack_require__(\"74cb\");\nvar fails = __webpack_require__(\"efe2\");\nvar has = __webpack_require__(\"faa8\");\nvar isArray = __webpack_require__(\"74e7\");\nvar isObject = __webpack_require__(\"a719\");\nvar anObject = __webpack_require__(\"857c\");\nvar toObject = __webpack_require__(\"3553\");\nvar toIndexedObject = __webpack_require__(\"da10\");\nvar toPrimitive = __webpack_require__(\"9f67\");\nvar createPropertyDescriptor = __webpack_require__(\"38b9\");\nvar nativeObjectCreate = __webpack_require__(\"6d60\");\nvar objectKeys = __webpack_require__(\"cbab\");\nvar getOwnPropertyNamesModule = __webpack_require__(\"b338\");\nvar getOwnPropertyNamesExternal = __webpack_require__(\"c051\");\nvar getOwnPropertySymbolsModule = __webpack_require__(\"0a60\");\nvar getOwnPropertyDescriptorModule = __webpack_require__(\"aa6b\");\nvar definePropertyModule = __webpack_require__(\"d910\");\nvar propertyIsEnumerableModule = __webpack_require__(\"ef71\");\nvar createNonEnumerableProperty = __webpack_require__(\"0fc1\");\nvar redefine = __webpack_require__(\"1944\");\nvar shared = __webpack_require__(\"6d28\");\nvar sharedKey = __webpack_require__(\"7db2\");\nvar hiddenKeys = __webpack_require__(\"d5a8\");\nvar uid = __webpack_require__(\"7e8b\");\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\nvar wrappedWellKnownSymbolModule = __webpack_require__(\"4350\");\nvar defineWellKnownSymbol = __webpack_require__(\"6d51\");\nvar setToStringTag = __webpack_require__(\"27b5\");\nvar InternalStateModule = __webpack_require__(\"b702\");\nvar $forEach = __webpack_require__(\"5dfd\").forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n\n\n/***/ }),\n\n/***/ \"f471\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(\"90fb\");\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n\n\n/***/ }),\n\n/***/ \"f594\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"d890\");\nvar userAgent = __webpack_require__(\"4fda\");\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n\n\n/***/ }),\n\n/***/ \"f62c\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(\"3da3\");\nvar requireObjectCoercible = __webpack_require__(\"2732\");\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n\n\n/***/ }),\n\n/***/ \"f74a\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $join = [].join;\n\n// `%TypedArray%.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.join\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('join', function join(separator) {\n  return $join.apply(aTypedArray(this), arguments);\n});\n\n\n/***/ }),\n\n/***/ \"fa41\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toObject = __webpack_require__(\"3553\");\nvar toAbsoluteIndex = __webpack_require__(\"e1d6\");\nvar toLength = __webpack_require__(\"d88d\");\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n\n\n/***/ }),\n\n/***/ \"faa8\":\n/***/ (function(module, exports) {\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n/***/ }),\n\n/***/ \"fc6e\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(\"5a9e\");\nvar $forEach = __webpack_require__(\"5dfd\").forEach;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.foreach\nexportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {\n  $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ \"fc8c\":\n/***/ (function(module, exports) {\n\n// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n\n/***/ }),\n\n/***/ \"fe59\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(\"1c8b\");\nvar forEach = __webpack_require__(\"3c10\");\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n\n\n/***/ }),\n\n/***/ \"ff9c\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(\"1e2c\");\nvar fails = __webpack_require__(\"efe2\");\nvar has = __webpack_require__(\"faa8\");\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=vue-3d-model.umd.js.map","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n"],"sourceRoot":""}