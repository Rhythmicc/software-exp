(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f3e2afc"],{a55b:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"loginForm",staticClass:"loginContainer",attrs:{rules:e.rules,"element-loading-text":"正在登录...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",model:e.loginForm}},[i("h3",{staticClass:"loginTitle"},[e._v("系统登录")]),i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{size:"normal",type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),i("el-form-item",{attrs:{prop:"code"}},[i("el-input",{staticStyle:{width:"250px"},attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"点击图片更换验证码"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}}),i("img",{staticStyle:{cursor:"pointer"},attrs:{src:e.vcUrl,alt:""},on:{click:e.updateVerifyCode}})],1),i("el-checkbox",{staticClass:"loginRemember",attrs:{size:"normal"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("el-button",{staticStyle:{width:"100%"},attrs:{size:"normal",type:"primary"},on:{click:e.submitLogin}},[e._v("登录")]),i("el-button",{staticStyle:{width:"100%"},attrs:{size:"normal",type:"primary"},on:{click:e.showAddHrView}},[e._v("注册")])],1)],1),i("el-dialog",{attrs:{title:"注册用户",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",[i("el-form",{ref:"empForm",attrs:{model:e.hr,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入用户名"},model:{value:e.hr.name,callback:function(t){e.$set(e.hr,"name",t)},expression:"hr.name"}})],1)],1),i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"手机号:",prop:"phone"}},[i("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入手机号"},model:{value:e.hr.phone,callback:function(t){e.$set(e.hr,"phone",t)},expression:"hr.phone"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"电话:",prop:"telephone"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入电话号码"},model:{value:e.hr.telephone,callback:function(t){e.$set(e.hr,"telephone",t)},expression:"hr.telephone"}})],1)],1),i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"联系地址:",prop:"address"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入联系地址"},model:{value:e.hr.address,callback:function(t){e.$set(e.hr,"address",t)},expression:"hr.address"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"登录用户名:",prop:"username"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入该用户登录用户名"},model:{value:e.hr.username,callback:function(t){e.$set(e.hr,"username",t)},expression:"hr.username"}})],1)],1),i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"登录密码:",prop:"password"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入该用户登陆密码"},model:{value:e.hr.password,callback:function(t){e.$set(e.hr,"password",t)},expression:"hr.password"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"图片:",prop:"userface"}},[i("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入图片 url"},model:{value:e.hr.userface,callback:function(t){e.$set(e.hr,"userface",t)},expression:"hr.userface"}})],1)],1),i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"备注:",prop:"remark"}},[i("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入备注"},model:{value:e.hr.remark,callback:function(t){e.$set(e.hr,"remark",t)},expression:"hr.remark"}})],1)],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.doAddHr}},[e._v("确定")])],1)])],1)},o=[],l=(i("a481"),{name:"Login",data:function(){return{loading:!1,vcUrl:"/api/verifyCode?time="+new Date,loginForm:{username:"",password:"",code:""},hr:{name:"",phone:"",telephone:"",address:"",enabled:0,username:"",password:"",userface:"",remark:""},dialogVisible:!1,checked:!0,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:{updateVerifyCode:function(){this.vcUrl="/api/verifyCode?time="+new Date},submitLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.loading=!0,e.postRequest("/doLogin",e.loginForm).then((function(t){if(e.loading=!1,t){e.$store.commit("INIT_CURRENTHR",t.obj),window.sessionStorage.setItem("user",JSON.stringify(t.obj));var i=e.$route.query.redirect;e.$router.replace("/"==i||void 0==i?"/home":i)}else e.vcUrl="/api/verifyCode?time="+new Date}))}))},showAddHrView:function(){this.dialogVisible=!0},doAddHr:function(){var e=this;this.hr.id?this.$refs["empForm"].validate((function(t){t&&e.putRequest("/system/hr/",e.hr).then((function(t){t&&(e.dialogVisible=!1,e.initHrs())}))})):this.$refs["empForm"].validate((function(t){t&&(e.hr.enabled=0,e.postRequest("/system/hr/",e.hr).then((function(t){t&&(e.dialogVisible=!1,e.initHrs())})))}))}}}),a=l,s=(i("d6db"),i("2877")),n=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=n.exports},a9e7:function(e,t,i){},d6db:function(e,t,i){"use strict";var r=i("a9e7"),o=i.n(r);o.a}}]);
//# sourceMappingURL=chunk-9f3e2afc.138b415a.js.map